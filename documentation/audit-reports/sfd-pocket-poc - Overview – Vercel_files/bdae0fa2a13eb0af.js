;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="ebb25662-bcee-17f1-6da4-61afc1fbbc8c")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6287020,e=>{e.q("/_next/static/media/worker.1c70e3c7.ts")},2686817,e=>{"use strict";e.s(["swrRequest",0,function(e){return e}])},5044530,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 8C14.5 11.5899 11.5899 14.5 8 14.5C4.41015 14.5 1.5 11.5899 1.5 8C1.5 4.41015 4.41015 1.5 8 1.5C11.5899 1.5 14.5 4.41015 14.5 8ZM16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM10.5 5.5H5.5V10.5H10.5V5.5Z" fill="currentColor"/>');e.s(["StopCircle",0,t])},4240811,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM7.53033 4.71967L7 4.18934L5.93934 5.25L6.46967 5.78033L8.68934 8L6.46967 10.2197L5.93934 10.75L7 11.8107L7.53033 11.2803L10.1036 8.70711C10.4941 8.31658 10.4941 7.68342 10.1036 7.29289L7.53033 4.71967Z" fill="currentColor"/>');e.s(["ChevronCircleRightFill",0,t])},6439983,e=>{"use strict";var t=e.i(9171423),r=e.i(8042625),a=e.i(1903235);let n=async(e,t,r)=>{let n=(0,a.getPermutationKey)(e);if(t.knownPermutations.has(n))return;t.knownPermutations.add(n),t.pendingPermutations.add(n);let{string:i,type:o}=e;try{await s[o](i,t,r)}catch(e){t.knownPermutations.delete(n),console.log(e)}finally{t.pendingPermutations.delete(n),r()}},s={account:async(e,t)=>{},team:async(e,t)=>{},project:async(e,n,s)=>{if(!(await Promise.allSettled([(0,t.fetchApi)(`/api/v2/dashboard/projects${(0,r.encode)({search:e,teamId:n.params.team,limit:10})}`,{throwOnHTTPError:!0}).then(e=>{if(!e||"object"!=typeof e)throw Error("Invalid projects API response");for(let t of e.projects||[])(0,a.addProject)(n,t);s()}),(0,t.fetchApi)(`/api/dashboard/find/projects${(0,r.encode)({query:e,limit:10})}`,{throwOnHTTPError:!0}).then(e=>{if(!e||"object"!=typeof e)throw Error("Invalid projects API response");for(let t of e.projects)(0,a.addProject)(n,t);s()})])).some(e=>"fulfilled"===e.status))throw Error("Failed to fetch projects")},deployment:async(e,a)=>{let n=await (0,t.fetchApi)(`/api/v1/dashboard/find/branches${(0,r.encode)({query:e,teamId:a.params.team})}`,{throwOnHTTPError:!0});if(!n||"object"!=typeof n)throw Error("Invalid projects API response");for(let e of n.branches){let t=e.project.deployment.status;if("CANCELED"===t)continue;let r=a.projects.get(e.project.id)?.name;if(!r)continue;let n=e.project.deployment.id.replace("dpl_","");a.deployments.set(n,{id:n,readyState:t,meta:{githubDeployment:"1",gitCommitRef:e.branch},createdAt:0,url:"",aliasAssigned:!0}),a.activeBranches.set(`${e.project.id}_${e.branch}`,{projectId:e.project.id,project:r,branch:e.branch,deployment:n})}}};e.s(["fetchParamPermutation",0,n])},7254823,e=>{"use strict";var t=e.i(2144405),r=e.i(4205214),a=e.i(8660982),n=e.i(9722978),s=e.i(9689002),i=e.i(8735244),o=e.i(2331152),l=e.i(5044530),c=e.i(7874227),d=e.i(8866156),u=e.i(1853611),p=e.i(7780974);let m="find-bar-activated";function h(e){let{variant:c="header"}=e,{isOpen:h,toggle:f,open:g,prompt:v}=(0,d.useFind)(),y=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=e=>{let r=e.metaKey||e.ctrlKey;if("true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH&&r&&"k"===e.key.toLowerCase())e.preventDefault(),e.stopPropagation(),h||u.analytics.track(p.VercelActivityAction.FindModalOpened,{via:"keyboard"},{send_to:{data_warehouse_legacy:!0}}),f(y.current);else{let t;r||"f"!==e.key.toLowerCase()||(t=document.activeElement)&&("INPUT"===t.tagName||"TEXTAREA"===t.tagName||"VERCEL-LIVE-FEEDBACK"===t.tagName||t.getAttribute("contenteditable"))||(window.dispatchEvent(new CustomEvent(m)),e.preventDefault(),e.stopPropagation(),h||u.analytics.track(p.VercelActivityAction.FindModalOpened,{via:"keyboard"},{send_to:{data_warehouse_legacy:!0}}),g(y.current))}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[g,f,h]),(0,r.jsxs)("button",{className:(0,n.clsx)("relative z-[calc(var(--header-zindex)_+_1)] cursor-pointer overflow-visible border-0 bg-transparent p-0 [webkit-tap-highlight-color:transparent] focus-visible:outline-focus focus-visible:outline-2 focus-visible:outline-offset-[3px] rounded-full md:rounded","header"===c&&"mr-px size-[30px] md:m-0 md:h-8 md:w-40 xl:w-48","sidebar"===c&&"h-9 w-full",!v.cancel&&"md:cursor-text",!h&&"pointer-events-auto",h&&"invisible"),onClick:()=>{v.cancel?v.cancel():(h||u.analytics.track(p.VercelActivityAction.FindModalOpened,{via:"pointer"},{send_to:{data_warehouse_legacy:!0}}),g(y.current))},ref:y,type:"button",children:[(0,r.jsx)("span",{className:"absolute inset-0 origin-top-left rounded-full border-none bg-background-100 outline outline-1 outline-gray-alpha-300 md:rounded","data-bg-layer":!0}),(0,r.jsxs)("span",{className:"relative flex flex-row items-center",children:[(0,r.jsx)("span",{className:(0,n.clsx)("grid place-content-center text-gray-1000 md:text-gray-900","header"===c&&"size-[30px] md:size-8","sidebar"===c&&"size-9 pl-1"),"data-search-icon":!0,children:"idle"===v.status?(0,r.jsx)(o.MagnifyingGlass,{}):(0,r.jsx)(i.Spinner,{})}),(0,r.jsx)("span",{className:(0,n.clsx)("text-copy-14 hidden flex-1 text-left text-gray-800 md:flex","sidebar"===c&&"pl-0.5"),"data-placeholder":!0,children:"idle"===v.status?"Find…":"thinking"===v.status?"Thinking…":"Navigating…"},v.status),(0,r.jsx)("span",{className:(0,n.clsx)("hidden place-content-center pointer-coarse:hidden md:grid","header"===c&&"size-8","sidebar"===c&&"size-9"),children:"idle"===v.status?(0,r.jsx)(s.Kbd,{className:"!m-0",small:!0,children:"F"}):(0,r.jsx)(l.StopCircle,{color:"gray-900"})})]})]})}function f(e){let{variant:t="header"}=e;return(0,r.jsxs)("button",{className:(0,n.clsx)("relative z-[calc(var(--header-zindex)_+_1)] cursor-pointer overflow-visible border-0 bg-transparent p-0 [webkit-tap-highlight-color:transparent]","header"===t&&"mr-px size-[30px] md:m-0 md:h-8 md:w-40 xl:w-48","sidebar"===t&&"h-9 w-full","md:cursor-text"),disabled:!0,type:"button",children:[(0,r.jsx)("span",{className:"absolute inset-0 origin-top-left rounded-full border-none bg-background-100 outline outline-1 outline-gray-alpha-300 md:rounded","data-bg-layer":!0}),(0,r.jsxs)("span",{className:"relative flex flex-row items-center",children:[(0,r.jsx)("span",{className:(0,n.clsx)("grid place-content-center text-gray-1000 md:text-gray-900","header"===t&&"size-[30px] md:size-8","sidebar"===t&&"size-9 pl-1"),"data-search-icon":!0,children:(0,r.jsx)(o.MagnifyingGlass,{})}),(0,r.jsx)("span",{className:(0,n.clsx)("text-copy-14 hidden flex-1 text-left text-gray-800 md:flex","sidebar"===t&&"pl-0.5"),"data-placeholder":!0,children:"Find…"}),(0,r.jsx)("span",{className:(0,n.clsx)("hidden place-content-center pointer-coarse:hidden md:grid","header"===t&&"size-8","sidebar"===t&&"size-9"),children:(0,r.jsx)(s.Kbd,{className:"!m-0",small:!0,children:"F"})})]})]})}function g(){let{prompt:e}=(0,d.useFind)();return"thinking"===e.status?(0,r.jsx)(c.Portal,{children:(0,r.jsx)("div",{className:"pointer-events-none fixed inset-x-0 top-0 z-[calc(var(--header-zindex)_+_1)] overflow-hidden",style:{height:32},children:(0,r.jsx)("div",{className:"absolute bottom-0 left-1/2 w-full -translate-x-1/2",style:{height:32},children:(0,r.jsx)("div",{className:"absolute inset-0 bg-background-100",style:{mask:"radial-gradient(ellipse at 50% -20%, #000 16%, transparent 72%)"},children:(0,r.jsx)("div",{className:"absolute inset-0 overflow-hidden",children:(0,r.jsx)("div",{className:"pointer-events-none absolute -inset-2.5 overflow-hidden text-white blur-2xl invert transition-opacity duration-500 dark:text-black dark:opacity-70 dark:invert-0",style:{transform:"translate3d(0, 0, 0)","--background-color":"var(--ds-background-200)","--duration":"23s","--gaps":"repeating-linear-gradient(110deg, var(--background-color) 0%, var(--background-color) 7%, transparent 10%, transparent 12%, var(--background-color) 19%)","--lights":"repeating-linear-gradient(110deg, var(--ds-teal-500) 10%, var(--ds-blue-700) 15%, var(--ds-purple-700) 20%, var(--ds-pink-700) 25%, var(--ds-amber-700) 30%)",backgroundImage:"var(--gaps), var(--lights)",backgroundSize:"120%, 200%",backgroundPosition:"50% 50%, 50% 50%"},children:(0,r.jsx)("div",{className:"absolute h-full w-[300%] mix-blend-difference motion-safe:animate-northern-lights",style:{backgroundImage:"var(--gaps), var(--lights)",backgroundSize:"100%, 100%",backgroundPosition:"50% 50%"}})})})})})})}):null}e.s(["EVENT_FIND_OPENED_VIA_F",0,m,"FindBar",0,function(e){let{variant:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g,{}),(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)(f,{variant:t}),children:(0,r.jsx)(h,{variant:t})})]})}])},2938727,e=>{e.v(e.b("static/chunks/turbopack-worker-ecabe0a0b8630497.js",["static/chunks/2d7c915281c0bdf6.js","static/chunks/turbopack-3d46a14c838e0181.js"],!1))},4577993,e=>{"use strict";var t=e.i(2144405),r=e.i(4205214),a=e.i(8660982),n=e.i(5677444),s=e.i(6143247),i=e.i(57106),o=e.i(4394511),l=e.i(8866156),c=e.i(7420728),d=e.i(3181399),u=e.i(6439983),p=e.i(4585051),m=e.i(9689002),h=e.i(8735244),f=e.i(8216525),g=e.i(1438473),v=e.i(2331152),y=e.i(2259462),b=e.i(2712781),j=e.i(6942035),w=e.i(4240811),x=e.i(2720056),E=e.i(2695633),k=e.i(1903235);let S="find:recent-selections",N=()=>{try{let e=JSON.parse(localStorage.getItem(S)||"[]");if(!Array.isArray(e))throw Error("Recent selections must be an array");return e}catch(e){return[]}},P=e=>{let t=N();if(!e)return t;let r=[e,...t.filter(t=>t.href!==e.href)];return r.splice(10),localStorage.setItem(S,JSON.stringify(r)),r},A=e=>{if("dash"!==e.type)return!1;let t=e.page.type;return"account"===t||"team"===t||"project"===t},C=e=>"dash"!==e.type?null:{route:e.page.route,params:e.params,search:e.search,hash:e.hash,href:e.href,timestamp:Date.now()};var L=e.i(8042625);let T=(e,t)=>{let r=(0,k.detectScopeType)(e.route);if("unknown"===r)throw Error(`Unknown scope type for route: ${e.route}`);let a={type:r,search:"",hash:"",...e};return{type:"dash",score:0,page:a,params:t,href:(0,k.createHref)(a,t)}},R=e=>({type:"prompt",score:0,href:`prompt:${e}`,query:e}),_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;for(let r=t;r--;)e.sort(()=>Math.sign(Math.random()-.5));return e},I=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,r=new Set,a=[],n=0,s=0;for(let i=0;;++i){let o=i%e.length,l=e[o].shift();if(!l){if(++s===e.length)break;continue}let c=a[o];if(c||(c=[],a[o]=c),s=0,r.has(l.href)){--i;continue}if(r.add(l.href),c.push(l),++n===t)break}return a.flat()};var M=e.i(8213147),$=e.i(1853611),D=e.i(7780974),F=e.i(8977282);function q(i){let{variant:c="header"}=i,{open:d}=(0,M.useNavDocs)(),{close:p,refresh:f,refreshRef:g,memoryRef:y,fromRef:b,modalRef:w,prompt:x}=(0,l.useFind)(),E=(0,a.useMemo)(()=>{if("sidebar"===c)return"4px";let e=b.current;if(!e)return"32px";let t=Math.max(32,16+window.innerWidth-384-e.getBoundingClientRect().left);return`${Math.round(t)}px`},[b,c]),q=(()=>{let[e,t]=(0,a.useState)(N);return(0,a.useEffect)(()=>{let e=e=>{e.key===S&&(0,a.startTransition)(()=>{t(N())})};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]),e})(),B=(0,a.useMemo)(()=>{var e;let t,r,a;return I((a=e=y.current,[(()=>{let e=N(),t=[];for(let r of e)t.push(T({route:r.route,search:r.search?(0,L.encode)(r.search):"",hash:r.hash||""},r.params));return t})(),(e=>{let t=[];e:for(let r of e.recentPreviews)for(let a of r.previews){if(e.params.project&&a.project!==e.params.project)continue;let r=T({route:"/[teamSlug]/[project]/[id]"},{team:e.params.team,project:a.project,id:a.deployment});if(6===t.push(r))break e}return t})(e),(e=>{let t=[];{let r=e.frecency.scopes.find(e=>!e.includes("/")),a="";e.params.team&&"/[teamSlug]"!==e.route?a=e.params.team:r&&(a=r);let n=e.frecency.scopes.find(e=>e.includes("/")),s="",i="";for(let r of(e.params.project?(s=e.params.project,i=e.params.team||a):n&&([i,s]=n.split("/")),e.frecency.routes)){let n;if(r in e.routes){if(r.startsWith("/[teamSlug]/[project]")){if(!s)continue;n={team:i,project:s}}else{if(!a)continue;n={team:a}}t.push(T({route:r},n))}}}if(e.params.project)"/[teamSlug]/[project]"!==e.route?t.push(T({route:"/[teamSlug]/[project]"},{team:e.params.team,project:e.params.project})):t.push(T({route:"/[teamSlug]/[project]/deployments"},{team:e.params.team,project:e.params.project}));else for(let[r]of Array.from(e.projectWeights.entries()).sort((e,t)=>t[1]-e[1])){let a=e.projects.get(r);if(!a||a.owner!==e.params.team)continue;let n=T({route:"/[teamSlug]/[project]"},{team:e.params.team,project:a.name});if(6===t.push(n))break}return e.params.team&&"/[teamSlug]"!==e.route&&t.push(T({route:"/[teamSlug]"},{team:e.params.team})),t})(e),(e=>{let t=[];for(let[r,a]of Object.entries(e.routes)){let n={},s=(0,k.detectScopeType)(r);if("project"===s){if(!e.params.project)continue;n.project=e.params.project,n.team=e.params.team}else if("team"===s){if(!e.params.team)continue;n.team=e.params.team}else if("account"!==s)continue;for(let[e,s]of(a.promote&&t.push(T({route:r},n)),Object.entries(a.search||{})))s.promote&&t.push(T({route:r,search:e},n));for(let[n,s]of Object.entries(a.hash||{}))s.promote&&t.push(T({route:r,hash:n},e.params))}return _(t)})(e),(t=e.routes[e.route],!(r=t?.docs)?[]:[{type:"docs",title:t.label,href:`/docs${r}`,score:0}]),(e=>{let t=[],{project:r,team:a}=e.params;if(a){let a=new Set,n=new Set;for(let t of(r&&(a.add(r),n.add(""),n.add(r)),e.recentPreviews))for(let e of t.previews)a.add(e.project),n.add(e.project);for(let[t,r]of e.projectWeights){if(r<1.1)continue;let s=e.projects.get(t)?.name;s&&(a.add(s),n.add(s))}for(let e of n)t.push(`${e} visitors this week`.trim(),`${e} bounce rate last week`.trim(),`failed requests${e?` on ${e}`:""}`,`finished builds${e?` for ${e}`:""}`,`How do I add another domain${e?` to ${e}`:""}`,`${e} production deployments`.trim(),`${e} visits this morning`.trim()),e&&t.push(`${e} usage`);r&&t.push("how do I set up oidc?","how do I turn on fluid compute?"),t.push("successful production deployments","failing production deployments","queued production deployments","what did we deploy today?","how do I add a domain?")}else t.push("What teams am I on?");return _(t).slice(0,1).map(R)})(e)].map(e=>e.filter(e=>e.href!==a.href))))},[y]),O=(0,a.useMemo)(()=>Array.from(new Set([...q.map(e=>e.href),...B.map(e=>e.href)])),[q,B]),[U,V]=(0,a.useState)([]),[X,K]=(0,a.useState)(0),W=(0,a.useRef)(X);W.current=X;let H=(0,a.useRef)(0),G=(0,a.useRef)(0),Z=(0,a.useRef)(void 0);(0,a.useEffect)(()=>{let t,r=new Worker(e.r(2938727));Z.current=r;let a="";return r.addEventListener("message",e=>{let r=e.data;if(r.requestId<G.current)return;G.current=r.requestId;let{results:n,permutations:s}=r,i=n;if(a===r.query&&t){i=t.slice();let e=t.filter((e,t)=>t!==W.current&&!n.some(t=>t.href===e.href)),r=n.filter(e=>!t?.some(t=>t.href===e.href));for(let a=0;a<n.length;++a){let n=t[a];if(!n||e.includes(n)){let e=r.shift();if(!e)break;i[a]=e}}}a=r.query,t=i,V(i);let o=()=>{for(let e of s)(0,u.fetchParamPermutation)(e,y.current,f)};(0,k.normalizeParam)(String(r.query.at(-1))).length?J.current=setTimeout(o,250):o()}),()=>{Z.current?.terminate(),Z.current=void 0}},[y,f]),(0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&p()},t=!1,r=e=>{t=!w.current?.contains(e.target)},a=e=>{if(e.metaKey||e.ctrlKey||e.button)return;let r=e.target;if(!w.current?.contains(r)){t&&setTimeout(()=>p());return}r.closest("a[href],button")&&setTimeout(()=>p())};return window.addEventListener("keydown",e),window.addEventListener("pointerdown",r,!0),window.addEventListener("click",a,!0),()=>{window.removeEventListener("keydown",e),window.removeEventListener("pointerdown",r,!0),window.removeEventListener("click",a,!0)}},[p,w]);let J=(0,a.useRef)(0),Y=(0,a.useCallback)(e=>{let t=e.target.value;if(!t.trim()){g.current=void 0,G.current=++H.current,V([]);return}clearTimeout(J.current),g.current=()=>{let e={requestId:++H.current,query:t,priorityHrefs:O,memory:y.current};Z.current?.postMessage(e)},f(),K(0)},[y,O,g,f]),Q=(0,o.useOnNavigate)(),ee=(0,n.useRouter)();(0,a.useEffect)(()=>{let e=!1,t=-1,r=()=>{e=!0,-1!==t&&(K(t),t=-1)},a=r=>{let a=r.target;if(!w.current?.contains(a))return;let n=a.closest("a[href],button");if(!n)return;let s=Number(n.dataset.index||-1);-1===s||X!==s&&(e?(K(s),e=!1):t=s)},n=e=>{let{key:t}=e;if("Enter"===t){e.preventDefault(),e.stopPropagation();let t=(U.length?U:B)[X];$.analytics.track(D.VercelActivityAction.FindModalResultSelected,{resultType:t.type,route:"dash"===t.type?t.page.route:void 0,via:"keyboard"},{send_to:{data_warehouse_legacy:!0}}),"prompt"===t.type?x.start(t.query):"docs"===t.type&&window.innerWidth>=960?d(t.href):("dash"===t.type&&t.params.team&&(0,F.setScope)(t.params.team),Q(t.href),ee.push(t.href),A(t)&&P(C(t))),p();return}let r=Number("ArrowDown"===t)-Number("ArrowUp"===t);r&&(e.preventDefault(),e.stopPropagation(),K(Math.max(0,Math.min(X+r,(U.length||B.length)-1))))};return window.addEventListener("pointermove",r),window.addEventListener("pointerover",a),window.addEventListener("keydown",n),()=>{window.removeEventListener("pointermove",r),window.removeEventListener("pointerover",a),window.removeEventListener("keydown",n)}},[ee,p,U,B,X,w,x,d,Q]),(0,a.useEffect)(()=>()=>{g.current=void 0},[g]),(0,a.useLayoutEffect)(()=>{if(window.innerWidth<=600||matchMedia("(prefers-reduced-motion: reduce)").matches)return;let e=b.current,t=w.current;if(e&&t){let r,a,n,s;(r=t.closest("[data-backdrop]"))&&r.animate([{backgroundColor:"transparent"},{}],{duration:300,easing:"ease"}),(()=>{let r=e.querySelector("[data-search-icon] > *"),a=t.querySelector("[data-search-icon] > *");if(!r||!a||a.getAnimations().length)return;let n=r.getBoundingClientRect(),s=a.getBoundingClientRect();a.animate([{transform:`translateX(${n.left-s.left}px)`},{transform:"none"}],{duration:150,easing:"ease"})})(),(()=>{let r=t.querySelector("[data-bg-layer]");if(!r||r.getAnimations().length)return;let a=e.getBoundingClientRect(),n=r.getBoundingClientRect();r.animate([{transform:`translate(${a.left-n.left}px,${a.top-n.top}px) scale(${a.width/n.width},${a.height/n.height})`},{transform:"none"}],{duration:150,easing:"ease"})})(),(()=>{let r=e.querySelector("[data-placeholder]"),a=t.querySelector("input");if(!r||!a||a.getAnimations().length)return;let n=r.getBoundingClientRect(),s=a.getBoundingClientRect();a.animate([{transform:`translateX(${n.left-s.left}px)`},{transform:"none"}],{duration:150,easing:"ease"})})(),(a=t.querySelector("label"))&&!a.getAnimations().length&&a.animate([{borderBottomColor:"transparent"},{}],{delay:50,duration:250,easing:"ease",fill:"backwards"}),(n=t.querySelector("[data-results-list]"))&&!n.getAnimations().length&&n.animate([{opacity:"0"},{}],{delay:50,duration:250,easing:"ease",fill:"backwards"}),(s=t.querySelector("kbd"))&&!s.getAnimations().length&&s.animate([{opacity:"0",transform:"translateX(-20%) scale(0.95)"},{}],{delay:50,duration:250,easing:"ease",fill:"backwards"})}},[b,w]);let et=!!(U.length&&y.current.pendingPermutations.size);return(0,r.jsx)("div",{className:(0,s.cn)("fixed inset-0 z-[10000]","true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH?"bg-background-100 md:bg-background-100/60":"bg-background-100/60"),"data-backdrop":!0,children:(0,r.jsx)("div",{className:(0,s.cn)("fixed inset-0 flex flex-col items-center justify-start","header"===c&&"md:items-end md:pr-[var(--x-offset)] md:pt-2","sidebar"===c&&"md:items-start md:pl-[var(--x-offset)] md:pt-[calc(var(--navbar-height)-6px)]"),style:{"--x-offset":E},children:(0,r.jsx)("div",{className:(0,s.cn)("h-screen w-screen md:h-[384px] md:max-w-96 md:p-0","true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH?"p-0":"p-2"),children:(0,r.jsxs)("div",{className:"relative flex flex-col",ref:w,children:[(0,r.jsx)("div",{className:(0,s.cn)("absolute -inset-px origin-top-left","true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH?"md:material-modal":"material-modal"),"data-bg-layer":!0}),(0,r.jsxs)("label",{className:(0,s.cn)("relative flex flex-row items-center border-0 border-b border-solid border-gray-300"),children:[(0,r.jsx)("div",{className:"grid size-12 place-content-center","data-search-icon":!0,children:(0,r.jsx)(v.MagnifyingGlass,{color:"gray-900"})}),(0,r.jsx)("input",{className:"text-copy-14 h-12 flex-1 border-0 border-none bg-transparent py-4 pl-0 pr-4 outline-none",onChange:Y,placeholder:"Find…",ref:e=>{e?.focus()},width:"100%"}),(0,r.jsx)("button",{"aria-label":"Close",className:"grid size-12 cursor-pointer place-content-center border-none bg-transparent outline-none",onClick:()=>p(),type:"button",children:et?(0,r.jsx)(h.Spinner,{className:"animate-partial-fade-in"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Kbd,{className:"!ml-0 mr-1.5 pointer-coarse:hidden",small:!0,children:"Esc"}),(0,r.jsx)(j.Cross,{className:"pointer-fine:hidden",color:"gray-900"})]})})]}),(0,r.jsx)("div",{className:"relative h-[18.5rem] overflow-y-auto overflow-x-clip md:overflow-y-clip","data-results-list":!0,children:(0,r.jsxs)("div",{className:"flex flex-col p-1",children:[(U.length?U:B).map((e,t)=>(0,r.jsx)(z,{index:t,result:e,memory:y.current},e.href)),(0,r.jsx)("div",{className:"pointer-events-none absolute inset-x-1 top-1 h-12 rounded bg-gray-alpha-100",style:{transform:`translateY(${3*X}rem)`,transition:"transform 0.1s ease"}})]})})]})})})})}function z(e){let{index:t,memory:a,result:n}=e,{label:s,icon:i,prefix:o,avatar:l}=V(n,a),c=X(n,a);return(0,r.jsxs)(B,{className:"flex h-12 flex-none flex-row items-center rounded p-0 active:bg-gray-100",index:t,result:n,children:[(0,r.jsx)("span",{"aria-hidden":!0,className:"grid size-11 flex-none place-content-center",children:(0,r.jsxs)("div",{className:"relative",children:[o||(0,r.jsx)(i,{color:"gray-900"}),l?(0,r.jsx)("div",{className:"absolute left-full top-full -ml-2 -mt-2 grid size-auto place-content-center rounded-full bg-background-100 p-0.5",children:l}):null]})}),(0,r.jsxs)("div",{className:"flex flex-1 select-none flex-col overflow-hidden pr-2",children:[(0,r.jsx)("div",{className:"text-label-13 h-4 truncate",children:(0,r.jsx)("strong",{children:s})}),(0,r.jsx)("div",{className:"text-label-13 h-4 truncate text-gray-900",children:c})]})]})}function B(e){let{className:t,index:a,result:n,children:s}=e;return"prompt"===n.type?(0,r.jsx)(U,{className:t,index:a,result:n,children:s}):(0,r.jsx)(O,{className:t,index:a,result:n,children:s})}function O(e){let{className:t,index:n,result:s,children:o}=e,{open:l}=(0,M.useNavDocs)(),c="dash"===s.type?s.page.route:void 0,d=(0,a.useCallback)(e=>{$.analytics.track(D.VercelActivityAction.FindModalResultSelected,{resultType:s.type,route:c,via:"pointer"},{send_to:{data_warehouse_legacy:!0}}),A(s)&&P(C(s)),"dash"===s.type&&s.params.team&&(0,F.setScope)(s.params.team),"docs"!==s.type||e.button||e.ctrlKey||e.metaKey||window.innerWidth<960||(l(s.href),e.preventDefault())},[l,s,c]);return(0,r.jsx)(i.Link,{className:t,"data-index":n,href:s.href,onClick:d,tab:"docs"===s.type,children:o})}function U(e){let{className:t,index:n,result:i,children:o}=e,{prompt:c}=(0,l.useFind)(),d=(0,a.useCallback)(()=>{$.analytics.track(D.VercelActivityAction.FindModalResultSelected,{resultType:i.type,via:"pointer"},{send_to:{data_warehouse_legacy:!0}}),c.start(i.query)},[i.query,i.type,c]);return(0,r.jsx)("button",{className:(0,s.cn)("cursor-pointer border-none bg-transparent text-left outline-none",t),"data-index":n,onClick:d,type:"button",children:o})}let V=(e,t)=>{let a;switch(e.type){case"prompt":return{icon:b.Sparkles,label:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-gray-900",children:"“"}),e.query,(0,r.jsx)("span",{className:"text-gray-900",children:"”"})]})};case"docs":return{icon:y.File,label:e.title};case"dash":{let n,s=c.Routes[e.page.route],i=s;e.page.search&&(i=i.search[e.page.search]),e.page.hash&&(i=i.hash[e.page.hash]);let o="",l=e.params.team===t.params.team,u=e.params.project===t.params.project,m=l&&(u||!e.params.project),h=t.teams.get(e.params.team||"");h&&(a=e=>(0,r.jsx)(p.Avatar,{hash:h.avatar,size:e,teamId:h.id}));let v=e.params.project||"",y=t.slugs.get(e.params.team||"")?.get(v);if(y&&(a=t=>(0,r.jsx)(x.ProjectAvatar,{error:(0,r.jsx)(w.ChevronCircleRightFill,{size:Math.min(t,16),color:"gray-900"}),teamId:e.params.team,project:{id:y,name:v},size:t})),"/[teamSlug]"===e.page.route)h&&(o=h.name);else if("/[teamSlug]/[project]"===e.page.route)o=v;else if("deployment"===e.page.type){let s=e.params.id||"",i=t.deployments.get(s);if(i&&(a&&!m?(n=a(21),a=()=>(0,r.jsx)(f.DeploymentStatus,{deployment:i})):n=(0,r.jsx)(f.DeploymentStatus,{deployment:i})),"/[teamSlug]/[project]/[id]"===e.page.route){if(K(e,t))o="Production Deployment";else if(i){let e=(0,E.getGitMeta)(i.meta);e?.branchName&&(o=e.branchName)}}}return a&&(i?.label==="Overview"?(n=a(21),a=void 0):m&&(a=void 0)),{avatar:a?.(12),icon:d.RouteIcons[i?.label||""]??d.RouteIcons[s?.label||""]??d.RouteIcons[i?.group||""]??d.RouteIcons[s?.group||""]??(a?w.ChevronCircleRightFill:g.ArrowRight),prefix:n,label:o||i?.label||W(e.page.route)}}}},X=(e,t)=>(0,a.useMemo)(()=>{switch(e.type){case"prompt":return"Navigation Assistant";case"docs":return"Documentation"}let r=[],a=e.params.team||"",n=e.params.project||"",s=t.teams.get(a)?.name||"",i=t.slugs.get(a)?.get(n),o=i?t.projects.get(i):void 0,l=o?.name||n,d=s&&l&&s===l,u="/[teamSlug]"===e.page.route,p="/[teamSlug]/[project]"===e.page.route,m=a&&a!==t.params.team||n&&n!==t.params.project;if(u?r.push("Team"):p?r.push("Project"):n?d?r.push(s||"Team",l):r.push(l):a&&r.push(s||"Team"),"deployment"===e.page.type)if(K(e,t)||m);else if("/[teamSlug]/[project]/[id]"===e.page.route)r.splice(0),r.push("Latest Deployment");else{let a=t.deployments.get(e.params.id||""),n=(0,E.getGitMeta)(a?.meta);r.splice(0),n?.branchName?r.push(n.branchName):r.push("Deployment")}else e.params.id&&(r.splice(0),r.push("Deployment"));if(!m){let t=c.Routes[e.page.route];t&&((e.page.search||e.page.hash)&&r.push(t.label),t.group&&t.group!==t.label&&r.push(t.group))}return r.join(" / ")||""},[e,t]),K=(e,t)=>"dash"===e.type&&t.projectDeployments.get(e.params.project||"")?.id.replace("dpl_","")===e.params.id,W=e=>{let t=e.split("/").pop();return!t||t.startsWith("[")?"":t.replace(/(?:^|-)(?<word>.*?)(?=-|$)/g,(e,t)=>`${t.substring(0,1).toUpperCase()}${t.substring(1)}`)};e.s(["FindModal",0,function(e){let{variant:t}=e,{isOpen:a}=(0,l.useFind)();return a?(0,r.jsx)(q,{variant:t}):null}],4577993)},7622583,e=>{"use strict";var t=e.i(8660982),r=e.i(5677444),a=e.i(850302),n=e.i(9171423),s=e.i(8042625),i=e.i(5338940),o=e.i(5140444),l=e.i(2686817),c=e.i(6161994),d=e.i(2695633),u=e.i(8866156),p=e.i(7497619),m=e.i(1903235);e.i(2144405);class h{name;onInit;version;constructor({name:e,init:t,version:r}){this.name=e,this.onInit=t,this.version=r}open(){return"indexedDB"in globalThis?new Promise((e,t)=>{let r=globalThis.indexedDB.open(this.name,this.version);r.addEventListener("upgradeneeded",e=>{let t=e.target;this.onInit(t.result,e)}),r.addEventListener("error",e=>{let r=e.target;t(Error(r.error?.message))}),r.addEventListener("success",t=>{e(t.target.result)})}):Promise.reject("IndexedDB is not supported in this context")}async store(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readwrite";return(await this.open()).transaction(e,t).objectStore(e)}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((r,a)=>{"object"==typeof t?this.getAll(e,{...t,limit:1}).then(e=>r(e[0])):this.store(e,"readonly").then(e=>{let n=e.get(t);n.addEventListener("success",e=>{r(e.target.result)}),n.addEventListener("error",e=>{let t=e.target;a(Error(t.error?.message))})})})}getKey(e,t){return new Promise((r,a)=>{this.store(e,"readonly").then(e=>{let n=e.index(t.index).getKey(t.query);n.addEventListener("success",e=>{r(e.target.result)}),n.addEventListener("error",e=>{let t=e.target;a(Error(t.error?.message))})})})}getAll(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((r,a)=>{(async()=>{let n,s=await this.store(e,"readonly");t.index&&(s=s.index(t.index)),(n=t.query?s.getAll(t.query,t.limit):s.getAll(null,t.limit)).addEventListener("success",e=>{r(e.target.result)}),n.addEventListener("error",e=>{let t=e.target;a(Error(t.error?.message))})})()})}async iterateOver(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=await this.store(e,"readonly");return r.index&&(a=a.index(r.index)),new Promise((e,n)=>{let s;(s=r.query?a.openCursor(r.query,r.direction):a.openCursor(null,r.direction)).addEventListener("success",async r=>{let a=r.target?.result;a&&!1!==await t(a.value)?a.continue():e()}),s.addEventListener("error",e=>{let t=e.target;n(Error(t.error?.message))})})}async take(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return await this.iterateOver(e,e=>r.push(e)!==t.limit,t),r}add(e,t){return new Promise((r,a)=>{this.store(e).then(e=>{let n=e.add(t);n.addEventListener("success",e=>{r(e.target.result)}),n.addEventListener("error",e=>{let t=e.target;a(Error(t.error?.message))})})})}put(e,t){return new Promise((r,a)=>{this.store(e).then(e=>{let n=e.put(t);n.addEventListener("success",e=>{r(e.target.result)}),n.addEventListener("error",e=>{let t=e.target;a(Error(t.error?.message))})})})}async set(e,t){let r=t[(await this.store(e)).keyPath];if(!r)throw Error(`Cannot set an object in store "${e}" without an id`);await this.get(e,r)?await this.put(e,t):await this.add(e,t)}delete(e,t){return new Promise((r,a)=>{this.store(e).then(e=>{let n=e.delete(t);n.addEventListener("success",()=>{r()}),n.addEventListener("error",e=>{let t=e.target;a(Error(t.error?.message))})})})}clear(){return indexedDB.deleteDatabase(this.name)}}let f=(e,t)=>{g(e.createObjectStore(t.name,{keyPath:t.keyPath??"id"}),t.props)},g=(e,t)=>{for(let r of t)e.createIndex(r,r)},v=()=>new h({name:"vcf-frecency",version:1,init:(e,t)=>{t.oldVersion<1&&(f(e,{name:"Routes",props:["route","visits","updatedAt"],keyPath:"route"}),f(e,{name:"Scopes",props:["scope","team","project","visits","updatedAt"],keyPath:"scope"}))}});var y=e.i(7420728);let b="requestIdleCallback"in globalThis?requestIdleCallback:setTimeout,j=async(e,t,r)=>{try{let a=v(),n=new Date,s=await a.get("Routes",e);s||(s={route:e,visits:0,updatedAt:n}),++s.visits,s.updatedAt=n,await a.set("Routes",s);let i=r?`${t}/${r}`:t,o=await a.get("Scopes",i);o||(o={scope:i,team:t,project:r,visits:0,updatedAt:n}),++o.visits,o.updatedAt=n,await a.set("Scopes",o)}catch(e){}},w=(e,t)=>{let r=e.reduce((e,t)=>e+t.visits,0),a=new Map;for(let e of t)a.set(e,e.updatedAt.valueOf());let n=e.map(e=>[e,Math.round(3*e.visits/r)]);return n.sort((e,t)=>t[1]-e[1]||(a.get(t[0])||0)-(a.get(e[0])||0)||t[0].visits-e[0].visits),n.map(e=>e[0])},x=async()=>{try{let e=v(),[t,r,a,n]=await Promise.all([e.take("Routes",{index:"visits",direction:"prev",limit:10}),e.take("Routes",{index:"updatedAt",direction:"prev",limit:10}),e.take("Scopes",{index:"visits",direction:"prev",limit:10}),e.take("Scopes",{index:"updatedAt",direction:"prev",limit:10})]),s=w(t,r).map(e=>e.route),i=w(a,n).map(e=>e.scope);return{routes:s,scopes:i}}catch(e){return{routes:[],scopes:[]}}};var E=e.i(6190050);let k=(e,t)=>`${e}${t?(0,s.encode)(t):""}`;class S{db;constructor(){this.db=new h({name:"vcf-cache",version:1,init:(e,t)=>{var r;t.oldVersion<1&&(r={name:"Routes",props:["key","route","version","updatedAt"],keyPath:"key"},((e,t)=>{for(let r of t)e.createIndex(r,r)})(e.createObjectStore(r.name,{keyPath:r.keyPath??"id"}),r.props))}})}async get(e){try{let t=k(e.route,e.params),r=await this.db.get("Routes",t);if(r?.version!==1)return null;return r.data}catch(e){return null}}async list(e){try{return(await this.db.take("Routes",{index:"route",query:e.route,direction:"prev",limit:e.limit})).filter(t=>t.version===e.version).map(e=>e.data)}catch(e){return[]}}async set(e){try{let t=k(e.route,e.params);await this.db.put("Routes",{key:t,route:e.route,version:e.version,params:e.params,data:e.data,updatedAt:new Date})}catch(e){}}clear(){try{this.db.clear()}catch(e){}}}let N=()=>new S;var P=e.i(9611727);e.s(["SearchMemorySync",0,function(){let e,h,f,{memoryRef:g,refresh:v}=(0,u.useFind)(),w=(0,r.useParams)(),k=w?.teamSlug;k!==g.current.params.team&&(g.current.isLoadingProjects=!0),(0,t.useEffect)(()=>{let e=g.current,t=N();(async()=>{let r=await t.get({route:"teams",version:1});if(r)for(let t of r)e.teams.set(t.slug,t),e.teamIds.set(t.id,t.slug);for(let r of(await t.list({route:"projects",version:2})).flat())e.projectWeights.set(r.id,r.isFavorite?1.1:1.01),(0,m.addProject)(e,r);v()})()},[g,v]),(0,t.useEffect)(()=>{if(!k)return;let e=g.current;e.mfe.clear(),(async()=>{e.isLoadingProjects=!0;let t=await (0,n.fetchApi)(`/api/v2/dashboard/projects${(0,s.encode)({favorites:1,teamId:k,limit:25})}`,{throwOnHTTPError:!1});if(e.isLoadingProjects=!1,!t||"object"!=typeof t)return;for(let r of t.projects||[])(0,m.addProject)(e,r),e.projectWeights.set(r.id,1.01);let r=new Set;for(let a of t.favorites||[])e.inferred.project||(e.inferred.project=a.name),(0,m.addProject)(e,a),e.projectWeights.set(a.id,1.1),r.add(a.id);if(e.inferred.project||(e.inferred.project=t.projects?.[0]?.name),v(),!t.projects)return;let a=e.teams.get(k)?.id;a&&N().set({route:"projects",params:{team:k},version:2,data:t.projects.map(e=>({ownerId:a,id:e.id,name:e.name,domain:e.domain||"",framework:e.framework||"",createdAt:0,updatedAt:e.updatedAt,isFavorite:r.has(e.id)}))})})()},[g,v,k]);let S=(0,t.useCallback)(async()=>{g.current.frecency=await x()},[g]);(0,t.useEffect)(()=>void S(),[S]);let A=((e=(0,t.useRef)(S)).current=S,h=(0,t.useRef)(void 0),f=(0,t.useRef)(0),(0,t.useCallback)(function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];if(clearTimeout(f.current),!(e=>{if(!(e in y.Routes)||e.startsWith("/[teamSlug]/~/account"))return!1;let t=new Set(Array.from(e.matchAll(/\[(?<param>.*?)\]/g)).map(e=>e[1]));if(!t.size)return!1;for(let e of t)if("teamSlug"!==e&&"project"!==e)return!1;return!0})(r[0])){let t=h.current;if(!t)return;h.current=void 0,b(()=>{j(...t).then(()=>e.current?.())});return}h.current=r,f.current=setTimeout(()=>{j(...r).then(()=>e.current?.()),h.current=void 0},3e4)},[])),C=(0,E.useRoute)(),L=(0,r.useSearchParams)();(0,t.useEffect)(()=>{if(!C||!w)return;let e="/"!==g.current.href&&g.current.route!==C;g.current.route=C,g.current.href=`${location.pathname}${location.search}${location.hash}`;let t=p.RouteFilters[C];t&&L?g.current.filters=t.decode(Object.fromEntries(L.entries())):g.current.filters={},v(),e&&A(C,w.teamSlug,w.project||null)},[C,L,g,v,A,w]);let T=(0,i.useSortedTeams)();(0,t.useEffect)(()=>{for(let e of T){let t=g.current;t.teams.set(e.slug,e),t.teamIds.set(e.id,e.slug)}v(),N().set({route:"teams",version:1,data:T})},[g,v,T]);let{user:R}=(0,o.useUser)(),_=function(e){let{data:r}=(0,a.default)(e?(0,l.swrRequest)(`/api/recents${(0,s.encode)({type:"preview",teamId:e,hydrateLimit:30,limit:7})}`):"",async e=>{if(!e)return[];let t=await (0,n.fetchApi)(e);return Array.isArray(t)?t.filter(e=>e.payload.items.length>0):[]},{revalidateIfStale:!1,revalidateOnFocus:!0});return(0,t.useMemo)(()=>r||[],[r])}(k);(0,t.useEffect)(()=>{if(!R)return;let e=g.current;e.recentPreviews.splice(0);let t=Date.now()-144e5;for(let r of _){let a=r.payload.items,n=a[0];if(!n)continue;let s=(0,d.getGitMeta)(n.deployment.meta),i={branch:s?.branchName||"",commit:s?.commitMessage||"",pr:n.prMetadata,previews:[]};for(let r of a){if(r!==n&&"CANCELED"===r.deployment.readyState||r.deployment.createdAt<t||r.deployment.creator.uid!==R.uid)continue;let a=r.deployment.id.replace("dpl_","");i.previews.push({project:r.project.name,deployment:a}),e.deployments.set(a,r.deployment),e.projects.has(r.project.name)||(0,m.addProject)(e,r.project);let s={projectId:r.project.id,project:r.project.name,branch:i.branch,deployment:a};e.activeBranches.set(`${r.project.id}_${i.branch}`,s)}i.previews.length>0&&e.recentPreviews.push(i)}},[g,v,R,_]);let{data:I}=(0,c.useMicrofrontendsGroups)();return(0,t.useEffect)(()=>{if(!I)return;let e=g.current,t=e.params.team;if(t){for(let{group:r,projects:a}of I.groups)for(let n of(e.mfe.set(r.name,a.map(e=>e.name)),a))e.projects.set(n.id,{owner:t,name:n.name});v()}},[g,v,I]),(0,t.useEffect)(()=>{if(!w)return;let e=g.current;e.params.team=w.teamSlug,e.params.project=w.project,e.params.id=w.id,P.PRESERVED_PARAMS.forEach(t=>{e.params[t]=w[t]}),e.inferred.team=w.teamSlug,w.project&&(e.inferred.project=w.project),v()},[g,w,v]),null}],7622583)}]);

//# debugId=ebb25662-bcee-17f1-6da4-61afc1fbbc8c
//# sourceMappingURL=0881f20e80d27220.js.map