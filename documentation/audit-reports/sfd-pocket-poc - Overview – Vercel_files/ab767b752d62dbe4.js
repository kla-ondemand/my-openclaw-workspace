;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="aae75212-c4c8-982b-d4dd-d82a08777243")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6855136,e=>{e.v({avatar:"group-module__Dj5yHG__avatar",group:"group-module__Dj5yHG__group",note:"group-module__Dj5yHG__note",noteText:"group-module__Dj5yHG__noteText"})},7609806,e=>{"use strict";var t=e.i(4205214),r=e.i(9722978),i=e.i(8660982),s=e.i(1344973),n=e.i(4585051),a=e.i(6855136),l=e.i(3025777),o=e.i(3896588),d=e.i(6683690);let c=(0,i.memo)(e=>{let{member:r,size:i,showIcon:s,iconBackground:a,lazy:c=!1}=e;return"teamId"in r?(0,t.jsx)(n.Avatar,{lazy:c,size:i,teamId:r.teamId,title:r.teamName},r.teamId):r.githubUser?(0,t.jsx)("span",{title:r.name,children:(0,t.jsx)(l.GitHubAvatar,{iconBackground:a,lazy:c,showIcon:s,size:i,username:r.username})},r.username):r.gitlabUser?(0,t.jsx)("span",{title:r.name,children:(0,t.jsx)(o.GitLabAvatar,{iconBackground:a,lazy:c,showIcon:s,size:i,url:r.url})},r.username):r.bitbucketUser?(0,t.jsx)("span",{title:r.name,children:(0,t.jsx)(d.BitbucketAvatar,{iconBackground:a,lazy:c,showIcon:s,size:i,url:r.url})},r.username):r.username?(0,t.jsx)(n.Avatar,{size:i,username:r.username},r.username):r.url?(0,t.jsx)(n.Avatar,{size:i,url:r.url},r.url):(0,t.jsx)(n.Avatar,{size:i,uid:r.uid},r.uid)});c.displayName="GroupAvatar";let u=e=>{let{members:i,limit:n=3,extra:l=0,size:o=24,showIcon:d=!1,iconBackground:u=!0,ariaHidden:p,lazy:m=!1}=e;0===n&&(n=i.length),n-=1;let g=i.slice(0,n),f=i.slice(n),h=f.length+l,x=h>9?"9+":`+${h}`,v=`${h} more avatars in this group`;return(0,t.jsxs)("div",{"aria-hidden":p,className:a.default.group,children:[g.map(e=>(0,t.jsx)("span",{className:a.default.avatar,children:"component"in e?e.component:(0,t.jsx)(c,{member:e,size:o,showIcon:d,iconBackground:u,lazy:m})},"teamId"in e?e.teamId:e.uid||e.username||e.url)),f.length||l>0?(0,t.jsxs)("span",{"aria-label":v,className:(0,r.clsx)(a.default.note,{[a.default.avatar||""]:f.length}),title:v,children:[f.length?"component"in f[0]?f[0].component:(0,t.jsx)(c,{member:f[0],size:o,showIcon:d,iconBackground:u,lazy:m}):null,h>1?(0,t.jsx)(s.Text,{as:"span",className:(0,r.clsx)(a.default.noteText,"dark-theme"),color:"gray-1000",size:10,weight:600,children:x}):null]}):null]})};u.displayName="AvatarGroup";let p=(0,i.memo)(u);e.s(["AvatarGroup",0,p])},4535059,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)(`<g stroke="currentColor" stroke-width="1.5" fill="none">
    <path d="M4.75 0.75H2.75C1.64543 0.75 0.75 1.64543 0.75 2.75V4.75" stroke-linecap="square"/>
    <path d="M11.25 15.25H13.25C14.3546 15.25 15.25 14.3546 15.25 13.25V11.25" stroke-linecap="square"/>
    <path d="M11.25 0.75H13.25C14.3546 0.75 15.25 1.64543 15.25 2.75V4.75" stroke-linecap="square"/>
    <path d="M4.75 15.25H2.75C1.64543 15.25 0.75 14.3546 0.75 13.25V11.25" stroke-linecap="square"/>
    <path d="M4.5 5H9.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M7.5 8L12.5 8" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M4.5 11H9.5" stroke-linecap="round" stroke-linejoin="round"/>
  </g>`);e.s(["Traces",0,t])},6695099,e=>{"use strict";var t=e.i(8660982),r={};e.s(["default",0,function(e){for(var i=arguments.length,s=Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];var a=[],l=[],o=function(e){var i=(0,t.createContext)(r);a.push(i),l.push(function(){return(0,t.useContext)(i)})};return s.length?s.forEach(function(e){return o(e.name)}):o(e.name),[function(r){for(var i=r.children,n=e(function(e,t){if(null==e)return{};var r,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)t.indexOf(r=n[i])>=0||(s[r]=e[r]);return s}(r,["children"])),l=i,o=0;o<a.length;o+=1){var d=a[o],c=s[o]||function(e){return e};l=(0,t.createElement)(d.Provider,{value:c(n)},l)}return l}].concat(l)}])},4418317,2413911,e=>{"use strict";function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new Promise(e=>{requestAnimationFrame(()=>{e(window.open(...t))})})}e.s(["openWindow",0,t],2413911);class r{id;url;width;height;callbacks;prerenderHtml;popup;interval;constructor({id:e,url:t,width:r=800,height:i=600,callbacks:s={},prerenderHtml:n}){this.id=e,this.url=t,this.width=r,this.height=i,this.callbacks=s,this.prerenderHtml=n}async open(){var e,r;let i;if(this.popup&&!this.popup.closed)return void await t("",this.id).then(e=>e?.focus());let s="maxTouchPoints"in navigator&&navigator.maxTouchPoints>0,n=(e=this.width,r=this.height,{width:e,height:r,top:(i=window.top)?i.outerHeight/2+i.screenY-r/2:0,left:i?i.outerWidth/2+i.screenX-e/2:0});this.popup=await t(this.url,this.id,Object.entries(n).map(e=>{let[t,r]=e;return`${t}=${r}`}).join(",")),this.popup&&this.prerenderHtml&&!s&&(this.popup.document.write(this.prerenderHtml),this.popup.location.href=this.url),!this.popup||this.popup.closed||void 0===this.popup.closed?(this.callbacks.onBlocked?.(),this.cancelPolling(),this.popup=null):(this.callbacks.onOpen?.(this.popup),this.poll())}close(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.cancelPolling(),this.popup&&!this.popup.closed&&(this.popup.close(),e||this.callbacks.onClose?.())}poll(){this.interval=setInterval(()=>{try{if(!this.popup||this.popup.closed){this.cancelPolling(),this.callbacks.onAbort?.();return}this.callbacks.onPoll?.(this.popup)}catch(e){}},1e3)}cancelPolling(){this.interval&&(clearInterval(this.interval),this.interval=null)}}e.s(["default",()=>r],4418317)},9861498,e=>{e.v({button:"custom-module__vVV9Vq__button"})},7668531,e=>{"use strict";var t=e.i(4205214),r=e.i(9722978),i=e.i(9861498),s=e.i(7602961);e.s(["CustomButtonLink",0,e=>{let{normal:n,active:a,hover:l,className:o,...d}=e;return(0,t.jsx)(s.ButtonLink,{...d,className:(0,r.clsx)(i.default.button,o),"data-custom-button":"",style:{"--button-custom-fg":`${n?.foreground||""}`,"--button-custom-bg":`${n?.background||""}`,"--button-custom-border":`${n?.border||""}`,"--button-custom-fg-active":`${a?.foreground||""}`,"--button-custom-bg-active":`${a?.background||""}`,"--button-custom-border-active":`${a?.border||""}`,"--button-custom-fg-hover":`${l?.foreground||""}`,"--button-custom-bg-hover":`${l?.background||""}`,"--button-custom-border-hover":`${l?.border||""}`},children:d.children})}])},4819890,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill="#666" fill-rule="evenodd" d="M14.5 8a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0ZM16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0ZM6 11l5.5-3L6 5v6Z" clip-rule="evenodd" style="fill:currentColor;"/>');e.s(["PlayCircle",0,t])},2470467,e=>{e.v({description:"description-module__J9KQsG__description",ellipsis:"description-module__J9KQsG__ellipsis",icon:"description-module__J9KQsG__icon",right:"description-module__J9KQsG__right"})},4245131,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),i=e.i(9722978),s=e.i(2988836),n=e.i(5468328),a=e.i(2470467);let l=(0,r.memo)(function(e){let{title:r,content:l,tooltip:o,right:d,className:c,ellipsis:u,"data-testid":p,tooltipProps:m}=e;return(0,t.jsxs)("dl",{className:(0,i.clsx)(a.default.description,{[String(a.default.right)]:d,[String(a.default.ellipsis)]:u},c),"data-testid":p,"data-version":"v1",children:[(0,t.jsxs)("dt",{"data-geist-description-title":"",children:[r,o?(0,t.jsx)("span",{className:a.default.icon,children:(0,t.jsx)(n.Tooltip,{text:o,...m,children:(0,t.jsx)(s.InformationFillSmall,{size:14})})}):null]}),(0,t.jsx)("dd",{"data-geist-description-content":"",children:l})]})});e.s(["Description",0,l])},2454893,e=>{e.v({cardLink:"marketplace-integration-card-module__GWffEq__cardLink",descriptionWrapper:"marketplace-integration-card-module__GWffEq__descriptionWrapper",icon:"marketplace-integration-card-module__GWffEq__icon",integrationCard:"marketplace-integration-card-module__GWffEq__integrationCard"})},1282571,e=>{"use strict";var t=e.i(4205214),r=e.i(9722978),i=e.i(9739627),s=e.i(4585051),n=e.i(5255926),a=e.i(2504781),l=e.i(57106),o=e.i(2704354),d=e.i(2454893),c=e.i(5677444),u=e.i(397094);function p(e){let{icon:r,name:n,size:a=36}=e;return(0,o.isContentfulIcon)(r)?(0,t.jsx)("div",{className:d.default.icon,children:(0,t.jsx)(i.Image,{alt:n,height:a,srcDark:`https:${r.fields.file.url}`,srcLight:`https:${r.fields.file.url}`,width:a})}):(0,t.jsx)(s.Avatar,{className:d.default.icon,hash:r,size:a})}e.s(["MarketplaceIntegrationCard",0,function(e){let{Actions:i,children:s,href:n,title:a,icon:o,className:m,"data-testid":g,disabled:f}=e,h=(0,c.useRouter)();return(0,t.jsxs)("div",{className:(0,r.clsx)(m,d.default.integrationCard),children:[(0,t.jsxs)("div",{className:(0,r.clsx)("flex flex-row items-stretch justify-between gap-4 flex-initial",d.default.descriptionWrapper),children:[(0,t.jsxs)("div",{className:(0,r.clsx)("flex flex-row items-center justify-start gap-3 flex-initial",d.default.descriptionWrapper),children:[(0,t.jsx)(p,{icon:o,name:a}),s]}),i]}),f?null:(0,t.jsx)(l.Link,{"aria-label":`Open ${a}`,className:d.default.cardLink,"data-testid":g,href:n,onMouseDown:(0,u.buildOnMouseDown)({href:n,router:h})})]})},"MarketplaceIntegrationCardIcon",0,p,"MarketplaceIntegrationCardPlaceholder",0,function(e){let{children:i,Action:s,className:l}=e;return(0,t.jsx)("div",{className:(0,r.clsx)(l,d.default.integrationCard),children:(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-between flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial w-full",children:[(0,t.jsx)(n.Skeleton,{height:36,rounded:!0,width:36}),i]}),s??(0,t.jsx)(a.Button,{size:"small",type:"secondary",children:(0,t.jsx)(n.Skeleton,{height:16,width:30})})]})})}])},4325157,e=>{"use strict";var t=e.i(850302),r=e.i(9411809);let i=(0,r.createServerReference)("7f90503781c0a3c400ad8877208208bc4e45c9c107",r.callServer,void 0,r.findSourceMapURL,"findManyPrivateMarketplaceIntegrationsByProduct");var s=e.i(2704354),n=e.i(9668517);e.s(["useMarketplaceIntegrations",0,e=>{let{protocolType:r}=e,a=(0,n.useTeamSlug)();return(0,t.default)(()=>(0,s.getMarketplaceIntegrationsApiUrl)({teamIdOrSlug:a??null,protocolType:r}),async e=>e&&a?i({protocolType:r,teamIdOrSlug:a}):[])}],4325157)},4110479,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982);let i=(0,r.createContext)(null);e.s(["DrainModalProvider",0,e=>{let{children:s,initialResource:n}=e,[a,l]=(0,r.useState)(!1),[o,d]=(0,r.useState)(null),[c,u]=(0,r.useState)(n),p=(0,r.useCallback)((e,t)=>{d(e),u(t),l(!0)},[]),m=(0,r.useCallback)(()=>{d(null),u(n),l(!1)},[n]),g=(0,r.useMemo)(()=>({isOpen:a,setIsOpen:l,drain:o,resource:c,openDrain:p,closeModal:m}),[a,o,c,m,p]);return(0,t.jsx)(i.Provider,{value:g,children:s})},"useDrainModalContext",0,()=>{let e=(0,r.useContext)(i);if(null===e)throw Error("useDrainModal must be used within a DrainModalProvider");return e},"useOptionalDrainModalContext",0,()=>(0,r.useContext)(i)])},9412123,e=>{"use strict";var t=e.i(7694836),r=function(e,r,i){if(e&&"reportValidity"in e){var s=(0,t.get)(i,r);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},i=function(e,t){var i=function(i){var s=t.fields[i];s&&s.ref&&"reportValidity"in s.ref?r(s.ref,i,e):s.refs&&s.refs.forEach(function(t){return r(t,i,e)})};for(var s in t.fields)i(s)},s=function(e,r){r.shouldUseNativeValidation&&i(e,r);var s={};for(var n in e){var a=(0,t.get)(r.fields,n);(0,t.set)(s,n,Object.assign(e[n],{ref:a&&a.ref}))}return s},n=function(e,r){for(var i={};e.length;){var s=e[0],n=s.code,a=s.message,l=s.path.join(".");if(!i[l])if("unionErrors"in s){var o=s.unionErrors[0].errors[0];i[l]={message:o.message,type:o.code}}else i[l]={message:a,type:n};if("unionErrors"in s&&s.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),r){var d=i[l].types,c=d&&d[s.code];i[l]=(0,t.appendErrors)(l,r,i,n,c?[].concat(c,s.message):s.message)}e.shift()}return i};e.s(["zodResolver",0,function(e,t,r){return void 0===r&&(r={}),function(a,l,o){try{return Promise.resolve(function(s,n){try{var l=Promise.resolve(e["sync"===r.mode?"parse":"parseAsync"](a,t)).then(function(e){return o.shouldUseNativeValidation&&i({},o),{errors:{},values:r.rawValues?a:e}})}catch(e){return n(e)}return l&&l.then?l.then(void 0,n):l}(0,function(e){return{values:{},errors:e.isEmpty?{}:s(n(e.errors,!o.shouldUseNativeValidation&&"all"===o.criteriaMode),o)}}))}catch(e){return Promise.reject(e)}}}],9412123)},2199694,e=>{"use strict";e.s(["isCreateFlow",0,function(e){return"mode"in e&&"create"===e.mode},"isUpdateFlow",0,function(e){return"mode"in e&&"update"===e.mode}])},5263903,(e,t,r)=>{"use strict";let i="[a-fA-F\\d:]",s=e=>e&&e.includeBoundaries?`(?:(?<=\\s|^)(?=${i})|(?<=${i})(?=\\s|$))`:"",n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",a="[a-fA-F\\d]{1,4}",l=`
(?:
(?:${a}:){7}(?:${a}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${a}:){6}(?:${n}|:${a}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${a}:){5}(?::${n}|(?::${a}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${a}:){4}(?:(?::${a}){0,1}:${n}|(?::${a}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${a}:){3}(?:(?::${a}){0,2}:${n}|(?::${a}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${a}:){2}(?:(?::${a}){0,3}:${n}|(?::${a}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${a}:){1}(?:(?::${a}){0,4}:${n}|(?::${a}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${a}){0,5}:${n}|(?::${a}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=RegExp(`(?:^${n}$)|(?:^${l}$)`),d=RegExp(`^${n}$`),c=RegExp(`^${l}$`),u=e=>e&&e.exact?o:RegExp(`(?:${s(e)}${n}${s(e)})|(?:${s(e)}${l}${s(e)})`,"g");u.v4=e=>e&&e.exact?d:RegExp(`${s(e)}${n}${s(e)}`,"g"),u.v6=e=>e&&e.exact?c:RegExp(`${s(e)}${l}${s(e)}`,"g"),t.exports=u},3775629,(e,t,r)=>{"use strict";let i=e.r(5263903),s=e.r(6881271);t.exports=e=>{e={strict:!0,...e};let t=`(?:(?:[a-z]+:)?//)${e.strict?"":"?"}`,r=i.v4().source,n=`(?:\\.${e.strict?"(?:[a-z\\u00a1-\\uffff]{2,})":`(?:${s.sort((e,t)=>t.length-e.length).join("|")})`})\\.?`,a=`(?:${t}|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|${r}|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*${n})(?::\\d{2,5})?(?:[/?#][^\\s"]*)?`;return e.exact?RegExp(`(?:^${a}$)`,"i"):RegExp(a,"ig")}},7662235,1094129,e=>{"use strict";var t=e.i(4205214),r=e.i(7694836),i=e.i(9957872),s=e.i(248550),n=e.i(4535059),a=e.i(4524395),l=e.i(2640326),o=e.i(6401841),d=e.i(8660982),c=e.i(3758860),u=e.i(4110479);let p=[{value:"logs",protocol:"logDrain",icon:s.Logs,title:"Logs",description:"Runtime, build and static logs"},{value:"traces",protocol:"traceDrain",icon:n.Traces,title:"Traces",description:"Distributed tracing data"},{value:"speed_insights",protocol:null,icon:a.StopwatchFast,title:"Speed Insights",description:"Performance metrics"},{value:"analytics",protocol:null,icon:l.Analytics,title:"Web Analytics",description:"Page views and custom events"}];e.s(["chooseDrainDataStep",0,{title:"Choose data to drain",component:function(){let{watch:e,setValue:s,resetField:n,register:a,clearErrors:l,formState:{errors:m}}=(0,r.useFormContext)(),g=(0,u.useOptionalDrainModalContext)(),f=g?.resource,h=e("drainType"),x=e("mode");return(0,d.useEffect)(()=>{a("drainType",{required:"required"})},[]),(0,t.jsxs)("div",{children:[(0,t.jsx)(i.ChoiceboxGroup,{className:"pt-4",direction:"column",label:"Choose data type",type:"radio",value:h??"",onChange:e=>{s("drainType",e),l("drainType"),"create"!==x||f?(n("delivery.type"),n("delivery.endpoint")):(s("delivery.type","traces"===e?"otlphttp":"http"),s("delivery.endpoint","traces"===e?{traces:""}:"")),n("delivery.encoding"),n("filters.log.sources"),n("filters.deployment.environments")},children:(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:p.filter(e=>!f||e.protocol&&"integration"===f.type&&(0,c.isProtocolSupported)(f.product,e.protocol)).map(e=>{let r=e.icon;return(0,t.jsx)(i.ChoiceboxGroup.Item,{value:e.value,title:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r,{size:16}),e.title]}),description:e.description},e.value)})})}),m.drainType?.message&&(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,t.jsx)(o.Stop,{size:14,color:"red-700"}),(0,t.jsx)("p",{className:"text-copy-14 text-red-900",children:m.drainType.message})]})]})},getFieldsToValidate:()=>["drainType"],getIsNextEnabled:()=>!0,getSuffix:function(e,r){if(r)return null;let i=(()=>{switch(e){case"traces":return"Traces";case"logs":return"Logs";case"analytics":return"Web Analytics";case"speed_insights":return"Speed Insights"}})();return(0,t.jsx)("span",{className:"text-copy-14 text-gray-900",children:i})}}],7662235),e.i(3512434);var m=e.i(9835407),g=e.i(3775629);let f=m.z.enum(["production","preview"]),h=m.z.object({type:m.z.literal("head_sampling"),env:m.z.union([f,m.z.literal("all")]).transform(e=>"all"===e?void 0:e).optional(),rate:m.z.number().min(0,"Sampling rate must be between 0 and 100%").max(1,"Sampling rate must be between 0 and 100%"),requestPath:m.z.string().optional().transform(e=>""===e?void 0:e)}),x=m.z.string().refine(e=>e.startsWith("https://"),{message:"URL must start with https://"}).refine(e=>(0,g.default)({exact:!0}).test(e),{message:"Must be a valid URL"}),v=m.z.object({type:m.z.literal("http"),endpoint:x,encoding:m.z.enum(["json","ndjson"]),headers:m.z.record(m.z.string()),secret:m.z.union([m.z.string(),m.z.object({kind:m.z.literal("INTEGRATION_SECRET")})]).optional(),compression:m.z.enum(["gzip","none"]).optional()}),y=m.z.object({type:m.z.literal("otlphttp"),endpoint:m.z.object({traces:x}),encoding:m.z.enum(["proto","json"]),headers:m.z.record(m.z.string()),secret:m.z.union([m.z.string(),m.z.object({kind:m.z.literal("INTEGRATION_SECRET")})]).optional()}),j=m.z.discriminatedUnion("type",[v,y]),b=m.z.enum(["lambda","edge","static","external","build","firewall","redirect"]),_=m.z.enum(["logs","traces","analytics","speed_insights"]),S=m.z.union([m.z.object({kind:m.z.literal("integration"),resourceId:m.z.string().optional(),integrationId:m.z.string().optional(),integrationConfigurationId:m.z.string().optional()}),m.z.object({kind:m.z.literal("self-served")})]),w=m.z.object({log:m.z.object({sources:m.z.array(b)}),deployment:m.z.object({environments:m.z.array(f)})}),C=m.z.object({name:m.z.string().trim().min(1,"Drain name is required"),projects:m.z.enum(["all","some"]),drainType:_,delivery:j.optional(),sampling:m.z.array(h).max(10,"You can configure up to 10 sampling rules").optional(),projectIds:m.z.array(m.z.string()).optional(),filters:w,source:S.optional(),mode:m.z.literal("create")}),N=m.z.object({name:m.z.string().trim().min(1,"Drain name is required").optional(),projects:m.z.enum(["all","some"]).optional(),drainType:_,delivery:j.optional(),sampling:m.z.array(h).optional(),projectIds:m.z.array(m.z.string()).optional(),status:m.z.enum(["enabled","disabled"]).optional(),filters:w.optional(),source:S.optional(),mode:m.z.literal("update")}),k=m.z.discriminatedUnion("mode",[C,N]).refine(e=>"some"!==e.projects||e.projectIds&&e.projectIds.length>0,{message:"At least one project must be selected when choosing specific projects",path:["projectIds"]}).refine(e=>"logs"!==e.drainType||Number(e.filters?.log?.sources.length)>0,{message:"At least one source must be selected when draining logs",path:["filters.log.sources"]});e.s(["DrainFormSchema",0,k,"httpUrl",0,x,"sourceLabelMap",0,{lambda:"Functions",edge:"Edge Functions",static:"Static Files",external:"Rewrites",build:"Builds",firewall:"Firewall",redirect:"Redirects"}],1094129)},1733572,e=>{"use strict";let t={logs:"Logs",traces:"Traces",analytics:"Web Analytics",speed_insights:"Speed Insights"};e.s(["getDrainType",0,function(e){return e.schemas?.trace?"traces":e.schemas?.analytics?"analytics":e.schemas?.speed_insights?"speed_insights":"logs"},"getDrainTypeLabel",0,function(e){return t[e]}])},3614887,9572009,8249103,3456281,4789955,5664328,e=>{"use strict";let t;var r=e.i(4205214),i=e.i(3500331),s=e.i(3869281),n=e.i(7048904),a=e.i(6401841),l=e.i(2565125),o=e.i(2098824),d=e.i(1094129),c=e.i(1733572),u=e.i(7694836),p=e.i(8660982),m=e.i(6060673);let g=(0,p.createContext)(null),f=()=>(0,p.useContext)(g);e.s(["SheetContainerContext",0,g,"useSheetContainer",0,f],9572009);var h=e.i(5323212),x=e.i(3169345),v=e.i(8161149),y=e.i(2504781),j=e.i(5468328),b=e.i(923772),_=e.i(5169576);function S(){let{register:e,watch:t,setValue:s,formState:{errors:n}}=(0,u.useFormContext)(),l=t("filters.deployment.environments"),o=0===l.length||2===l.length,d=Array.isArray(n.sampling)?n.sampling[0]?.rate?.message:void 0,{fields:c,append:p,remove:m}=(0,u.useFieldArray)({name:"sampling"});return(0,r.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,r.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",children:"Sampling"}),0===c.length?(0,r.jsx)("div",{className:"flex flex-col items-center justify-start gap-4 flex-initial mt-1.5",children:(0,r.jsx)(v.EmptyState.Root,{secondary:!0,title:"No sampling rules configured",description:"Configure rules to set sampling rates by environment or path prefix.",children:(0,r.jsx)(y.Button,{onClick:()=>p({type:"head_sampling",env:void 0,rate:1}),type:"secondary",typeName:"button",children:"Add Sampling Rule"})})}):(0,r.jsxs)(x.Table,{className:"border-separate border-spacing-0 mt-1.5",children:[(0,r.jsx)(x.Table.Header,{removeSpacing:!0,children:(0,r.jsxs)(x.Table.Row,{children:[(0,r.jsx)(x.Table.Head,{className:"border-t border-l rounded-tl border-solid border-gray-200 text-xs pl-4",children:"Environment"}),(0,r.jsx)(x.Table.Head,{className:"border-t border-solid border-gray-200 text-xs",children:"Rate"}),(0,r.jsx)(x.Table.Head,{className:"border-t border-solid border-gray-200 text-xs",children:(0,r.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-1 flex-initial",children:["Request Path Prefix",(0,r.jsx)(j.Tooltip,{text:"The prefix of the request path to sample or the entire request path",children:(0,r.jsx)(_.Information,{size:12,color:"gray-700"})})]})}),(0,r.jsx)(x.Table.Head,{className:"border-t border-r rounded-tr border-solid border-gray-200 text-xs"})]})}),(0,r.jsxs)(x.Table.Body,{className:"[&_td:first-child]:rounded-l-none [&_td:last-child]:rounded-r-none",children:[c.map((a,l)=>{let o=e(`sampling.${l}.env`);e(`sampling.${l}.rate`,{valueAsNumber:!0});let d=t(`sampling.${l}.rate`),c=Array.isArray(n.sampling)?n.sampling[l]?.rate?.message:void 0;return(0,r.jsxs)(x.Table.Row,{children:[(0,r.jsx)(x.Table.Cell,{className:"border-l border-b border-solid border-gray-200 rounded-none py-4 pl-4",children:(0,r.jsx)(h.Select,{size:"small",ref:o.ref,name:o.name,value:t(`sampling.${l}.env`)??"all",onChange:e=>{s(`sampling.${l}.env`,e.target.value)},selectClassName:"capitalize",children:(0,r.jsx)(w,{})})}),(0,r.jsx)(x.Table.Cell,{className:"border-b border-solid border-gray-200 rounded-none max-w-20 py-4",children:(0,r.jsx)(i.Input,{error:c,showErrorMessage:!1,className:"[&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",suffix:"%","aria-labelledby":`sampling-rate-${l}`,typeName:"number",min:"0",max:"100",step:"1",size:"small",defaultValue:"100",style:{width:"100px"},value:"number"==typeof d?`${100*d}`:d,onChange:e=>{let t=e.target.valueAsNumber;"number"!=typeof t||Number.isNaN(t)?s(`sampling.${l}.rate`,t,{shouldDirty:!0}):s(`sampling.${l}.rate`,t/100,{shouldDirty:!0})}})}),(0,r.jsx)(x.Table.Cell,{className:"border-b border-solid border-gray-200 rounded-none py-4",children:(0,r.jsx)(i.Input,{"aria-labelledby":`request-path-${l}`,placeholder:`/api/example-${l+1}`,...e(`sampling.${l}.requestPath`),size:"small"})}),(0,r.jsx)(x.Table.Cell,{className:"border-b border-r border-solid border-gray-200 rounded-none py-4",children:(0,r.jsx)(y.Button,{size:"small",type:"tertiary",onClick:()=>m(l),"aria-label":"Remove sampling config",children:(0,r.jsx)(b.Trash,{color:"gray-700",size:16})})})]},a.id)}),(0,r.jsx)(x.Table.Row,{children:(0,r.jsx)(x.Table.Cell,{colSpan:4,className:"border-b border-l border-r border-solid border-gray-200 !rounded-bl !rounded-br py-4 pl-4",children:(0,r.jsx)("div",{className:"flex flex-row items-stretch justify-start gap-1 flex-initial",children:(0,r.jsx)(j.Tooltip,{text:"You can configure up to 10 sampling rules",disableTriggers:c.length<10,className:"",children:(0,r.jsx)(y.Button,{onClick:()=>p({type:"head_sampling",env:o?"all":l[0],rate:1}),size:"small",type:"tertiary",disabled:c.length>=10,typeName:"button",children:"Add Sampling Rule"})})})})})]})]}),d&&(0,r.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,r.jsx)(a.Stop,{size:14,color:"red-700"}),(0,r.jsx)("p",{className:"text-copy-14 text-red-900",children:d})]})]})}function w(){let{watch:e}=(0,u.useFormContext)(),t=e("filters.deployment.environments");return 0===t.length||2===t.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("option",{value:"all",children:"All Environments"}),(0,r.jsx)("option",{value:"production",children:"Production"}),(0,r.jsx)("option",{value:"preview",children:"Preview"})]}):(0,r.jsx)(r.Fragment,{children:t.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})}var C=e.i(4597921);let N=["lambda","edge","static","external","build","firewall","redirect"];function k(){let{watch:e,setValue:t,register:i,formState:{errors:n}}=(0,u.useFormContext)(),a=e("filters.log.sources"),l=(0,p.useCallback)(e=>{a.includes(e)?t("filters.log.sources",a.filter(t=>t!==e),{shouldDirty:!0}):t("filters.log.sources",[...a,e],{shouldDirty:!0})},[a,t]);return(0,p.useEffect)(()=>{i("filters.log.sources",{required:"required"})},[i]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,r.jsx)(o.FormTitleDescription,{description:"Logs from the selected sources will be forwarded to your drain. At least one must be selected.",title:"Sources"}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-3 @md-page:grid-cols-3",children:N.map(e=>(0,r.jsx)(s.Checkbox,{className:"cursor-pointer rounded-md border border-gray-200 p-3 hover:border-gray-300",checked:a.includes(e),onChange:()=>l(e),children:d.sourceLabelMap[e]},e))}),(0,r.jsx)(P,{error:n.filters?.log?.sources?.message})]}),(0,r.jsx)(T,{})]})}function I(){return(0,r.jsx)(r.Fragment,{})}function D(){let{setValue:e,watch:t,register:i}=(0,u.useFormContext)(),s=t("sampling",[{type:"head_sampling",rate:1}]);return(0,p.useEffect)(()=>{i("sampling")},[]),(0,r.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,r.jsxs)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial",children:[(0,r.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",children:"Sampling"}),(0,r.jsxs)("span",{style:{minWidth:30,fontSize:"12px"},children:[Math.round((s?.[0]?.rate??1)*100),"%"]}),(0,r.jsx)("div",{style:{maxWidth:"200px",flex:1},children:(0,r.jsx)(n.Slider,{max:100,min:1,onValueChange:t=>{e("sampling",[{type:"head_sampling",rate:t[0]/100}],{shouldDirty:!0})},value:[Math.round((s?.[0]?.rate??1)*100)]})})]}),(0,r.jsx)("p",{className:"text-copy-14 text-gray-900",children:"A percentage of data matching the sampling rate will be sent to your drain from the selected environments."})]})}function T(){let{watch:e,setValue:t,formState:{errors:i}}=(0,u.useFormContext)(),n=e("filters.deployment.environments"),a=(e,r)=>{r?t("filters.deployment.environments",[...n,e],{shouldDirty:!0}):t("filters.deployment.environments",n.filter(t=>t!==e),{shouldDirty:!0})};return(0,r.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,r.jsx)(o.FormTitleDescription,{description:"Select which environments to drain from.",title:"Environment"}),(0,r.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-6 flex-initial",children:[(0,r.jsx)(s.Checkbox,{checked:n.includes("production"),onChange:e=>{a("production",e.target.checked)},children:"Production"}),(0,r.jsx)(s.Checkbox,{checked:n.includes("preview"),onChange:e=>{a("preview",e.target.checked)},children:"Preview"})]}),(0,r.jsx)(P,{error:i.filters?.deployment?.environments?.message})]})}function P(e){let{error:t}=e;return t?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(a.Stop,{size:14,color:"red-700"}),(0,r.jsx)("p",{className:"text-copy-14 text-red-900",children:t})]}):null}e.s(["configureDrainStep",0,{title:"Configure the drain",component:function(){let{watch:e,setValue:t,register:s,clearErrors:n,formState:{errors:a}}=(0,u.useFormContext)(),o=e("drainType"),d="logs"===o||"traces"===o,g=(0,C.useServerFlag)("drains-advanced-sampling",!1)&&d,h=e("projects"),x=e("projectIds")||[],v=f();(0,p.useEffect)(()=>{s("projects",{required:"required"}),s("projectIds")},[]);let{data:y,isLoading:j}=(0,m.useProjects)(x.length>0?x:void 0),b=y||[],[_,w]=(0,p.useState)([]);return(0,r.jsx)("div",{className:"pt-4 max-w-2xl",children:(0,r.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[(0,r.jsx)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial w-full",children:(0,r.jsx)(i.Input,{label:"Drain Name",id:"drain-name",placeholder:`My ${(0,c.getDrainTypeLabel)(o)} drain`,width:"100%",className:"flex-1",error:a.name?.message,...s("name")})}),(0,r.jsx)(l.ProjectSelector,{error:a.projects?.message||a.projectIds?.message,projects:b,projectType:"all"===h?l.ProjectTypes.ALL:l.ProjectTypes.SOME,onProjectsUpdated:e=>{t("projectIds",e.map(e=>e.id),{shouldDirty:!0}),n("projectIds"),w(e)},onProjectTypeUpdated:e=>{n("projectIds"),t("projects",e===l.ProjectTypes.ALL?"all":"some",{shouldDirty:!0}),e===l.ProjectTypes.ALL?(b.length>0&&w(b),t("projectIds",void 0,{shouldDirty:!0})):t("projectIds",(_.length>0?_:b).map(e=>e.id),{shouldDirty:!0})},title:"Projects",description:"Choose which projects should send data to the specified endpoint.",disabled:!1,isLoading:j&&0===b.length,loadingCount:x.length,comboboxListContainer:v}),"logs"===o&&(0,r.jsx)(k,{}),"traces"===o&&(0,r.jsx)(I,{}),g?(0,r.jsx)(S,{}):(0,r.jsx)(D,{})]})})},getFieldsToValidate:()=>["name","projects","projectIds","filters.log.sources","filters.deployment.environments","sampling"],getIsNextEnabled:()=>!0}],3614887);var $=e.i(1265647),M=e.i(4469437),E=e.i(9334091),R=e.i(1906681),z=e.i(2455417),A=e.i(8735244),L=e.i(6607601),O=e.i(8225664),F=e.i(198667),H=e.i(6318858),q=e.i(4819890),B=e.i(1933683),V=e.i(3973638);let U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",W=(t=(e,t)=>{if(e<0||e>65536)throw RangeError('The value of "size" is out of range. It must be >= 0 && <= 65536. Received '+e);var r=new Uint8Array(e);return(globalThis.crypto.getRandomValues(r),t)?(setTimeout(()=>t(null,r),0),new Uint8Array):r},e=>new Promise(async(r,i)=>{Number.isInteger(e)?e<=0?i(Error("You must supply a length integer greater than zero")):t(e,(e,s)=>{let n;if(e)return i(e);let a=[];for(let e=0;e<s.length;e++){for(n=s[e];n>248;)try{n=t(1)[0]}catch(e){i(e)}a.push(U[n%U.length])}r(a.join(""))}):i(TypeError("You must supply a length integer to `uid-promise`."))}));async function G(e){return W(e)}e.s(["generateSecret",0,G],8249103);var K=e.i(8804984),Y=e.i(6695099),Z=e.i(277234),Q=e.i(5338940);function J(e){if(!e)throw Error("Drain type is required");switch(e){case"logs":return{log:{version:"v1"}};case"traces":return{trace:{version:"v1"}};case"analytics":return{analytics:{version:"v1"}};case"speed_insights":return{speed_insights:{version:"v1"}}}}e.s(["getDrainTypeFromDrain",0,function(e){return e.schemas?.log?"logs":e.schemas?.trace?"traces":e.schemas?.analytics?"analytics":e.schemas?.speed_insights?"speed_insights":"logs"},"getSchemaForDrainType",0,J],3456281);let[X,ee]=(0,Y.default)(function(){let{team:e}=(0,Q.useTeam)(),[t,r]=(0,p.useState)({status:"idle"});return{validationState:t,validateEndpoint:async t=>{r({status:"validating"});try{let{delivery:i,drainType:s}=t,n=J(s),a={type:i?.type||"http",endpoint:i?.endpoint||"",encoding:i?.encoding||"json",headers:i?.headers||{},...i?.secret&&{secret:i.secret}},l=await (0,Z.fetchAPI)(`/v1/drains/test${e?.id?`?teamId=${e.id}`:""}`,{method:"POST",body:{schemas:n,delivery:a},returnStatus:!0,throwOnHTTPError:!1});if(l.status&&l.status>=200&&l.status<300&&l.body){let{status:e,statusCode:t}=l.body;if(e){if("success"===e)return r({status:"success",message:"Success: Your endpoint sent a 2xx status"}),!0;if("failure"===e){if(t)return r({status:"error",message:`Error: Your endpoint sent a ${t} status instead of 2xx, fix it and try again`}),!1;return r({status:"error",message:"Error: Your endpoint did not reply, fix it and try again"}),!1}}}return r({status:"error",message:"Unknown error, please contact support"}),!1}catch(e){return r({status:"error",message:"Unknown error, please contact support"}),!1}},resetValidation:()=>{r({status:"idle"})}}});function et(e){let{icon:t,onClick:i,successDuration:s=1e3,...n}=e,[a,l]=(0,p.useState)(!1),[o,d]=(0,p.useState)(!0),c=(0,p.useRef)(null),u=async()=>{d(!1),c.current&&clearTimeout(c.current),await i(),l(!0),c.current=setTimeout(()=>{l(!1)},s)};return(0,r.jsx)(y.Button,{...n,onClick:u,children:(0,r.jsxs)("div",{style:{position:"relative",height:16,width:16},children:[(0,r.jsx)("div",{className:`absolute inset-0 transition-all duration-150 ease-out ${o?"opacity-0 scale-50":!o&&a?"opacity-100 scale-100":"opacity-0 scale-50"}`,children:(0,r.jsx)(H.Check,{size:16})}),(0,r.jsx)("div",{className:`absolute inset-0 transition-all duration-150 ease-out ${o||!o&&!a?"opacity-100 scale-100":"opacity-0 scale-50"}`,children:t})]})})}e.s(["EndpointValidationProvider",0,X,"useEndpointValidationContext",0,ee],4789955);let er={http:[{value:"json",label:"JSON"},{value:"ndjson",label:"NDJSON"}],otlphttp:[{value:"json",label:"JSON"},{value:"proto",label:"Protobuf"}]},ei={input:e=>e?Object.entries(e).map(e=>{let[t,r]=e;return`${t}: ${r}`}).join("\n"):"",output(e,t,r){if(!e)return{};let i=e.split("\n").filter(e=>e.trim()),s=[],n=i.reduce((e,t,r)=>{let[i,...n]=t.split(":"),a=n.join(":"),l=es(i?.trim()||""),o=es(a?.trim()||"");return l&&o?e[l]=o:s.push(`Line ${r+1}: "${t}"`),e},{});return s.length>0?t("delivery.headers",{message:`Invalid header format: ${s.join(", ")}. Expected format: "Header-Name: Header-Value"`}):r("delivery.headers"),n}};function es(e){return e?e.replace(/""+/g,'"').replace(/''+/g,"'").replace(/^["']+|["']+$/g,""):e}e.s(["CustomEndpointEditor",0,function(){let e,t,s,{watch:n,setValue:l,register:o,setError:c,clearErrors:m,formState:{errors:g}}=(0,u.useFormContext)(),{validationState:f,validateEndpoint:x,resetValidation:v}=ee();(0,p.useEffect)(()=>()=>{m(),v()},[]);let b=n("delivery.headers"),_=n("delivery.type"),S=n("delivery.endpoint"),w=n("drainType"),[C,N]=(0,p.useState)(ei.input(b||{})),[k,I]=(0,p.useState)(C.length>0),[D,T]=(0,p.useState)(!1),P=n("delivery.secret");return"string"==typeof S?(e="https://your-endpoint.com/ingest",t="delivery.endpoint"):(e="https://your-otlp-endpoint.com/v1/traces",t="delivery.endpoint.traces"),(0,r.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial pt-4 max-w-2xl",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4 @md-page:grid-cols-[3fr_1fr] @md-page:gap-2 @md-page:items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex gap-2 items-end",children:[(0,r.jsx)(i.Input,{id:"drain-url",label:"URL",prefix:"POST",placeholder:e,width:"100%",...o(t,{onChange:()=>{v(),m(t)}})}),(0,r.jsx)(j.Tooltip,{desktopOnly:!0,text:"Send an example payload to your endpoint for testing",children:(0,r.jsx)(y.Button,{"aria-label":"Test endpoint",type:"secondary",typeName:"button",disabled:!(s="string"==typeof S?S:S?.traces)||!d.httpUrl.safeParse(s).success||f?.status==="validating",svgOnly:!0,onClick:()=>{x(n())},prefix:f?.status==="validating"?(0,r.jsx)(A.Spinner,{size:16}):(0,r.jsx)(q.PlayCircle,{size:16}),children:"Test"})})]}),(0,K.get)(g,`${t}.message`)&&(0,r.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,r.jsx)(a.Stop,{size:14,color:"red-700"}),(0,r.jsx)("p",{className:"text-copy-14 text-red-900",children:(0,K.get)(g,`${t}.message`)})]}),f&&"idle"!==f.status&&(0,r.jsx)("div",{className:"mt-2 flex items-center gap-2",children:"validating"===f.status?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z.LoadingDots,{}),(0,r.jsx)("p",{className:"text-copy-13 text-gray-900",children:"Validating endpoint"})]}):(0,r.jsxs)(r.Fragment,{children:["success"===f.status?(0,r.jsx)(H.Check,{size:14,color:"green-700"}):(0,r.jsx)(a.Stop,{size:14,color:"red-700"}),(0,r.jsx)("p",{className:`text-copy-13 ${"success"===f.status?"text-green-900":"text-red-900"}`,children:f.message})]})})]}),(0,r.jsx)(h.Select,{label:"Encoding",placeholder:"Select encoding",...o("delivery.encoding"),children:er[_].map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))})]}),w&&(0,r.jsxs)("div",{className:"text-xs text-gray-900 text-right @md-page:text-right @sm-page:text-left",children:["Need help with the data format?"," ",(0,r.jsxs)("a",{href:{logs:"/docs/drains/reference/logs",traces:"/docs/drains/reference/traces",speed_insights:"/docs/drains/reference/speed-insights",analytics:"/docs/drains/reference/analytics"}[w],target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:["View"," ","speed_insights"===w?"Speed Insights":"analytics"===w?"Analytics":w.charAt(0).toUpperCase()+w.slice(1)," ","schema â†’"]})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"flex gap-2 items-end",children:[(0,r.jsx)(i.Input,{label:(0,r.jsxs)(r.Fragment,{children:["Signature verification secret"," ",(0,r.jsxs)("span",{className:"text-gray-900 normal-case",children:["(optional,"," ",(0,r.jsx)("a",{href:"/docs/drains/security",target:"_blank",rel:"noopener noreferrer",className:"text-gray-900 hover:text-gray-700 underline",children:"How to use it"})]}),")"]}),id:"drain-secret",placeholder:"32-character secret",width:"100%",className:"font-mono tracking-wider",typeName:D?"text":"password",prefix:(0,r.jsx)(y.Button,{"aria-label":"Toggle password visibility",variant:"unstyled",svgOnly:!0,typeName:"button",onClick:()=>T(!D),className:"-ml-1",children:D?(0,r.jsx)(V.EyeOff,{size:16}):(0,r.jsx)(B.Eye,{size:16})}),prefixStyling:!1,suffix:(0,r.jsx)(O.CopyButton,{textToCopy:"string"==typeof P?P:"",label:"Copy secret",title:"Copy secret to clipboard",disabled:"string"!=typeof P||!P,variant:"unstyled",className:"-mr-1"}),suffixStyling:!1,...o("delivery.secret")}),(0,r.jsx)(et,{"aria-label":"Generate new secret",shape:"square",svgOnly:!0,type:"secondary",typeName:"button",icon:(0,r.jsx)(F.RefreshClockwise,{size:16}),onClick:async()=>{l("delivery.secret",await G(32),{shouldDirty:!0})}})]})}),(0,r.jsx)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial",children:(0,r.jsx)(R.Toggle,{checked:k,id:"custom-headers",onChange:I,size:"medium",direction:"switch-first",children:(0,r.jsx)("p",{className:"text-copy-14",children:"Custom Headers"})})}),(0,r.jsx)(M.AnimatePresence,{initial:!1,children:k&&(0,r.jsx)($.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:"easeInOut",opacity:{duration:.2}},children:(0,r.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-3 flex-initial",children:(0,r.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,r.jsx)(E.Textarea,{error:(0,K.get)(g,"delivery.headers.message"),"aria-labelledby":"Custom Headers (Optional)",className:"font-mono",onBlur:()=>{l("delivery.headers",ei.output(C,c,m),{shouldDirty:!0})},onChange:e=>N(e.target.value),placeholder:"Authorization: Bearer token X-Custom-Header: value",rows:3,value:C}),(0,r.jsxs)("p",{className:"text-copy-13 text-gray-900",children:["Format: Header-Name: Header-Value (one per line). The"," ",(0,r.jsx)(L.InlineCode,{children:"content-type"})," header is automatically added."]})]})})})})]})}],5664328)},4576858,3226981,4758962,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),i=e.i(4237893),s=e.i(6064230),n=e.i(762896),a=e.i(7694836),l=e.i(5664328);e.i(6887680);var o=e.i(6810699),d=e.i(3758860),c=e.i(9957872),u=e.i(4245131),p=e.i(8161149),m=e.i(5255926),g=e.i(5468328);e.i(8703064);var f=e.i(648779),h=e.i(4325157),x=e.i(1017032),v=e.i(9668517),y=e.i(3584802),j=e.i(109803),b=e.i(57106);function _(e){let{drainType:i}=e,s=(0,v.useTeamSlug)(),n="logs"===i?"logDrain":"traceDrain",{data:a,isLoading:l}=(0,h.useMarketplaceIntegrations)({protocolType:n}),{data:c,isLoading:p}=(0,o.useResourceList)({protocolType:n}),{data:g,isLoading:_}=(0,x.useConfigurations)({type:"provisioning",skipBillingData:!0,skip:!1}),S=(0,r.useMemo)(()=>{if(!a||!c||!g)return[];let e=[];for(let t of a)for(let r of t.products)(0,d.isProtocolSupported)(r,n)&&e.push({product:r,integration:t});return e},[a,c,g,n]);return l||p||_?(0,t.jsx)(u.Description,{title:(0,t.jsx)("h2",{className:"text-sm font-medium",children:"Available products"}),content:(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[1,2].map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3 p-4 border border-gray-alpha-400 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[(0,t.jsx)(m.Skeleton,{width:36,height:36,rounded:!0}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)(m.Skeleton,{width:"80%",height:14,className:"mb-2"}),(0,t.jsx)(m.Skeleton,{width:"60%",height:12})]})]}),(0,t.jsx)(m.Skeleton,{width:60,height:32})]},e))})}):0!==S.length&&s?(0,t.jsx)(u.Description,{title:(0,t.jsx)("h2",{className:"text-sm font-medium",children:"Available products"}),content:(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:S.map(e=>{let{product:r,integration:i}=e,n=(0,y.getIntegrationCheckoutUrl)({params:{integrationSlug:i.slug,teamSlug:s},searchParams:{productSlug:r.slug,cancelUrl:`${window.location.pathname}${window.location.search}`}});return(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3 p-4 border border-gray-alpha-400 rounded-lg hover:border-gray-600 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[(0,t.jsx)("div",{className:"shrink-0",children:(0,t.jsx)(f.ProductIcon,{icon:r.iconUrl,size:"large"})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("div",{className:"text-sm font-medium truncate",title:r.name,children:r.name}),(0,t.jsx)("div",{className:"text-sm text-gray-600 truncate",title:i.name,children:i.name})]})]}),(0,t.jsx)(b.ButtonLink,{size:"small",type:"secondary",href:n,target:"_blank",rel:"noopener noreferrer",suffix:(0,t.jsx)(j.External,{}),children:"Install"})]},r.id)})})}):null}function S(){let{watch:e,setValue:i}=(0,a.useFormContext)(),s=e("source"),n=e("drainType"),l=s&&"resourceId"in s?s.resourceId??"":"",{data:h,isLoading:x}=(0,o.useResourceList)({protocolType:"traceDrain"}),{data:v,isLoading:y}=(0,o.useResourceList)({protocolType:"logDrain"}),j=(0,r.useMemo)(()=>{let e=[];return"traces"===n&&h?.stores?e.push(...h.stores.filter(e=>(0,d.isProtocolSupported)(e.product,"traceDrain"))):"logs"===n&&v?.stores&&e.push(...v.stores.filter(e=>(0,d.isProtocolSupported)(e.product,"logDrain"))),e},[h,v,n]);if(x||y)return(0,t.jsx)(u.Description,{title:(0,t.jsx)("h2",{className:"text-sm font-medium",children:"Installed products"}),content:(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 border border-gray-alpha-400 rounded-lg",children:[(0,t.jsx)(m.Skeleton,{width:40,height:40,rounded:!0}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(m.Skeleton,{width:"80%",height:14,className:"mb-2"}),(0,t.jsx)(m.Skeleton,{width:"60%",height:12})]})]},e))})});let b="logs"===n||"traces"===n;return 0===j.length?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.EmptyState.Root,{title:"No Integrations Installed",description:"Add an integration that supports drains to get started."}),b&&(0,t.jsx)("div",{className:"flex flex-col gap-6 mt-6",children:(0,t.jsx)(_,{drainType:n})})]}):(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsx)(u.Description,{title:(0,t.jsx)("h2",{className:"text-sm font-medium",children:"Installed products"}),content:(0,t.jsx)(c.ChoiceboxGroup,{type:"radio",label:"Select resource",direction:"row",value:l,onChange:e=>{i("source",{kind:"integration",resourceId:e})},className:"[&>ul]:grid [&>ul]:grid-cols-2 [&>ul]:gap-3 [&_label>div>span:first-child]:overflow-hidden [&_label>div>span:first-child>span]:overflow-hidden",children:j.map(e=>(0,t.jsx)(c.ChoiceboxGroup.Item,{value:e.id,title:(0,t.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[(0,t.jsx)("div",{className:"shrink-0",children:(0,t.jsx)(f.ProductIcon,{icon:e.product.iconUrl,size:"large"})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1 overflow-hidden",children:[(0,t.jsx)(g.Tooltip,{text:e.name,className:"block truncate",children:(0,t.jsx)("span",{className:"truncate text-sm font-medium block",children:e.name})}),(0,t.jsxs)("div",{className:"truncate text-sm text-gray-600",title:`${e.product.name}${e.billingPlan?.name?` - ${e.billingPlan.name}`:""}`,children:[e.product.name,e.billingPlan?.name?` - ${e.billingPlan.name}`:""]})]})]})},e.id))})}),b&&(0,t.jsx)(_,{drainType:n})]})}var w=e.i(7609806),C=e.i(1282571);function N(e){let{protocolType:r,limit:i=3,size:s=20}=e,{data:n,isLoading:a,error:l}=(0,h.useMarketplaceIntegrations)({protocolType:r});if(a||l||!n||0===n.length)return null;let o=n.map(e=>({uid:e.id,component:(0,t.jsx)(C.MarketplaceIntegrationCardIcon,{icon:e.icon,name:e.name,size:s})}));return(0,t.jsx)(w.AvatarGroup,{members:o,size:s,limit:i})}function k(e,r){if(r)return null;let i="logs"===e?"logDrain":"traces"===e?"traceDrain":null;return i?(0,t.jsx)(N,{protocolType:i}):null}e.s(["configureDestinationStep",0,{title:"Configure the destination",component:function(){let{watch:e,setValue:o}=(0,a.useFormContext)(),d=e("source"),c=e("mode"),u=e("drainType"),p=(0,r.useMemo)(()=>d?.kind==="integration"?"native-integrations":"custom",[d]),m=k(u,!1);return"update"===c&&d?.kind!=="integration"||"logs"!==u&&"traces"!==u?(0,t.jsx)(l.CustomEndpointEditor,{}):(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial pt-4 max-w-2xl",children:[(0,t.jsx)(i.Tabs,{selected:p,setSelected:e=>{"native-integrations"===e?o("source",{...d,kind:"integration"}):o("source",{...d,kind:"self-served"})},tabs:[{title:"Custom Endpoint",value:"custom",icon:(0,t.jsx)(s.Terminal,{size:16})},{title:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:["Native Integrations",m]}),value:"native-integrations",icon:(0,t.jsx)(n.LogoVercelFill,{size:16})}]}),"custom"===p?(0,t.jsx)(l.CustomEndpointEditor,{}):(0,t.jsx)(S,{})]})},getFieldsToValidate:e=>e.source?.kind==="integration"?["source","source.resourceId"]:["delivery.endpoint","delivery.encoding","delivery.headers","source"],getIsNextEnabled:e=>e.source?.kind!=="integration"||!!("resourceId"in e.source&&e.source.resourceId),getSuffix:k}],4576858);var I=e.i(9722978),D=e.i(2504781),T=e.i(4030453);e.s(["StepWrapper",0,function(e){let{children:r,onNext:i,onBack:s,isFirstStep:n=!1,isLastStep:a=!1,nextLabel:l="Next",isLoading:o=!1,isNextDisabled:d=!1,error:c}=e;return(0,t.jsxs)(t.Fragment,{children:[r,(0,t.jsxs)("div",{className:`flex flex-row items-stretch justify-start gap-2 flex-initial ${(0,I.default)(!a&&"pb-6")}`,children:[!n&&(0,t.jsx)(D.Button,{onClick:s,type:"secondary",typeName:"button",children:"Back"}),i&&(0,t.jsx)(D.Button,{loading:o,disabled:d,onClick:i,typeName:"button",children:l})]}),c&&a&&(0,t.jsx)(T.Error,{children:c})]})}],3226981);var P=e.i(5298575),$=e.i(9979783),M=e.i(5338940),E=e.i(319451),R=e.i(6060673);e.s(["useCreateDrain",0,function(e,t){let{team:r}=(0,M.useTeam)(),{data:i}=(0,R.useProject)(t),s=(0,E.getDrainsKey)({teamIdOrSlug:e,projectIdOrSlug:t,includeMetadata:!0}),{trigger:n,isMutating:a}=(0,P.default)(s,async(e,t)=>{let{arg:s}=t;if(!r?.id)throw Error("Team ID is required");let n={teamId:r.id,...i&&{projectId:i.id}};return(await (0,$.typedFetch)("/v1/drains","post",n,s,{throwOnHTTPError:!0})).body},{throwOnError:!0});return{createDrain:n,isCreating:a}}],4758962)},8404074,e=>{"use strict";var t=e.i(5298575),r=e.i(3657238),i=e.i(9979783),s=e.i(5338940),n=e.i(319451);e.s(["useUpdateDrain",0,function(e,a){let{team:l}=(0,s.useTeam)(),o=(0,n.getDrainsKey)({teamIdOrSlug:e,projectIdOrSlug:a,includeMetadata:!0}),{trigger:d,isMutating:c,error:u}=(0,t.default)(o,async(e,t)=>{let{arg:s}=t;if(!l?.id)throw Error("Team ID is required");let{id:n,...a}=s;(0,r.mutate)(o,e=>{if(e)return{...e,drains:e.drains.map(e=>e.id===n?{...e,...(e=>{let t={};for(let[r,i]of Object.entries(e))t[r]=null===i?void 0:i;return t})(a)}:e)}},!1);try{let e=await (0,i.typedFetch)("/v1/drains/{id}","patch",{id:n,teamId:l.id},a,{throwOnHTTPError:!0});if((0,r.mutate)(o),200!==e.status)throw console.error("Failed to update drain:",e.body),Error("Failed to update drain");return e.body}catch(e){throw console.error("Failed to update drain:",e),(0,r.mutate)(o),e}},{throwOnError:!0});return{updateDrain:d,isUpdating:c,error:u}}])},3199886,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),i=e.i(2504781),s=e.i(455575),n=e.i(5806401),a=e.i(6942035),l=e.i(6318858),o=e.i(109803),d=e.i(7694836),c=e.i(9412123),u=e.i(6143247),p=e.i(2199694),m=e.i(7662235),g=e.i(3614887),f=e.i(4576858),h=e.i(3226981),x=e.i(4758962),v=e.i(8404074),y=e.i(3456281);function j(e){let{filters:t}=e;if(!t)return;let r=t?.deployment?.environments?.length>0,i=t?.log?.sources?.length>0;if(i||r)return{version:"v2",filter:{type:"basic",...i?{log:t.log}:{},...r?{deployment:t.deployment}:{}}}}var b=e.i(6818658),_=e.i(3196486),S=e.i(7917902),w=e.i(4789955),C=e.i(8249103),N=e.i(1094129),k=e.i(9572009),I=e.i(4110479);e.i(8703064);var D=e.i(648779);function T(e){let{drain:l,onClose:k,teamSlug:T,projectIdOrSlug:$,onDrainCreated:M,onDrainUpdated:E,onOpenExternalModal:R,drainType:z,defaultProjectId:A}=e,L=l?"update":"create",O=(0,s.useToasts)(),F=z?2:1,[H,q]=(0,r.useState)(F),{validateEndpoint:B}=(0,w.useEndpointValidationContext)(),V=(0,I.useOptionalDrainModalContext)(),U=V?.resource,W=(0,d.useForm)({resolver:(0,c.zodResolver)(N.DrainFormSchema),defaultValues:async()=>{let e,t,r;if("update"!==L||!l)return(e=>{let{secret:t,resourceId:r,drainType:i,projectId:s}=e;return{mode:"create",name:"",...s?{projectIds:[s],projects:"some"}:{projects:"all",projectIds:[]},drainType:i,filters:{log:{sources:[]},deployment:{environments:[]}},delivery:r?void 0:{type:"http",endpoint:"",encoding:"json",secret:t,headers:{},compression:void 0},sampling:[],source:r?{kind:"integration",resourceId:r}:{kind:"self-served"}}})({secret:await (0,C.generateSecret)(32),resourceId:U?.id,drainType:z,projectId:A});return e=function(e){if(!e)return{log:{sources:[]},deployment:{environments:[]}};if("v2"===e.version)if("basic"===e.filter.type)return{log:{sources:e.filter.log?.sources||[]},deployment:{environments:e.filter.deployment?.environments||[]}};else return{log:{sources:[]},deployment:{environments:[]}};throw Error("Unsupported filter version")}(l.filterV2),t=(0,y.getDrainTypeFromDrain)(l),r=l.source?.kind==="integration"?void 0:l.delivery?.type==="http"||l.delivery?.type==="otlphttp"?l.delivery:void 0,{mode:"update",name:l.name??"",projects:l.projectAccess.access,projectIds:"some"===l.projectAccess.access?l.projectAccess.projectIds:void 0,drainType:t,filters:e,delivery:r,sampling:l.sampling,source:l.source}}}),G=(0,r.useCallback)(()=>{k(),W.reset(),q(F)},[k,W,F]),{handleSubmit:K,isLoading:Y}=function(e){let{teamSlug:t,projectIdOrSlug:i,drainId:s,onSuccess:n,onError:a,onDrainCreated:l}=e,{team:o,user:d}=(0,S.useAccount)(),{createDrain:c,isCreating:u}=(0,x.useCreateDrain)(t,i),{updateDrain:m,isUpdating:g}=(0,v.useUpdateDrain)(t,i);return{handleSubmit:(0,r.useCallback)(async e=>{try{if((0,p.isCreateFlow)(e)){let t={name:e.name.trim(),projects:e.projects,projectIds:e.projectIds,...e.delivery&&{delivery:e.delivery},sampling:e.sampling,schemas:(0,y.getSchemaForDrainType)(e.drainType),filter:j({filters:e.filters}),...e.source&&{source:e.source}},r=await c(t);l?.(e,r)}else if((0,p.isUpdateFlow)(e)){if(!s)throw Error("Drain ID is required for update mode");let t={id:s,...void 0!==e.name&&{name:e.name.trim()},...void 0!==e.status&&{status:e.status},...void 0!==e.delivery&&{delivery:e.delivery},...void 0!==e.sampling&&{sampling:e.sampling},...void 0!==e.filters&&{filter:j({filters:e.filters})},...(void 0!==e.projectIds||void 0!==e.projects)&&{projectIds:e.projectIds,projects:e.projects}};await m(t),e.status&&(0,_.sendToSnowflake)(b.Topic.VercelAppV0LogDrainToggle,{event_time:Date.now(),user_id:null!==d?d.uid:"",team_id:null!==o?o.id:"",log_drain_id:s,enabled:"enabled"===e.status},"vercel-app")}n?.()}catch(e){a?.(e)}},[c,m,s,t,i,n,a,o,d,l]),isLoading:u||g}}({teamSlug:T,projectIdOrSlug:$,drainId:l?.id,onSuccess:async()=>{"update"===L&&await E?.(),G(),O.success({text:`Drain ${"create"===L?"created":"updated"} successfully.`,key:`${"create"===L?"add":"edit"}-drain`})},onError:e=>{console.error(e),W.setError("root.serverError",{message:e.message}),O.error({text:`Failed to ${L} drain`})},onDrainCreated:e=>{M?.({drainType:e.drainType,kind:e.source?.kind==="integration"?`integration${"externalResourceId"in e.source?"-external":""}`:e.source?.kind})}}),Z=(0,r.useCallback)(async e=>{if(W.clearErrors(),(0,p.isCreateFlow)(e))await K(e);else if(W.formState.isDirty&&Object.keys(W.formState.dirtyFields).length>0){var t;let r,i,s=(t=W.formState.dirtyFields,r=t.projects||t.projectIds,i=Object.keys(t).reduce((r,i)=>t[i]?{...r,[i]:e[i]}:r,{}),r?{...i,projects:e.projects,projectIds:e.projectIds}:i);await K({...s,mode:"update",drainType:e.drainType})}else G(),O.success({text:"No changes to save.",key:"edit-drain"})},[K,W.formState.isDirty,W.formState.dirtyFields,O,G,W.clearErrors,M,l]),Q=(0,r.useMemo)(()=>{let e=[m.chooseDrainDataStep,g.configureDrainStep,f.configureDestinationStep],t=[g.configureDrainStep,f.configureDestinationStep];return U&&(e=[m.chooseDrainDataStep,g.configureDrainStep],t=[g.configureDrainStep]),("update"===L?t:e).map((e,t)=>({...e,id:t+1,number:t+1,isComplete:t+1<H,isActive:H===t+1,disabled:t+1>H}))},[L,H,U]),J=Q.length,X=Q.find(e=>e.id===H),ee=async()=>{let e=W.getValues(),t=X?.getFieldsToValidate(e);if(!t)return;let r=await W.trigger(t),i=e.source?.kind==="self-served";if(r&&X?.component===f.configureDestinationStep.component)if(i){if(W.setValue("source",{kind:"self-served"}),!await B(e)){let t="string"==typeof e.delivery?.endpoint?"delivery.endpoint":"delivery.endpoint.traces";W.setError(t,{message:""});return}}else W.setValue("delivery",void 0);r&&(H===J?W.handleSubmit(Z,e=>{console.error("[DrainModal] RHF validation failed with errors:",e)})():H<J&&q(H+1))},et=()=>{H>1&&(W.clearErrors(),q(H-1))};return(0,t.jsxs)("main",{className:"flex h-full shrink-0 grow-0 flex-col",children:[(0,t.jsx)("header",{className:"sticky top-0 z-50 bg-background-100 pt-7",children:(0,t.jsxs)("section",{className:"flex items-center justify-start gap-4 px-8",children:[(0,t.jsxs)(n.SheetTitle,{className:"text-heading-24 flex items-center gap-4",children:[(0,t.jsxs)("span",{children:["create"===L?"Add":"Edit"," Drain"]}),U&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[(0,t.jsx)(D.ProductIcon,{icon:U.product.iconUrl,size:"medium"}),(0,t.jsx)("span",{children:U.name})]})]}),(0,t.jsx)(n.SheetDescription,{className:"sr-only",children:"Configure a drain to send your data to external services"}),(0,t.jsxs)("div",{className:"ml-auto flex items-center gap-3",children:["create"===L&&!U&&R&&(0,t.jsx)(i.Button,{type:"tertiary",size:"small",onClick:R,suffix:(0,t.jsx)(o.External,{}),className:"!text-gray-600 hover:!text-gray-900",children:"External Integrations"}),(0,t.jsx)(i.Button,{svgOnly:!0,"aria-label":"close modal",shape:"circle",size:"tiny",onClick:G,className:"!border-0 !bg-transparent",children:(0,t.jsx)(a.Cross,{color:"gray-1000"})})]})]})}),(0,t.jsx)("div",{className:"px-8 pb-4 pt-6",children:(0,t.jsx)("div",{className:"space-y-1",children:(0,t.jsx)(d.FormProvider,{...W,children:(0,t.jsx)("form",{onSubmit:e=>{e.preventDefault(),ee()},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),ee())},children:Q.map(e=>{let r=e.getSuffix?.(W.watch("drainType"),e.isActive);return(0,t.jsxs)("div",{children:[(0,t.jsx)(P,{step:e,onClick:()=>{var t;(t=e.number)>H||(W.clearErrors(),q(t))},suffix:r}),e.isActive&&(0,t.jsx)("div",{className:`flex flex-col items-stretch justify-start gap-6 flex-initial ${(0,u.cn)("pl-6 ml-[1.6rem] -mt-1 -mb-1",e.number!==J&&"border-gray-400 border-dashed border-l")}`,children:(()=>{var e,r,i;if(!X)return null;let s=X.component,n=X.getIsNextEnabled(W.getValues());return(0,t.jsx)(h.StepWrapper,{error:W.formState.errors.root?.serverError?.message,isLoading:Y,onNext:ee,onBack:et,isFirstStep:1===H,isLastStep:H===J,nextLabel:(e=H,r=J,i=L,e===r?"create"===i?"Create Drain":"Update Drain":"Next"),isNextDisabled:!n,children:(0,t.jsx)(s,{})})})()})]},e.number)})})})})})]})}function P(e){let{step:r,onClick:i,suffix:s}=e;return(0,t.jsxs)("div",{className:(0,u.cn)("flex items-center gap-3 px-3 py-3 cursor-pointer transition-colors",{"hover:bg-gray-50":!r.disabled&&!r.isActive,"opacity-80 cursor-not-allowed":r.disabled&&r.isNext,"opacity-50 cursor-not-allowed":r.disabled&&!r.isNext,"hover:bg-success-100":r.isComplete&&!r.isActive}),onClick:i,title:r.isComplete&&!r.isActive?"Click to return to this step":void 0,children:[(0,t.jsx)("div",{className:(0,u.cn)("flex size-7 items-center justify-center rounded-full text-sm font-medium border",{"bg-success text-black border-success":r.isComplete,"bg-black text-white border-black":!r.isComplete&&r.isActive,"bg-white text-gray-900 border-gray-500":!r.isComplete&&!r.isActive}),children:r.isComplete?(0,t.jsx)(l.Check,{size:14}):r.number}),(0,t.jsx)("p",{className:(0,u.cn)("text-[16px] leading-[24px]",r.isActive&&"font-medium"),children:r.title}),s]})}e.s(["DrainModal",0,function(e){let{drain:i,active:s,onClose:a,teamSlug:l,projectIdOrSlug:o,onDrainCreated:d,onDrainUpdated:c,onOpenExternalModal:p,drainType:m,defaultProjectId:g}=e,f=(0,r.useRef)(null);return(0,t.jsx)(n.Sheet,{open:s,onOpenChange:e=>!e&&a(),children:(0,t.jsx)(n.SheetContent,{ref:f,className:(0,u.cn)("m-3 h-[calc(100%-1.5rem)] w-[calc(100%-1.5rem)] overflow-y-auto rounded-[1rem] bg-white p-0 pb-6 lg:w-3/4 sm:max-w-[800px]"),side:"right",children:(0,t.jsx)(k.SheetContainerContext.Provider,{value:f.current,children:(0,t.jsx)(w.EndpointValidationProvider,{children:(0,t.jsx)(T,{drain:i,onClose:a,teamSlug:l,projectIdOrSlug:o,onDrainCreated:d,onDrainUpdated:c,onOpenExternalModal:p,drainType:m,defaultProjectId:g})})})})})}],3199886)},5765731,e=>{"use strict";var t=e.i(2704354),r=e.i(9668517),i=e.i(850302);e.s(["useConnectableIntegrations",0,function(){let e=(0,r.useTeamSlug)();return(0,i.default)(e?(0,t.getMarketplaceIntegrationsApiUrl)({integrationType:"external",teamIdOrSlug:e}):null,e=>fetch(e).then(e=>e.json()))}])},7908739,e=>{"use strict";e.s(["HIDE_ADD_BUTTON_SLUGS",0,["bigcommerce"],"HIDE_DEPLOY_BUTTON_SLUGS",0,["agility-cms","gel","motherduck"]])},6269556,e=>{"use strict";var t=e.i(5677444),r=e.i(8660982),i=e.i(6838069);e.s(["useMarketplaceNavigation",0,function(){let e=(0,t.useSearchParams)(),s=(0,t.useParams)(),n=e?.get("category")??null,a=e?.get("search")??null,l=!!e?.get("expanded"),o=!!e?.get("isPreview"),d=(0,r.useMemo)(()=>s?.teamSlug?{teamSlug:s.teamSlug.toString(),isPublic:!1}:{isPublic:!0,teamSlug:void 0},[s?.teamSlug]);return{categorySlug:n,isRootCategory:!n||!!l,searchQuery:a,expanded:l,teamSlugOrPublic:d,isPreview:!!o,getBrowseMarketplaceLink:e=>(0,i.getBrowseMarketplaceLink)({teamSlugOrPublic:d,...e})}}])},6315360,e=>{e.v({bradcrumbsWrapper:"details-layout-module__xg7Djq__bradcrumbsWrapper",breadcrumbsText:"details-layout-module__xg7Djq__breadcrumbsText",cta:"details-layout-module__xg7Djq__cta",header:"details-layout-module__xg7Djq__header",marketplaceDetailsProductsGrid:"details-layout-module__xg7Djq__marketplaceDetailsProductsGrid",marketplaceProduct:"details-layout-module__xg7Djq__marketplaceProduct",message:"details-layout-module__xg7Djq__message",mobileHeaderButtons:"details-layout-module__xg7Djq__mobileHeaderButtons",wrapper:"details-layout-module__xg7Djq__wrapper"})},1033832,e=>{"use strict";var t=e.i(4205214),r=e.i(5468328),i=e.i(4991687),s=e.i(6694387),n=e.i(8459493),a=e.i(8674454),l=e.i(8876434),o=e.i(57106),d=e.i(8660982),c=e.i(5338940),u=e.i(1857939),p=e.i(2504781),m=e.i(3225905),g=e.i(7668531),f=e.i(2704354),h=e.i(7908739),x=e.i(6838069),v=e.i(1017032),y=e.i(8794163),j=e.i(4065455),b=e.i(6269556),_=e.i(7594446),S=e.i(6315360),w=e.i(9722978);let C={normal:{foreground:"#000",background:"#fff",border:"#fff"},hover:{foreground:"#fff",background:"#000",border:"#fff"},active:{foreground:"#fff",background:"#000",border:"#fff"}};function N(e){let{isCta:r,...i}=e;return r?(0,t.jsx)(g.CustomButtonLink,{...C,...i}):(0,t.jsx)(o.ButtonLink,{...i})}function k(e){let{isCta:r,...i}=e;return r?(0,t.jsx)(m.CustomButton,{...C,...i}):(0,t.jsx)(p.Button,{...i})}function I(e){let{integration:i,isCta:s,type:n,size:a,className:l,loginRedirect:o}=e,{isLoggedOut:p}=(0,u.useIsLoggedIn)(),{teamSlugOrPublic:m}=(0,b.useMarketplaceNavigation)(),{canCreateIntegrationConfiguration:g}=(0,_.useIntegrationPermissions)(),h=n??((0,f.isMarketplaceIntegration)(i)?"secondary":"default"),{isReady:S,team:w}=(0,c.useTeam)(),{hasConfigurations:C,data:I}=(0,v.useConfigurations)({integrationId:i.id,type:"external",skip:m.isPublic,skipBillingData:!0}),D=I?.[0],[T,P]=(0,d.useState)(!1),$=!!(w?.billing?.plan==="hobby"||w?.billing?.trial)&&i.proOnly,M=!g,E=$||M,R=!!(0,y.useV0Marketplace)()?.token;if((0,f.isMarketplaceOnlyIntegration)(i))return null;let z=!i.canInstall&&!!i.hiddenAt;return D&&m.teamSlug?(0,t.jsx)(r.Tooltip,{disableTriggers:g,text:g?void 0:"You don't have permission to manage this integration.",children:(0,t.jsx)(N,{className:l,href:(0,x.getInstallationDetailsLink)({teamSlug:m.teamSlug,configurationId:D.id,integrationSlug:i.slug,isMarketplace:!1}),isCta:s,type:h,size:a,disabled:!g,children:"Manage"})}):z?null:p?(0,t.jsx)(N,{className:l,disabled:(0,f.isLegacyIntegration)(i),href:o??`/login?next=${(0,x.getIntegrationDetailsLink)({integrationSlug:i.slug,teamSlugOrPublic:m,isFromV0:R})}`,isCta:s,type:h,size:a,rel:"nofollow",children:"Connect Account"}):(0,t.jsxs)(t.Fragment,{children:[C?null:(0,t.jsx)(r.Tooltip,{disableTriggers:!E,text:M?"You need additional permissions to install integrations.":"You need a paid account to install this integration",children:(0,t.jsx)(k,{className:l,disabled:E,isCta:s,onClick:()=>P(!0),type:h,size:a,children:"Connect Account"})}),T&&S?(0,t.jsx)(j.InstallExternalIntegrationModal,{account:w,integration:i,onAnimationDone:()=>P(!1),teamSlugOrPublic:m}):null]})}e.s(["ConnectAndTemplateMenu",0,function(){let{size:e,integrationSlug:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r&&h.HIDE_DEPLOY_BUTTON_SLUGS.includes(r)?null:(0,t.jsxs)(i.MenuContainer,{children:[(0,t.jsx)(s.MenuButton,{"aria-label":"More",shape:"square",svgOnly:!0,type:"secondary",size:e,children:(0,t.jsx)(l.MoreHorizontal,{})}),(0,t.jsx)(a.Menu,{children:(0,t.jsx)(n.MenuItem,{children:(0,t.jsx)(o.Link,{href:"#template",prefetch:!1,children:"Deploy Template"})})})]})},"ConnectExternalIntegrationButton",0,I,"ConnectExternalIntegrationCTA",0,function(e){let{integration:r}=e,{teamSlugOrPublic:i}=(0,b.useMarketplaceNavigation)(),{hasConfigurations:s}=(0,v.useConfigurations)({integrationId:r.id,type:"external",skip:i.isPublic,skipBillingData:!0}),n=!r.canInstall&&!!r.hiddenAt;return s||n?null:(0,t.jsx)("div",{className:S.default.wrapper,children:(0,t.jsxs)("div",{className:(0,w.default)("flex flex-col items-stretch justify-start gap-3 flex-initial",S.default.cta),children:[(0,t.jsxs)("div",{className:S.default.message,children:["Get started with Vercel and ",r.name,"."]}),(0,t.jsx)(I,{integration:r,isCta:!0})]})})}])},7589392,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),i=e.i(3199886),s=e.i(6891161),n=e.i(57106),a=e.i(109803),l=e.i(1017032),o=e.i(5765731),d=e.i(2521731),c=e.i(2704354),u=e.i(1282571),p=e.i(1033832),m=e.i(7743427);function g(e){let{config:r,teamSlug:i}=e,{data:s,isLoading:l}=(0,m.useIntegration)(r.integrationId,{teamId:i});return l||!s?null:(0,t.jsx)(u.MarketplaceIntegrationCard,{Actions:(0,t.jsx)(n.ButtonLink,{size:"small",type:"secondary",prefix:(0,t.jsx)(a.External,{size:14}),href:(0,c.getConfigureUrl)(s,r.id),target:"_blank",children:"Configure"}),className:"p-3 px-4",disabled:!0,href:"#",icon:s.icon,title:s.name,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-gray-1000",children:s.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-900",children:["Connected ",new Date(r.createdAt).toLocaleDateString()]})]})})}function f(e){let{teamSlug:r,onClose:i}=e,{data:n}=(0,l.useConfigurations)({skipBillingData:!0}),{data:a}=(0,o.useConnectableIntegrations)(),c=n?.filter(e=>"external"===e.installationType&&e.scopes.includes("read-write:log-drain"))||[],m=Array.isArray(a)?a.filter(e=>!!(0,d.integrationSupportsLogDrains)(e)&&!n?.some(t=>"external"===t.installationType&&t.integrationId===e.id)):[];return(0,t.jsxs)(s.Modal.Modal,{active:!0,onClickOutside:i,children:[(0,t.jsxs)(s.Modal.Body,{children:[(0,t.jsx)(s.Modal.Header,{children:(0,t.jsx)(s.Modal.Title,{center:!0,children:"External Integration Log Drains"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-6 mt-4",children:[c.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-1000 mb-3",children:"Installed Integrations"}),(0,t.jsx)("div",{className:"rounded-md border border-accents-2 shadow-[0px_1px_2px_0px_rgba(0,0,0,0.04)]",children:c.map(e=>(0,t.jsx)(g,{config:e,teamSlug:r},e.id))})]}),m.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-1000 mb-3",children:"Available Integrations"}),(0,t.jsx)("div",{className:"rounded-md border border-accents-2 shadow-[0px_1px_2px_0px_rgba(0,0,0,0.04)]",children:m.map(e=>(0,t.jsx)(u.MarketplaceIntegrationCard,{Actions:(0,t.jsx)(p.ConnectExternalIntegrationButton,{integration:e,size:"small"}),className:"p-3 px-4",disabled:!0,href:"#",icon:e.icon,title:e.name,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-gray-1000",children:e.name}),(0,t.jsx)("div",{className:"text-xs text-gray-900",children:e.shortDescription})]})},e.id))})]}),0===c.length&&0===m.length&&(0,t.jsx)("p",{className:"text-center py-8 text-gray-700",children:"No external integrations available for log drains."})]})]}),(0,t.jsxs)(s.Modal.Actions,{children:[(0,t.jsx)("div",{}),(0,t.jsx)(s.Modal.Action,{type:"secondary",onClick:i,children:"Close"})]})]})}var h=e.i(8633387);e.s(["DrainModals",0,function(e){let{isOpen:s,closeModal:n,teamSlug:a,projectIdOrSlug:l,onDrainCreated:o,drain:d,drainType:c}=e,[u,p]=(0,r.useState)(!1),{data:m}=(0,h.useDashboardProject)({projectSlug:l,teamSlug:a});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.DrainModal,{drain:d,active:s,onClose:()=>{n()},teamSlug:a,projectIdOrSlug:l,onDrainCreated:o,onOpenExternalModal:()=>{n(),p(!0)},drainType:c,defaultProjectId:m?.id},d?.id),u&&(0,t.jsx)(f,{teamSlug:a,onClose:()=>p(!1)})]})}],7589392)},1201436,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M2.75 0.5C1.7835 0.5 1 1.2835 1 2.25V9.75C1 10.7165 1.7835 11.5 2.75 11.5H3.75H4.5V10H3.75H2.75C2.61193 10 2.5 9.88807 2.5 9.75V2.25C2.5 2.11193 2.61193 2 2.75 2H8.25C8.38807 2 8.5 2.11193 8.5 2.25V3H10V2.25C10 1.2835 9.2165 0.5 8.25 0.5H2.75ZM7.75 4.5C6.7835 4.5 6 5.2835 6 6.25V13.75C6 14.7165 6.7835 15.5 7.75 15.5H13.25C14.2165 15.5 15 14.7165 15 13.75V6.25C15 5.2835 14.2165 4.5 13.25 4.5H7.75ZM7.5 6.25C7.5 6.11193 7.61193 6 7.75 6H13.25C13.3881 6 13.5 6.11193 13.5 6.25V13.75C13.5 13.8881 13.3881 14 13.25 14H7.75C7.61193 14 7.5 13.8881 7.5 13.75V6.25Z" fill="currentColor"/>');e.s(["Copy",0,t])},3907972,e=>{e.v({button:"custom-module__xWgFhW__button"})},3225905,e=>{"use strict";var t=e.i(4205214),r=e.i(9722978),i=e.i(2504781),s=e.i(3907972);e.s(["CustomButton",0,e=>{let{normal:n,active:a,hover:l,className:o,...d}=e;return(0,t.jsx)(i.Button,{...d,className:(0,r.clsx)(s.default.button,o),"data-custom-button":"",style:{"--button-custom-fg":`${n?.foreground||""}`,"--button-custom-bg":`${n?.background||""}`,"--button-custom-border":`${n?.border||""}`,"--button-custom-fg-active":`${a?.foreground||""}`,"--button-custom-bg-active":`${a?.background||""}`,"--button-custom-border-active":`${a?.border||""}`,"--button-custom-fg-hover":`${l?.foreground||""}`,"--button-custom-bg-hover":`${l?.background||""}`,"--button-custom-border-hover":`${l?.border||""}`},children:d.children})}])},3124040,e=>{e.v({copyButtonIcon:"copy-button-module__8qN89q__copyButtonIcon",fadeIn:"copy-button-module__8qN89q__fadeIn",fadeOut:"copy-button-module__8qN89q__fadeOut",hidden:"copy-button-module__8qN89q__hidden",icon:"copy-button-module__8qN89q__icon",initial:"copy-button-module__8qN89q__initial",visible:"copy-button-module__8qN89q__visible"})},8225664,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),i=e.i(9722978),s=e.i(4004502),n=e.i(6318858),a=e.i(1201436),l=e.i(2504781),o=e.i(3225905),d=e.i(455575),c=e.i(3124040);e.s(["CopyButton",0,e=>{let{className:u,textToCopy:p,onClick:m,label:g,title:f,type:h="secondary",variant:x,normal:v,hover:y,active:j,shape:b="square",size:_,icon:S,...w}=e,C=(0,d.useToasts)(),[N,k]=(0,r.useState)(!1),[I,D]=(0,r.useState)(!0),T=(0,r.useRef)(null),P=r.default.useCallback(e=>{D(!1),T.current&&clearTimeout(T.current),navigator.clipboard.writeText(p).then(()=>{k(!0),T.current=setTimeout(()=>{k(!1)},1e3)}).catch(()=>C.error("Failed to copy to clipboard")).finally(()=>m?.(e))},[p,C,m]),$=!!(v||y||j),M=(0,t.jsxs)("div",{style:{position:"relative",height:16,width:16},children:[(0,t.jsx)("div",{className:(0,i.clsx)(c.default.icon,{[String(c.default.initial)]:I,[String(c.default.visible)]:!I&&N,[String(c.default.hidden)]:!I&&!N}),children:(0,t.jsx)(n.Check,{})}),(0,t.jsx)("div",{className:(0,i.clsx)(c.default.icon,{[String(c.default.visible)]:!I&&!N,[String(c.default.hidden)]:!I&&N}),children:S||(0,t.jsx)(a.Copy,{})})]});return $?(0,t.jsx)(o.CustomButton,{active:j,"aria-label":g,className:(0,i.clsx)(u),"data-testid":(0,s.tid)("copy","button"),hover:y,normal:v,onClick:P,shape:b,size:_,svgOnly:!0,title:f,typeName:"button",...w,children:M}):(0,t.jsxs)(l.Button,{"aria-label":g,className:(0,i.clsx)(u),"data-testid":(0,s.tid)("copy","button"),onClick:P,shape:b,size:_,svgOnly:!0,title:f,type:h,typeName:"button",variant:x,...w,children:[N?(0,t.jsx)("div",{"aria-live":"assertive",className:"geist-sr-only",role:"status",children:"Copied!"}):null,M]})}])},6064230,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M1.53035 12.7804L1.00002 13.3108L-0.0606384 12.2501L0.469692 11.7198L4.18936 8.00011L0.469692 4.28044L-0.0606384 3.75011L1.00002 2.68945L1.53035 3.21978L5.60358 7.29301C5.9941 7.68353 5.9941 8.3167 5.60357 8.70722L1.53035 12.7804ZM8.75002 12.5001H8.00002V14.0001H8.75002H15.25H16V12.5001H15.25H8.75002Z" fill="currentColor" />');e.s(["Terminal",0,t])},7602085,e=>{e.v({noBorder:"tabs-module__Da1ZWG__noBorder",tab:"tabs-module__Da1ZWG__tab",tabIcon:"tabs-module__Da1ZWG__tabIcon",tabs:"tabs-module__Da1ZWG__tabs"})},4237893,e=>{"use strict";var t=e.i(4205214),r=e.i(9722978),i=e.i(8660982),s=e.i(5468328),n=e.i(7602085);function a(e){let{tooltip:a,icon:l,title:o,isActive:d,showFocusRing:c,setShowFocusRing:u,onKeyDown:p,onMouseDown:m,disabled:g,tabClassName:f,...h}=e,x=(0,i.useId)();return(0,t.jsx)(s.Tooltip,{disableTriggers:void 0===a,text:a,children:(0,t.jsxs)("button",{"aria-controls":x,"aria-selected":d,className:(0,r.clsx)(n.default.tab,f),"data-geist-tab":"","data-show-focus-ring":c,disabled:g,id:x,onBlur:()=>{u?.(!0)},onFocus:()=>{m?.()},onKeyDown:p,role:"tab",tabIndex:d?0:-1,type:"button",...h,children:[l?(0,t.jsx)("div",{className:n.default.tabIcon,children:l}):null,o]})})}function l(e,t){if(!e)return;let r=e.querySelector(`[data-index="${t}"]`);r?.focus({preventScroll:!0})}e.s(["Tabs",0,function(e){let{tabs:s,selected:o,setSelected:d,variant:c,disabled:u,border:p=!0,style:m,tabClassName:g,className:f,...h}=e,[x,v]=(0,i.useState)(!0),y=(0,i.useRef)(null),[j,b]=(0,i.useState)(s[0]?.value),_=void 0!==o,S=_?o:j;function w(e){_||b(e.value),d?.(e.value)}function C(e){if(!u){if("ArrowLeft"===e.key){let e=s.findIndex(e=>e.value===S)-1,t=s[e];if(t?.disabled)return;e>=0&&t&&(l(y.current,e),w(t),v(!1))}else if("ArrowRight"===e.key){let e=s.findIndex(e=>e.value===S)+1,t=s[e];if(t?.disabled)return;e<s.length&&t&&(l(y.current,e),w(t),v(!1))}}}return(0,t.jsx)("div",{"aria-orientation":"horizontal",className:(0,r.clsx)("geist-no-scrollbar",n.default.tabs,f,{[n.default.noBorder]:!p}),"data-geist-tabs":"","data-variant":c,"data-version":"v1",ref:y,role:"tablist",style:m,...h,children:s.map((e,r)=>(0,t.jsx)(a,{...e,disabled:e.disabled||u,isActive:e.value===S,onKeyDown:C,onMouseDown:()=>w(e),setShowFocusRing:v,showFocusRing:x,tabClassName:g},r))})}])},7886235,e=>{e.v({checked:"toggle-module__fUrgQa__checked",disabled:"toggle-module__fUrgQa__disabled",input:"toggle-module__fUrgQa__input "+e.i(5472387).visuallyHidden,large:"toggle-module__fUrgQa__large",medium:"toggle-module__fUrgQa__medium",noMargin:"toggle-module__fUrgQa__noMargin",switchFirst:"toggle-module__fUrgQa__switchFirst",thumb:"toggle-module__fUrgQa__thumb",thumbIcon:"toggle-module__fUrgQa__thumbIcon",titleCasing:"toggle-module__fUrgQa__titleCasing",toggle:"toggle-module__fUrgQa__toggle",wrapper:"toggle-module__fUrgQa__wrapper"})},1906681,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),i=e.i(9722978),s=e.i(4004502),n=e.i(9544652),a=e.i(7886235);let l={amber:{background:"--ds-amber-700",foreground:"--ds-amber-100",lightModeForeground:"--ds-amber-1000",checkedBackground:"--ds-gray-100"},"amber-inverted":{background:"--ds-gray-100",foreground:"--ds-gray-100",lightModeForeground:"--ds-amber-1000",checkedBackground:"--ds-amber-700"},"amber-track-only":{background:"--ds-amber-700",foreground:"--ds-black",lightModeForeground:"--ds-black",checkedBackground:"--ds-gray-100"},red:{background:"--ds-red-600",foreground:"--ds-red-100",lightModeForeground:"--ds-red-1000",checkedBackground:"--ds-gray-100"}};e.s(["Toggle",0,e=>{let{className:o,children:d,size:c,disabled:u,name:p,checked:m,onChange:g,onClick:f,onBlur:h,onFocus:x,onKeyDown:v,noMargin:y,direction:j="label-first",labelCasing:b="title",stopPropagation:_=!1,icon:S,color:w,...C}=e,N=(0,n.useDisabled)()||u,k=(0,r.useCallback)(e=>{!N&&g&&(_&&e.stopPropagation(),g(!m))},[m,g,N,_]),I={...C.style};if(w){let e=l[w];I["--unchecked-bg-color-override"]=`var(${e.background})`,I["--checked-bg-color-override"]=`var(${e.checkedBackground})`,I["--thumb-fg-color-override"]=`var(${e.foreground})`,e.lightModeForeground&&(I["--thumb-light-fg-color-override"]=`var(${e.lightModeForeground})`)}return(0,t.jsxs)("label",{className:(0,i.clsx)(a.default.wrapper,o,{[String(a.default.large)]:"large"===c,[String(a.default.medium)]:"medium"===c,[String(a.default.switchFirst)]:"switch-first"===j,[String(a.default.titleCasing)]:"title"===b}),"data-version":"v1",...C,style:I,children:[d?(0,t.jsx)("span",{children:d}):null,(0,t.jsx)("input",{checked:m,className:(0,i.clsx)(a.default.input,"group"),"data-testid":(0,s.tid)(C["data-testid"]??"toggle","input"),disabled:N,name:p,onBlur:h,onChange:k,onClick:f,onFocus:x,onKeyDown:e=>{"Enter"===e.key&&k(e),v?.(e)},type:"checkbox"}),(0,t.jsx)("span",{className:(0,i.clsx)(a.default.toggle,{[String(a.default.checked)]:m,[String(a.default.disabled)]:N,[String(a.default.noMargin)]:y},""),children:(0,t.jsx)("div",{className:(0,i.clsx)(a.default.thumb,{[String(a.default.checked)]:m}),children:S?(0,t.jsxs)("div",{"aria-hidden":!0,className:(0,i.clsx)({[String(a.default.checked)]:m,[String(a.default.thumbIcon)]:!N},"flex justify-center items-center w-full h-full",N?"text-gray-700":"text-gray-900 dark:text-background-100"),children:[m?S.checked:null,m?null:S.unchecked]}):null})})]})}])},2107254,e=>{"use strict";var t=e.i(8660982),r=e.i(850302),i=e.i(7222834),s=e.i(9326329),n=e.i(8042625),a=e.i(277234),l=e.i(4244280),o=e.i(9668517),d=e.i(5140444);function c(e){let{version:t,until:r,limit:i,latestDeployments:s,search:a,slug:o,excludeRepos:d,edgeConfigId:c,edgeConfigTokenId:u,connectConfigurationId:p,from:m,sortByElasticConcurrency:g,buildMachineTypes:f,includePermissions:h,elasticConcurrencyEnabled:x,buildQueueConfiguration:v}=e;return`${(0,l.API_PROJECTS_VERSION)(t)}${(0,n.encode)({until:r,limit:i,latestDeployments:s,search:a,slug:o,excludeRepos:d,edgeConfigId:c,edgeConfigTokenId:u,connectConfigurationId:p,from:m,sortByElasticConcurrency:g,buildMachineTypes:f,includePermissions:h,elasticConcurrencyEnabled:null==x?null:Number(x).toString(),buildQueueConfiguration:v})}`}let u=null;function p(e,t){let r,i,{sortByElasticConcurrency:s}=t;return s&&"string"==typeof e?r=e:"number"==typeof e&&(i=e),{from:r,until:i}}e.s(["default",0,function(){let{fetchEnabled:e=!0,limit:i,from:c,linked:u,search:p,hasProductionDomains:m,domain:g,latestDeployments:f=3,deploymentInfo:h,includePermissions:x=!1,edgeConfigId:v,edgeConfigTokenId:y,connectConfigurationId:j,excludeConnectConfigurationId:b,staticIpsEnabled:_,teamId:S}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},C=arguments.length>2?arguments[2]:void 0,N=arguments.length>3?arguments[3]:void 0,k=(0,o.useTeamSlug)(),I=(0,s.useRouter)(),{user:D,isNorthstar:T}=(0,d.useUser)(),[P,$]=(0,t.useState)(p);return(0,t.useEffect)(()=>{$(e=>e===p?e:p)},[p]),{...(0,r.default)(()=>e&&(!I||I.isReady)&&D&&(!T||D.defaultTeamId||S)?`${(0,l.API_PROJECTS_VERSION)("v8")}${(0,n.encode)({from:c||null,limit:i,linked:!!u||null,search:P,hasProductionDomains:m?"1":null,domain:g,latestDeployments:void 0===f?null:f,deploymentInfo:h||null,slug:C||k,includePermissions:x,edgeConfigId:v,edgeConfigTokenId:y,connectConfigurationId:j,excludeConnectConfigurationId:b,staticIpsEnabled:void 0===_?null:Number(_).toString(),teamId:S||null})}`:null,e=>(0,a.fetchAPI)(e,{throwOnHTTPError:!0,throwOnScopeAuthError:N?.throwOnScopeAuthError}),w),updateSearch:$,search:P}},"preloadProjectListInfinite",0,function(e,t){let{limit:r=8,latestDeployments:i=3,excludeReposRef:s}=e,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v9",d=`${(0,l.API_PROJECTS_VERSION)(o)}${(0,n.encode)({limit:r,latestDeployments:i,slug:t,excludeRepos:s?.current[0]??null})}`;u=[d,(0,a.fetchAPI)(d)]},"useProjectListInfinite",0,function(){let{fetchEnabled:e=!0,limit:n=8,latestDeployments:l=3,search:d,excludeReposRef:m,revalidateFirstPage:g=!0,edgeConfigId:f,edgeConfigTokenId:h,connectConfigurationId:x,version:v="v9",slug:y,sortByElasticConcurrency:j,buildMachineTypes:b,includePermissions:_,elasticConcurrencyEnabled:S,buildQueueConfiguration:w}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},N=arguments.length>2&&void 0!==arguments[2]&&arguments[2],k=arguments.length>3&&void 0!==arguments[3]&&arguments[3],I=(0,s.useRouter)(),D=(0,o.useTeamSlug)(),T=y||D,P=(0,i.default)((t,r)=>{if(!e||I&&!I.isReady)return null;if(!t)return c({version:v,limit:n,latestDeployments:l,search:d,slug:T,excludeRepos:m?.current[0]??null,edgeConfigId:f,edgeConfigTokenId:h,connectConfigurationId:x,sortByElasticConcurrency:j,buildMachineTypes:b,includePermissions:_,elasticConcurrencyEnabled:S,buildQueueConfiguration:w});let{until:i,from:s}=p(r?.pagination.next,{sortByElasticConcurrency:j});return i||s?c({version:v,until:i,limit:n,latestDeployments:l,search:d,slug:T,excludeRepos:m?.current[t]??null,edgeConfigId:f,edgeConfigTokenId:h,connectConfigurationId:x,from:s,sortByElasticConcurrency:j,buildMachineTypes:b,includePermissions:_,elasticConcurrencyEnabled:S,buildQueueConfiguration:w}):null},async e=>{if(u&&u[0]===e){let e=await u[1];return u=null,e}return(0,a.fetchAPI)(e,{throwOnHTTPError:!0})},{...C,keepPreviousData:k,revalidateFirstPage:g,persistSize:!0}),$=!!P.data,M=!!((P.data?.[P.data.length-1]?.projects.length??0)<n||P.data?.[P.data.length-1]?.pagination.next===null),E=(0,t.useMemo)(()=>P.data?P.data.flatMap(e=>e.projects):[],[P.data]),R=$&&0===E.length,z=!!(P.data&&P.size>P.data.length);return(0,r.default)(()=>{if(N||!P.data||M)return null;let e=P.data[P.data.length-1],{from:t,until:r}=p(e?.pagination.next,{sortByElasticConcurrency:j});return c({version:v,until:r,limit:n,latestDeployments:l,search:d,slug:T,excludeRepos:m?.current[0]??null,edgeConfigId:f,edgeConfigTokenId:h,connectConfigurationId:x,from:t,sortByElasticConcurrency:j,buildMachineTypes:b,includePermissions:_,elasticConcurrencyEnabled:S,buildQueueConfiguration:w})},e=>(0,a.fetchAPI)(e,{throwOnHTTPError:!0})),[P,{projects:E,initialDataLoaded:$,isEmpty:R,loadMore:()=>P.setSize(e=>e+1),isLoadingMore:z,isReachingEnd:M,isValidating:P.isValidating}]}],2107254)},3294237,e=>{"use strict";var t=e.i(3007284);let r=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=t.clsx;e.s(["cva",0,(e,t)=>s=>{var n;if((null==t?void 0:t.variants)==null)return i(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:a,defaultVariants:l}=t,o=Object.keys(a).map(e=>{let t=null==s?void 0:s[e],i=null==l?void 0:l[e];if(null===t)return null;let n=r(t)||r(i);return a[e][n]}),d=s&&Object.entries(s).reduce((e,t)=>{let[r,i]=t;return void 0===i||(e[r]=i),e},{});return i(e,o,null==t||null==(n=t.compoundVariants)?void 0:n.reduce((e,t)=>{let{class:r,className:i,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...l,...d}[t]):({...l,...d})[t]===r})?[...e,r,i]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)}])},2205868,e=>{"use strict";var t=e.i(8660982),r=e.i(4178896),i=e.i(9730818),s=e.i(4645584),n=e.i(8178053),a=e.i(7118867),l=e.i(6235464),o=e.i(7702496),d=e.i(66283),c=e.i(6909976),u=e.i(1518313),p=e.i(8588980),m=e.i(8327303),g=e.i(5645751),f=e.i(8746836),h=e.i(4205214),x="Dialog",[v,y]=(0,s.createContextScope)(x),[j,b]=v(x),_=e=>{let{__scopeDialog:r,children:i,open:s,defaultOpen:l,onOpenChange:o,modal:d=!0}=e,c=t.useRef(null),u=t.useRef(null),[p=!1,m]=(0,a.useControllableState)({prop:s,defaultProp:l,onChange:o});return(0,h.jsx)(j,{scope:r,triggerRef:c,contentRef:u,contentId:(0,n.useId)(),titleId:(0,n.useId)(),descriptionId:(0,n.useId)(),open:p,onOpenChange:m,onOpenToggle:t.useCallback(()=>m(e=>!e),[m]),modal:d,children:i})};_.displayName=x;var S="DialogTrigger",w=t.forwardRef((e,t)=>{let{__scopeDialog:s,...n}=e,a=b(S,s),l=(0,i.useComposedRefs)(t,a.triggerRef);return(0,h.jsx)(u.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":B(a.open),...n,ref:l,onClick:(0,r.composeEventHandlers)(e.onClick,a.onOpenToggle)})});w.displayName=S;var C="DialogPortal",[N,k]=v(C,{forceMount:void 0}),I=e=>{let{__scopeDialog:r,forceMount:i,children:s,container:n}=e,a=b(C,r);return(0,h.jsx)(N,{scope:r,forceMount:i,children:t.Children.map(s,e=>(0,h.jsx)(c.Presence,{present:i||a.open,children:(0,h.jsx)(d.Portal,{asChild:!0,container:n,children:e})}))})};I.displayName=C;var D="DialogOverlay",T=t.forwardRef((e,t)=>{let r=k(D,e.__scopeDialog),{forceMount:i=r.forceMount,...s}=e,n=b(D,e.__scopeDialog);return n.modal?(0,h.jsx)(c.Presence,{present:i||n.open,children:(0,h.jsx)(P,{...s,ref:t})}):null});T.displayName=D;var P=t.forwardRef((e,t)=>{let{__scopeDialog:r,...i}=e,s=b(D,r);return(0,h.jsx)(m.RemoveScroll,{as:f.Slot,allowPinchZoom:!0,shards:[s.contentRef],children:(0,h.jsx)(u.Primitive.div,{"data-state":B(s.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),$="DialogContent",M=t.forwardRef((e,t)=>{let r=k($,e.__scopeDialog),{forceMount:i=r.forceMount,...s}=e,n=b($,e.__scopeDialog);return(0,h.jsx)(c.Presence,{present:i||n.open,children:n.modal?(0,h.jsx)(E,{...s,ref:t}):(0,h.jsx)(R,{...s,ref:t})})});M.displayName=$;var E=t.forwardRef((e,s)=>{let n=b($,e.__scopeDialog),a=t.useRef(null),l=(0,i.useComposedRefs)(s,n.contentRef,a);return t.useEffect(()=>{let e=a.current;if(e)return(0,g.hideOthers)(e)},[]),(0,h.jsx)(z,{...e,ref:l,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,r.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:(0,r.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,r.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),R=t.forwardRef((e,r)=>{let i=b($,e.__scopeDialog),s=t.useRef(!1),n=t.useRef(!1);return(0,h.jsx)(z,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(s.current||i.triggerRef.current?.focus(),t.preventDefault()),s.current=!1,n.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(s.current=!0,"pointerdown"===t.detail.originalEvent.type&&(n.current=!0));let r=t.target;i.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}})}),z=t.forwardRef((e,r)=>{let{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:d,...c}=e,u=b($,s),m=t.useRef(null),g=(0,i.useComposedRefs)(r,m);return(0,p.useFocusGuards)(),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o.FocusScope,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:d,children:(0,h.jsx)(l.DismissableLayer,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":B(u.open),...c,ref:g,onDismiss:()=>u.onOpenChange(!1)})}),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(G,{titleId:u.titleId}),(0,h.jsx)(K,{contentRef:m,descriptionId:u.descriptionId})]})]})}),A="DialogTitle",L=t.forwardRef((e,t)=>{let{__scopeDialog:r,...i}=e,s=b(A,r);return(0,h.jsx)(u.Primitive.h2,{id:s.titleId,...i,ref:t})});L.displayName=A;var O="DialogDescription",F=t.forwardRef((e,t)=>{let{__scopeDialog:r,...i}=e,s=b(O,r);return(0,h.jsx)(u.Primitive.p,{id:s.descriptionId,...i,ref:t})});F.displayName=O;var H="DialogClose",q=t.forwardRef((e,t)=>{let{__scopeDialog:i,...s}=e,n=b(H,i);return(0,h.jsx)(u.Primitive.button,{type:"button",...s,ref:t,onClick:(0,r.composeEventHandlers)(e.onClick,()=>n.onOpenChange(!1))})});function B(e){return e?"open":"closed"}q.displayName=H;var V="DialogTitleWarning",[U,W]=(0,s.createContext)(V,{contentName:$,titleName:A,docsSlug:"dialog"}),G=e=>{let{titleId:r}=e,i=W(V),s=`\`${i.contentName}\` requires a \`${i.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${i.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${i.docsSlug}`;return t.useEffect(()=>{r&&(document.getElementById(r)||console.error(s))},[s,r]),null},K=e=>{let{contentRef:r,descriptionId:i}=e,s=W("DialogDescriptionWarning"),n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s.contentName}}.`;return t.useEffect(()=>{let e=r.current?.getAttribute("aria-describedby");i&&e&&(document.getElementById(i)||console.warn(n))},[n,r,i]),null};e.s(["Close",0,q,"Content",0,M,"Description",0,F,"Overlay",0,T,"Portal",0,I,"Root",0,_,"Title",0,L,"Trigger",0,w])},5806401,e=>{"use strict";var t=e.i(4205214),r=e.i(2205868),i=e.i(3294237),s=e.i(9722978),n=e.i(8660982),a=e.i(4006306),l=e.i(2767733),o=(0,a.createTailwindMerge)(l.getDefaultConfig);function d(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return o((0,s.clsx)(t))}let c=r.Trigger,u=r.Close,p=r.Portal,m=n.forwardRef((e,i)=>{let{className:s,...n}=e;return(0,t.jsx)(r.Overlay,{className:d("fixed inset-0 z-[100] bg-background-200/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 duration-1000",s),...n,ref:i})});m.displayName=r.Overlay.displayName;let g=(0,i.cva)(d("fixed z-[100] gap-4 bg-background-100 p-6 shadow-lg transition ease-in-out tailwind focus:outline-none","data-[state=closed]:duration-200 data-[state=closed]:animate-out data-[state=closed]:fade-out-0","data-[state=open]:duration-200 data-[state=open]:animate-in data-[state=open]:fade-in-0"),{variants:{side:{top:d("inset-x-0 top-0","data-[state=open]:slide-in-from-top-5","data-[state=closed]:slide-out-to-top-10"),bottom:d("inset-x-0 bottom-0","data-[state=open]:slide-in-from-bottom-5","data-[state=closed]:slide-out-to-bottom-10"),left:d("inset-y-0 left-0 h-full w-3/4 sm:max-w-sm","data-[state=open]:slide-in-from-left-5","data-[state=closed]:slide-out-to-left-10"),right:d("inset-y-0 right-0 h-full w-3/4 sm:max-w-sm","data-[state=open]:slide-in-from-right-5","data-[state=closed]:slide-out-to-right-10")}},defaultVariants:{side:"right"}}),f=n.forwardRef((e,i)=>{let{side:s="right",className:n,children:a,noOverlay:l,onInteractOutside:o,...c}=e;return(0,t.jsxs)(p,{children:[!l&&(0,t.jsx)(m,{}),(0,t.jsx)(r.Content,{className:d(g({side:s}),n),ref:i,onInteractOutside:e=>{e.target.closest(".toast-area")&&e.preventDefault(),o?.(e)},...c,children:a})]})});function h(e){let{className:r,...i}=e;return(0,t.jsx)("div",{className:d("flex flex-col text-center sm:text-left",r),...i})}function x(e){let{className:r,...i}=e;return(0,t.jsx)("div",{className:d("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...i})}f.displayName=r.Content.displayName,h.displayName="SheetHeader",x.displayName="SheetFooter";let v=n.forwardRef((e,i)=>{let{className:s,...n}=e;return(0,t.jsx)(r.Title,{className:d("text-lg font-semibold text-foreground",s),ref:i,...n})});v.displayName=r.Title.displayName;let y=n.forwardRef((e,i)=>{let{className:s,...n}=e;return(0,t.jsx)(r.Description,{className:d("text-sm text-muted-foreground",s),ref:i,...n})});y.displayName=r.Description.displayName,e.s(["Sheet",0,e=>{let{modal:i=!1,...s}=e;return(0,t.jsx)(r.Root,{modal:i,...s})},"SheetClose",0,u,"SheetContent",0,f,"SheetDescription",0,y,"SheetFooter",0,x,"SheetHeader",0,h,"SheetOverlay",0,m,"SheetTitle",0,v,"SheetTrigger",0,c],5806401)},6199256,e=>{"use strict";var t=e.i(8660982),r=e.i(4645584),i=e.i(9730818),s=e.i(8746836),n=e.i(4205214);e.s(["createCollection",0,function(e){let a=e+"CollectionProvider",[l,o]=(0,r.createContextScope)(a),[d,c]=l(a,{collectionRef:{current:null},itemMap:new Map}),u=e=>{let{scope:r,children:i}=e,s=t.default.useRef(null),a=t.default.useRef(new Map).current;return(0,n.jsx)(d,{scope:r,itemMap:a,collectionRef:s,children:i})};u.displayName=a;let p=e+"CollectionSlot",m=t.default.forwardRef((e,t)=>{let{scope:r,children:a}=e,l=c(p,r),o=(0,i.useComposedRefs)(t,l.collectionRef);return(0,n.jsx)(s.Slot,{ref:o,children:a})});m.displayName=p;let g=e+"CollectionItemSlot",f="data-radix-collection-item",h=t.default.forwardRef((e,r)=>{let{scope:a,children:l,...o}=e,d=t.default.useRef(null),u=(0,i.useComposedRefs)(r,d),p=c(g,a);return t.default.useEffect(()=>(p.itemMap.set(d,{ref:d,...o}),()=>void p.itemMap.delete(d))),(0,n.jsx)(s.Slot,{...{[f]:""},ref:u,children:l})});return h.displayName=g,[{Provider:u,Slot:m,ItemSlot:h},function(r){let i=c(e+"CollectionConsumer",r);return t.default.useCallback(()=>{let e=i.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${f}]`));return Array.from(i.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[i.collectionRef,i.itemMap])},o]}])},9980068,e=>{"use strict";var t=e.i(8660982);e.i(4205214);var r=t.createContext(void 0);e.s(["useDirection",0,function(e){let i=t.useContext(r);return e||i||"ltr"}])},2098824,e=>{"use strict";var t=e.i(4205214);e.s(["FormTitleDescription",0,function(e){let{title:r,description:i,as:s,htmlFor:n}=e;return(0,t.jsxs)(t.Fragment,{children:["label"===s?(0,t.jsx)("label",{htmlFor:n,className:"text-[14px] leading-[20px] font-medium text-inherit",children:r}):(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-inherit",children:r}),(0,t.jsx)("p",{className:"text-[14px] font-light leading-[20px] mt-1.5",children:i})]})}])},1087959,e=>{"use strict";var t=e.i(4205214),r=e.i(6226725),i=e.i(2504781),s=e.i(5255926),n=e.i(4004502),a=e.i(6048771);e.s(["ProjectSelectItem",0,function(e){let{project:s,onRemove:l,disabled:o}=e;return(0,t.jsxs)("div",{className:"py-3 px-2 flex flex-row justify-between border border-gray-200 border-t-0 first:border-t first:rounded-t-[6px] last:rounded-b-[6px]","data-testid":(0,n.tid)("project-selected","item"),children:[(0,t.jsxs)("div",{className:"flex flex-col @lg-page:flex-row items-start @lg-page:items-center justify-start gap-2 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial",children:[(0,t.jsx)(a.ProjectLogo,{deploymentId:s.latestDeployments?.[s.latestDeployments.length-1]?.id,framework:s.framework,project:s,size:20}),(0,t.jsx)("p",{className:"font-medium text-sm text-gray-1000",children:s.name})]}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:s.targets?.production?.alias?.[0]})]}),l&&!o?(0,t.jsx)(i.Button,{className:"p-0 [&>span]:p-0 flex items-center justify-center","aria-label":"Remove project",shape:"circle",size:"tiny",type:"tertiary",style:{width:20,height:20},svgOnly:!0,typeName:"button",onClick:()=>l(s.id),children:(0,t.jsx)(r.CrossCircle,{size:16})}):null]},s.id)},"ProjectSelectItemSkeleton",0,function(){return(0,t.jsxs)("div",{className:"py-3 px-2 flex flex-row justify-between border border-gray-200 border-t-0 first:border-t first:rounded-t-[6px] last:rounded-b-[6px]",children:[(0,t.jsxs)("div",{className:"flex flex-col @lg-page:flex-row items-start @lg-page:items-center justify-start gap-2 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial",children:[(0,t.jsx)(s.Skeleton,{width:20,height:20,boxHeight:20,rounded:!0}),(0,t.jsx)(s.Skeleton,{width:180,height:14})]}),(0,t.jsx)(s.Skeleton,{width:120,height:12})]}),(0,t.jsx)(s.Skeleton,{width:20,height:20,rounded:!0})]})}])},2565125,e=>{"use strict";var t,r=e.i(4205214),i=e.i(1848296),s=e.i(3917098),n=e.i(2098824),a=e.i(1087959),l=e.i(6401841),o=((t={}).ALL="all",t.SOME="some",t);function d(e){let{count:t=2}=e;return 0===t?null:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"",children:Array.from({length:t}).map((e,t)=>(0,r.jsx)(a.ProjectSelectItemSkeleton,{},t))})})}function c(e){let{error:t}=e;return t?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(l.Stop,{size:14,color:"red-700"}),(0,r.jsx)("p",{className:"text-copy-14 text-red-900",children:t})]}):null}e.s(["ProjectSelector",0,function(e){let{error:t,projects:l,projectType:o,onProjectTypeUpdated:u,onProjectsUpdated:p,title:m,description:g,disabled:f,isLoading:h,loadingCount:x,comboboxListContainer:v,disableAllProjects:y,allProjectsComponent:j}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-3 flex-initial",children:[(0,r.jsx)("div",{children:(0,r.jsx)(n.FormTitleDescription,{description:g,title:m})}),(0,r.jsx)(i.RadioGroup,{disabled:f,onChange:e=>u(e),value:o,children:(0,r.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-6 flex-initial",children:[(0,r.jsx)(i.RadioGroup.Item,{value:"all",disabled:y,children:j||"All Projects"}),(0,r.jsx)(i.RadioGroup.Item,{value:"some",children:"Specific Projects"})]})})]}),"some"===o&&(0,r.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-3 flex-initial",children:[(0,r.jsx)(s.ProjectSelect,{errored:!!t,disabled:f,onSelect:e=>{p([...l,e])},selected:l,verifyIntegrationsPermissions:!1,comboboxListContainer:v}),h?(0,r.jsx)(d,{count:x}):l.length?(0,r.jsx)("div",{children:l.map(e=>(0,r.jsx)(a.ProjectSelectItem,{disabled:f,onRemove:e=>p(l.filter(t=>t.id!==e)),project:e},e.id))}):null]}),(0,r.jsx)(c,{error:t})]})},"ProjectTypes",()=>o])},8711152,e=>{"use strict";var t=e.i(8660982);e.s(["getConfigurationStatusByIntegrationId",0,function(e,t){if(!e)return{isLoading:!0};let r=e.find(e=>e.integrationId===t);return r?{isInstalled:!0,configuration:r,isLoading:!1}:{isInstalled:!1,isLoading:!1}},"getConfigurationStatusByTeamId",0,function(e,t){if(!e||!t)return{isLoading:!0};let r=e.get(t);return r?{isInstalled:!0,configuration:r,isLoading:!1}:{isInstalled:!1,isLoading:!1}},"useConfigurationStatus",0,function(e){let{initialConfigurationStatus:r}=e,[i,s]=(0,t.useState)(r);return(i.isLoading||!i.isInstalled)&&r!==i&&s(r),{configurationStatus:i,onConfigurationInstalled:(e,t)=>s({isInstalled:!0,configuration:e,billingPlan:t,isLoading:!1})}}])},9623675,4217693,4714999,7811023,7012263,7527320,e=>{"use strict";var t=e.i(4205214),r=e.i(6835270),i=e.i(6891161);function s(e){return"modal"===(0,r.useInstallMarketplaceProductDisplayMode)()?(0,t.jsx)(i.Modal.Actions,{children:e.children}):(0,t.jsx)("footer",{className:"bg-background-200 sticky bottom-0 flex shrink-0 justify-between gap-4 border-t border-[var(--ds-gray-alpha-400)] py-4",children:e.children})}function n(e){return"modal"===(0,r.useInstallMarketplaceProductDisplayMode)()?(0,t.jsx)(i.Modal.Body,{children:e.children}):(0,t.jsx)("footer",{children:e.children})}e.s(["CheckoutActions",0,s],4217693),e.s(["CheckoutBody",0,n],4714999);var a=e.i(9722978);function l(e){let i,s=(0,r.useInstallMarketplaceProductDisplayMode)();i="inline"===s?"bg-transparent":"default"!==e.variant?"bg-[var(--geist-background)]":"bg-background-200";let n="py-[var(--geist-gap)] px-[var(--modal-padding)]";return"modal"===s&&("no-padding"===e.variant?n="p-0":"no-padding-no-bottom"===e.variant&&(n="mb-0 p-0")),(0,t.jsx)("div",{className:(0,a.clsx)(`
          mx-[calc(-1*var(--modal-padding))]
          mb-[calc(-1*var(--modal-padding))]
          border-x-0
          border-y
          border-solid
          border-[var(--accents-2)]
          last:border-b-0
         `,n,i),children:e.children})}function o(e){return"modal"===(0,r.useInstallMarketplaceProductDisplayMode)()?(0,t.jsx)(i.Modal.Subtitle,{children:e.children}):(0,t.jsx)("div",{className:"text-copy-16",children:e.children})}function d(e){return"modal"===(0,r.useInstallMarketplaceProductDisplayMode)()?(0,t.jsx)(i.Modal.Title,{center:e.center,children:e.children}):(0,t.jsx)("h3",{className:"text-copy-24 text-left",children:e.children})}e.s(["CheckoutContent",0,l],7811023),e.s(["CheckoutSubtitle",0,o],7012263),e.s(["CheckoutTitle",0,d],7527320);var c=e.i(5074599),u=e.i(9544652),p=e.i(5338940),m=e.i(4585051),g=e.i(6143247),f=e.i(8660982);function h(e){let{configuration:r}=e;return(0,t.jsx)(f.Suspense,{fallback:(0,t.jsx)(v,{}),children:(0,t.jsx)(x,{configuration:r})})}function x(e){let{configuration:i}=e,s=(0,r.useInstallMarketplaceProductDisplayMode)(),{team:n}=(0,p.useTeam)();return n?(0,t.jsxs)("div",{className:(0,g.cn)("flex items-center gap-1 ",{"justify-center":"modal"===s}),children:[(0,t.jsx)("p",{className:"text-copy-14 text-[var(--ds-gray-900)]",children:"Installing into"}),(0,t.jsx)(m.Avatar,{teamId:n.id,size:16,hash:n.avatar}),(0,t.jsx)("p",{className:"text-copy-14 font-medium",children:n.name}),i?.externalId?(0,t.jsxs)("p",{className:"text-copy-14 font-medium",children:["(",i?.externalId,")"]}):null]}):(0,t.jsx)(v,{})}function v(){let e=(0,r.useInstallMarketplaceProductDisplayMode)();return(0,t.jsx)("div",{className:(0,g.cn)("flex items-center gap-1 ",{"justify-center":"modal"===e}),children:(0,t.jsx)("p",{className:"text-copy-14 text-[var(--ds-gray-900)]",children:"Installing into ..."})})}e.s(["ResourceModalWrapper",0,function(e){let{cancelLabel:r,children:a,integration:p,hideCancel:m,SecondaryButton:g,onBack:f,SuccessAction:x,product:v,from:y,checkoutContentVariant:j,configuration:b}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n,{children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(h,{configuration:b}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)(d,{center:!0,children:(0,c.resourceModalTitle)({product:v,integration:p,from:y})}),(0,t.jsx)(o,{children:(0,c.resourceModalSubtitle)({product:v,integration:p,from:y})})]})]}),(0,t.jsx)(l,{variant:j,children:a})]})}),(0,t.jsxs)(s,{children:[g||!m&&(0,t.jsx)(u.DisabledContext.Provider,{value:!1,children:(0,t.jsx)(i.Modal.Action,{onClick:f,type:"secondary",children:r})})||(0,t.jsx)("div",{}),x]})]})}],9623675)},5746918,e=>{"use strict";var t=e.i(850302),r=e.i(277234),i=e.i(4244280);e.s(["useLastInstalledUserConfigurationsByIntegration",0,function(e,s){return(0,t.default)(`${i.API_INTEGRATION_CONTROLLER}/integration/${encodeURIComponent(e)}/installed?source=${s}`,async e=>{let t=await (0,r.fetchAPI)(e),i=new Map;return t.forEach(e=>{e.installationType!==s&&(e.installationType||"external"!==s)||i.set(e.ownerId,e)}),i})}])},7093637,e=>{"use strict";e.i(9623675),e.s([])},5561425,e=>{"use strict";var t=e.i(4205214),r=e.i(4585051),i=e.i(3306538),s=e.i(6881349),n=e.i(6891161),a=e.i(8660982),l=e.i(5338940),o=e.i(1853611),d=e.i(5746918);e.i(7093637);var c=e.i(9623675),u=e.i(8711152),p=e.i(3758860);function m(e){let{account:n,integrationId:o,onChange:c,type:p,excludeTeamId:m}=e,{teams:g}=(0,l.useTeam)(),{data:f}=(0,d.useLastInstalledUserConfigurationsByIntegration)(o,p),h=(0,a.useMemo)(()=>g?g.filter(e=>!m||e.id!==m).map(e=>{let t=!!f&&!!f.get(e.id);return{...e,hasConfiguration:t}}).sort((e,t)=>e.hasConfiguration&&!t.hasConfiguration?1:!e.hasConfiguration&&t.hasConfiguration?-1:0):[],[g,f,m]),x=(0,a.useMemo)(()=>n?`${n.name} (${n.slug})`:void 0,[n]);return(0,t.jsxs)(s.Combobox,{noInputPrefix:!0,noTextSelection:!0,onChange:e=>{let t=h.find(t=>t.id===e);e&&t&&c(t,(0,u.getConfigurationStatusByTeamId)(f,t.id))},placeholder:"Select a team",value:x,children:[(0,t.jsx)(s.Combobox.Input,{}),(0,t.jsx)(s.Combobox.List,{children:h.map(e=>{var n;return(0,t.jsx)(s.Combobox.Option,{label:(n=e,`${n.name} ${n.slug}`),value:e.id,children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between gap-1.5 flex-initial",children:[(0,t.jsx)(r.Avatar,{hash:e.avatar,size:20}),(0,t.jsx)("p",{className:"text-copy-14 line-clamp-1",style:{wordBreak:"break-all"},children:`${e.name} (${e.slug})`}),e.hasConfiguration?(0,t.jsx)(i.Badge,{children:"Installed"}):null]})},e.id)})})]})}e.s(["MarketplaceTeamSelectModalStep",0,function(e){let{integration:r,onBack:i,onTeamSelected:s,product:l}=e,[d,u]=(0,a.useState)(null),[g,f]=(0,a.useState)();return(0,t.jsx)(c.ResourceModalWrapper,{SuccessAction:(0,t.jsx)(n.Modal.Action,{disabled:!d,onClick:()=>{d&&o.analytics.track("marketplace_team_selection_continued",{integration_id:r.id,integration_slug:r.slug,team_id:d.id,team_slug:d.slug},{send_to:{product_analytics:!0}}),s(d,g)},"data-track-intent":"continue_team_selection","data-track-context":"marketplace_team_select",children:"Continue"}),cancelLabel:"Cancel",checkoutContentVariant:"default",from:"team-selection",integration:r,onBack:()=>{let e=new URL(window.location.href);e.searchParams.delete("teamSlug"),window.history.pushState(null,"",e.toString()),i()},product:l?(0,p.getProductWithSupportedProtocols)(l):{name:"",supportedProtocols:(0,p.getSupportedProtocols)(r.products[0]),slug:r.products[0].slug,id:r.products[0].id},children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"Select a Vercel team to install the integration to:"}),(0,t.jsx)(m,{account:d??void 0,integrationId:r.id,onChange:(e,t)=>{let i=!!t&&"isInstalled"in t&&t.isInstalled;o.analytics.track("marketplace_team_dropdown_selected",{integration_id:r.id,integration_slug:r.slug,team_id:e.id,team_slug:e.slug,has_existing_configuration:i},{send_to:{product_analytics:!0}}),u(e),f(t);let s=new URL(window.location.href);s.searchParams.set("teamSlug",e.slug),window.history.pushState(null,"",s.toString())},type:"marketplace"})]})})},"TeamSelect",0,m])},4367648,e=>{e.v({checkbox:"choicebox-group-module__kLcSnq__checkbox",checked:"choicebox-group-module__kLcSnq__checked",choicebox:"choicebox-group-module__kLcSnq__choicebox","choicebox-group":"choicebox-group-module__kLcSnq__choicebox-group",content:"choicebox-group-module__kLcSnq__content",description:"choicebox-group-module__kLcSnq__description",disabled:"choicebox-group-module__kLcSnq__disabled",icon:"choicebox-group-module__kLcSnq__icon",input:"choicebox-group-module__kLcSnq__input",option:"choicebox-group-module__kLcSnq__option",radio:"choicebox-group-module__kLcSnq__radio",title:"choicebox-group-module__kLcSnq__title"})},9957872,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),i=e.i(9722978),s=e.i(9508212),n=e.i(9544652),a=e.i(692265),l=e.i(3671642),o=e.i(9992076),d=e.i(3869281),c=e.i(4367648);let u=(0,r.createContext)({disabled:!1,name:"",required:!1,selectedValue:"",setSelected:()=>{},type:"radio"});function p(e){let r,{children:o,className:d,direction:p="column",disabled:m,gap:g=3,label:f,name:h,onChange:x,required:v,showLabel:y,type:j,value:b}=e,_=(0,n.useDisabled)()||m,S=(0,a.useId)("choicebox-"),w=(0,a.useId)("choicebox-name-");return r={name:h??w,disabled:_,required:v??!1,type:j,setSelected:x,selectedValue:b},(0,t.jsx)(u.Provider,{value:r,children:(0,t.jsxs)("div",{"aria-label":y?void 0:f,"aria-labelledby":y?S:void 0,"aria-multiselectable":"checkbox"===j,"aria-required":v??!1,className:(0,i.clsx)(c.default["choicebox-group"],d),role:"radio"===j?"radiogroup":"group",children:[y?(0,t.jsx)(l.Label,{bypassCasing:!0,id:S,value:f}):null,(0,t.jsx)(s.Stack,{as:"ul",direction:p,gap:g,justify:"stretch",children:o})]})})}u.displayName="ChoiceboxContext",p.Item=function(e){let{children:n,className:a,contentClassName:l,description:p=null,disabled:m,title:g,value:f,"data-testid":h,optionClassName:x,titleDescriptionClassName:v,...y}=e,{type:j,selectedValue:b,setSelected:_,disabled:S,name:w}=(0,r.useContext)(u),C="radio"===j?b===f:b.includes(f),N=S||m,k=(0,r.useCallback)(e=>{"radio"===j?_(f):!e.target.checked&&b.includes(f)?_(b.filter(e=>e!==f)):e.target.checked&&_([...b,f])},[b,_,j,f]);return(0,t.jsxs)(s.Stack,{"aria-selected":C,as:"label",className:(0,i.clsx)(c.default.choicebox,N&&c.default.disabled,C&&c.default.checked,a),"data-testid":h,flex:1,children:[(0,t.jsxs)(s.Stack,{align:"center",className:(0,i.clsx)(c.default.option,x),direction:"row",gap:6,justify:"space-between",children:[(0,t.jsxs)(s.Stack,{as:"span",gap:1,className:v,children:[(0,t.jsx)("span",{className:c.default.title,children:g}),(0,t.jsx)("span",{className:c.default.description,children:p})]}),"radio"===j?(0,t.jsx)(o.Radio,{checked:C,className:c.default.radio,disabled:N,iconClassName:c.default.icon,inputClassName:c.default.input,name:w,onChange:k,value:f,...y}):(0,t.jsx)(d.Checkbox,{checked:C,className:c.default.checkbox,disabled:N,iconClassName:c.default.icon,name:w,onChange:k,value:f,...y})]}),C?(0,t.jsx)("span",{className:(0,i.clsx)(c.default.content,l),children:n}):null]})},e.s(["ChoiceboxGroup",0,p])},397094,e=>{"use strict";e.s(["buildOnMouseDown",0,function(e){return t=>{new URL(String(e.href),window.location.href).origin!==window.location.origin||0!==t.button||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey||(t.preventDefault(),e.router.push(String(e.href)))}}])},2521731,e=>{"use strict";var t=e.i(2704354);function r(e){let t=e.toLowerCase().replace("-","").replace(" ","");return!(t.length<2)&&["kv","keyvalue"].some(e=>e.startsWith(t)||t.startsWith(e))}function i(e){let t=e.toLowerCase().replace(/\s/g,"");return["postgres","postgresql","postgress","postgressql"].some(e=>e.startsWith(t)||t.startsWith(e))}e.s(["integrationMatchesSearch",0,function(e,t){if(!t.trim())return!0;let s=t.toLowerCase().trim(),n=e.products?.some(e=>{let n=e.name.toLowerCase().includes(s),a=e.tags?.some(e=>e===`tag_${s}`),l=r(t)&&(e.tags?.includes("redis")||e.tags?.includes("kv")),o=i(t)&&e.tags?.some(e=>e.toLowerCase().startsWith("postgres"));return n||a||l||o}),a=e.name.toLowerCase().includes(s);return n||a},"integrationPubliclyVisible",0,function(e){return(0,t.isMarketplaceIntegration)(e)?e.products.some(e=>"published"===e.reviewStatus):!0===e.public&&void 0!==e.approvedAt},"integrationSupportsLogDrains",0,function(e){return"scopes"in e&&e.scopes.includes("read-write:log-drain")},"searchMatchesKV",0,r,"searchMatchesLogDrains",0,function(e){let t=e.toLowerCase().replace("-","").replace(" ","");return!!("logdrain".startsWith(t)||"logdrains".startsWith(t)||"logs".startsWith(t))},"searchMatchesPostgres",0,i])},7594446,e=>{"use strict";var t=e.i(1717203),r=e.i(7557283);e.s(["useIntegrationPermissions",0,function(){let{can:e,isLoading:i}=(0,t.default)(),s=e(r.Action.Read,r.Resource.IntegrationConfigurationProjects);return{canReadProjects:s,canUpdateIntegrationConfiguration:e(r.Action.Update,r.Resource.IntegrationConfiguration),canCreateIntegrationConfiguration:e(r.Action.Create,r.Resource.IntegrationConfiguration),isLoading:i}}])},3584802,e=>{"use strict";var t;let r=(t=e=>`/${e.params.teamSlug}/~/integrations/checkout/${e.params.integrationSlug}`,e=>{let r=Object.entries(e.searchParams||{}).reduce((e,t)=>{let[r,i]=t;return null!=i&&(e[r]=i),e},{}),i=t(e),s=i.startsWith("/")?i.substring(1):i;if(Object.entries(r).length>0){let e=new URLSearchParams(r).toString();return`/${s}?${e}`}return`/${s}`});e.s(["getIntegrationCheckoutUrl",0,function(e){return r({...e,searchParams:{...e.searchParams,nonce:Date.now().toString(36)}})}],3584802)},923772,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M6.75 2.75C6.75 2.05964 7.30964 1.5 8 1.5C8.69036 1.5 9.25 2.05964 9.25 2.75V3H6.75V2.75ZM5.25 3V2.75C5.25 1.23122 6.48122 0 8 0C9.51878 0 10.75 1.23122 10.75 2.75V3H12.9201H14.25H15V4.5H14.25H13.8846L13.1776 13.6917C13.0774 14.9942 11.9913 16 10.6849 16H5.31508C4.00874 16 2.92263 14.9942 2.82244 13.6917L2.11538 4.5H1.75H1V3H1.75H3.07988H5.25ZM4.31802 13.5767L3.61982 4.5H12.3802L11.682 13.5767C11.6419 14.0977 11.2075 14.5 10.6849 14.5H5.31508C4.79254 14.5 4.3581 14.0977 4.31802 13.5767Z" fill="currentColor"/>');e.s(["Trash",0,t])},8804984,e=>{"use strict";var t=e.i(2774527);e.s(["get",()=>t.default])},5297527,e=>{"use strict";let t=["storage","ai","experimentation","observability","video","workflow","authentication","checks","messaging"],r=[...t,"logDrain","traceDrain","other"];e.s(["INTEGRATION_PROTOCOL_TYPES",0,r,"PRIMARY_INTEGRATION_PROTOCOL_TYPES",0,t,"integrationAdapterTags",0,["postgres","mysql","redis","kv","blob","edge-config","vector","libsql","sqlite","rds","drains","mcp"],"paidIntegrationScopes",0,["read-write:otel-endpoint","read-write:log-drain"]])},6838069,e=>{"use strict";var t=e.i(8042625),r=e.i(5297527);let i="/integrations",s="/marketplace",n="my-installations";function a(e){return`/${e}/~${i}`}function l(e){return!!("isPublic"in e&&e.isPublic)}function o(e){if(e.primaryProtocol)return e.primaryProtocol;if(e.supportedProtocols?.length===1)return e.supportedProtocols[0];if(e.supportedProtocols&&e.supportedProtocols.length>1){let t=e.supportedProtocols.filter(e=>r.PRIMARY_INTEGRATION_PROTOCOL_TYPES.includes(e));if(1===t.length)return t[0]}}function d(e){return e?e.startsWith("/")?e.slice(1):e:""}e.s(["MARKETPLACE_DOC_PAGE",0,"/docs","MY_INSTALLATIONS_ANCHOR",0,n,"formatMarketplaceBillingTotal",0,function(e){let t="number"==typeof e?Math.round(100*e)/100:e;return t?`$${t}`:""},"formatMarketplacePeriod",0,function(e,t){let r=new Date(e),i=new Date(t),s=r.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),n=i.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"});return`${s} - ${n}`},"getBrowseMarketplaceLink",0,function(e){let{category:r,search:i,expanded:n,teamSlugOrPublic:o,isPreview:d}=e,c=(0,t.encode)({category:r,search:i,expanded:n,isPreview:d});if(l(o))return`${s}${c}`;let u=[a(o.teamSlug),"marketplace"].join("/");return`${u}${c}`},"getInstallationDetailsLink",0,function(e){let{teamSlug:t,integrationSlug:r,configurationId:i,path:s}=e;return[a(t),r,i,s].filter(e=>!!e).join("/")},"getIntegrationDetailsLink",0,function(e){let{integrationSlug:r,isContentful:i,isConsole:o,teamSlugOrPublic:d,installationHash:c,isFromV0:u}=e,p=(0,t.encode)({console:o,v0:u||null});if(l(d))return`${s}/${r}${p}`;let m=[a(d.teamSlug),r,i?"custom":null].filter(e=>!!e).join("/");return`${m}${p}${c?`#${n}`:""}`},"getIntegrationInstallationLink",0,function(e,t,r,i){var s;return`/${e}/~/integrations/${t}/${r}${(s=i)?s.startsWith("/")?s:`/${s}`:""}`},"getMarketplaceInstallationsLink",0,function(e){let{teamSlug:r,search:i,category:s}=e,n=(0,t.encode)({category:s,search:i});return`${a(r)}${n}`},"getPermissionsLink",0,function(e){let{teamSlug:t,configurationId:r}=e;return`/dashboard/${t}/integrations/${r}/permissions`},"getProjectResourceDashboardLink",0,function(e,t){let{teamSlug:r,projectSlug:s,protocolType:n,path:a}=t;return[`/${r}/${s}${i}`,e.product.integration.slug,e.product.integrationConfigurationId,"resources",n||o(e.product)||"other",e.id,d(a)].filter(e=>!!e).join("/")},"getResourceDashboardLink",0,function(e,t){let{teamSlug:r,protocolType:i,path:s}=t;return[a(r),e.product.integration.slug,e.product.integrationConfigurationId,"resources",i||o(e.product)||"other",e.id,d(s)].filter(e=>!!e).join("/")},"isPublicMarketplacePage",0,l])},8886376,e=>{"use strict";var t=e.i(8660982);function r(e,t){let[r,i]=t;return Math.min(i,Math.max(r,e))}var i=e.i(4178896),s=e.i(9730818),n=e.i(4645584),a=e.i(7118867),l=e.i(9980068),o=e.i(3988623),d=e.i(1518313),c=e.i(6199256),u=e.i(4205214),p=["PageUp","PageDown"],m=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],g={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},f="Slider",[h,x,v]=(0,c.createCollection)(f),[y,j]=(0,n.createContextScope)(f,[v]),[b,_]=y(f),S=t.forwardRef((e,s)=>{let{name:n,min:l=0,max:o=100,step:d=1,orientation:c="horizontal",disabled:g=!1,minStepsBetweenThumbs:f=0,defaultValue:x=[l],value:v,onValueChange:y=()=>{},onValueCommit:j=()=>{},inverted:_=!1,form:S,...w}=e,C=t.useRef(new Set),I=t.useRef(0),D="horizontal"===c,[T=[],P]=(0,a.useControllableState)({prop:v,defaultProp:x,onChange:e=>{let t=[...C.current];t[I.current]?.focus(),y(e)}}),$=t.useRef(T);function M(e,t){let i,{commit:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{commit:!1},n=(String(d).split(".")[1]||"").length,a=r(Math.round((Math.round((e-l)/d)*d+l)*(i=Math.pow(10,n)))/i,[l,o]);P(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=[...e];return i[r]=t,i.sort((e,t)=>e-t)}(e,a,t);if(!function(e,t){if(t>0)return Math.min(...e.slice(0,-1).map((t,r)=>e[r+1]-t))>=t;return!0}(r,f*d))return e;{I.current=r.indexOf(a);let t=String(r)!==String(e);return t&&s&&j(r),t?r:e}})}return(0,u.jsx)(b,{scope:e.__scopeSlider,name:n,disabled:g,min:l,max:o,valueIndexToChangeRef:I,thumbs:C.current,values:T,orientation:c,form:S,children:(0,u.jsx)(h.Provider,{scope:e.__scopeSlider,children:(0,u.jsx)(h.Slot,{scope:e.__scopeSlider,children:(0,u.jsx)(D?N:k,{"aria-disabled":g,"data-disabled":g?"":void 0,...w,ref:s,onPointerDown:(0,i.composeEventHandlers)(w.onPointerDown,()=>{g||($.current=T)}),min:l,max:o,inverted:_,onSlideStart:g?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let r=e.map(e=>Math.abs(e-t)),i=Math.min(...r);return r.indexOf(i)}(T,e);M(e,t)},onSlideMove:g?void 0:function(e){M(e,I.current)},onSlideEnd:g?void 0:function(){let e=$.current[I.current];T[I.current]!==e&&j(T)},onHomeKeyDown:()=>!g&&M(l,0,{commit:!0}),onEndKeyDown:()=>!g&&M(o,T.length-1,{commit:!0}),onStepKeyDown:e=>{let{event:t,direction:r}=e;if(!g){let e=p.includes(t.key)||t.shiftKey&&m.includes(t.key),i=I.current;M(T[i]+d*(e?10:1)*r,i,{commit:!0})}}})})})})});S.displayName=f;var[w,C]=y(f,{startEdge:"left",endEdge:"right",size:"width",direction:1}),N=t.forwardRef((e,r)=>{let{min:i,max:n,dir:a,inverted:o,onSlideStart:d,onSlideMove:c,onSlideEnd:p,onStepKeyDown:m,...f}=e,[h,x]=t.useState(null),v=(0,s.useComposedRefs)(r,e=>x(e)),y=t.useRef(void 0),j=(0,l.useDirection)(a),b="ltr"===j,_=b&&!o||!b&&o;function S(e){let t=y.current||h.getBoundingClientRect(),r=L([0,t.width],_?[i,n]:[n,i]);return y.current=t,r(e-t.left)}return(0,u.jsx)(w,{scope:e.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width",children:(0,u.jsx)(I,{dir:j,"data-orientation":"horizontal",...f,ref:v,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=S(e.clientX);d?.(t)},onSlideMove:e=>{let t=S(e.clientX);c?.(t)},onSlideEnd:()=>{y.current=void 0,p?.()},onStepKeyDown:e=>{let t=g[_?"from-left":"from-right"].includes(e.key);m?.({event:e,direction:t?-1:1})}})})}),k=t.forwardRef((e,r)=>{let{min:i,max:n,inverted:a,onSlideStart:l,onSlideMove:o,onSlideEnd:d,onStepKeyDown:c,...p}=e,m=t.useRef(null),f=(0,s.useComposedRefs)(r,m),h=t.useRef(void 0),x=!a;function v(e){let t=h.current||m.current.getBoundingClientRect(),r=L([0,t.height],x?[n,i]:[i,n]);return h.current=t,r(e-t.top)}return(0,u.jsx)(w,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:(0,u.jsx)(I,{"data-orientation":"vertical",...p,ref:f,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=v(e.clientY);l?.(t)},onSlideMove:e=>{let t=v(e.clientY);o?.(t)},onSlideEnd:()=>{h.current=void 0,d?.()},onStepKeyDown:e=>{let t=g[x?"from-bottom":"from-top"].includes(e.key);c?.({event:e,direction:t?-1:1})}})})}),I=t.forwardRef((e,t)=>{let{__scopeSlider:r,onSlideStart:s,onSlideMove:n,onSlideEnd:a,onHomeKeyDown:l,onEndKeyDown:o,onStepKeyDown:c,...g}=e,h=_(f,r);return(0,u.jsx)(d.Primitive.span,{...g,ref:t,onKeyDown:(0,i.composeEventHandlers)(e.onKeyDown,e=>{"Home"===e.key?(l(e),e.preventDefault()):"End"===e.key?(o(e),e.preventDefault()):p.concat(m).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:(0,i.composeEventHandlers)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),h.thumbs.has(t)?t.focus():s(e)}),onPointerMove:(0,i.composeEventHandlers)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&n(e)}),onPointerUp:(0,i.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),a(e))})})}),D="SliderTrack",T=t.forwardRef((e,t)=>{let{__scopeSlider:r,...i}=e,s=_(D,r);return(0,u.jsx)(d.Primitive.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...i,ref:t})});T.displayName=D;var P="SliderRange",$=t.forwardRef((e,r)=>{let{__scopeSlider:i,...n}=e,a=_(P,i),l=C(P,i),o=t.useRef(null),c=(0,s.useComposedRefs)(r,o),p=a.values.length,m=a.values.map(e=>A(e,a.min,a.max)),g=p>1?Math.min(...m):0,f=100-Math.max(...m);return(0,u.jsx)(d.Primitive.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:c,style:{...e.style,[l.startEdge]:g+"%",[l.endEdge]:f+"%"}})});$.displayName=P;var M="SliderThumb",E=t.forwardRef((e,r)=>{let i=x(e.__scopeSlider),[n,a]=t.useState(null),l=(0,s.useComposedRefs)(r,e=>a(e)),o=t.useMemo(()=>n?i().findIndex(e=>e.ref.current===n):-1,[i,n]);return(0,u.jsx)(R,{...e,ref:l,index:o})}),R=t.forwardRef((e,r)=>{var n,a,l,c,p;let m,g,{__scopeSlider:f,index:x,name:v,...y}=e,j=_(M,f),b=C(M,f),[S,w]=t.useState(null),N=(0,s.useComposedRefs)(r,e=>w(e)),k=!S||j.form||!!S.closest("form"),I=(0,o.useSize)(S),D=j.values[x],T=void 0===D?0:A(D,j.min,j.max),P=(n=x,(a=j.values.length)>2?`Value ${n+1} of ${a}`:2===a?["Minimum","Maximum"][n]:void 0),$=I?.[b.size],E=$?(l=$,c=T,p=b.direction,g=L([0,50],[0,m=l/2]),(m-g(c)*p)*p):0;return t.useEffect(()=>{if(S)return j.thumbs.add(S),()=>{j.thumbs.delete(S)}},[S,j.thumbs]),(0,u.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[b.startEdge]:`calc(${T}% + ${E}px)`},children:[(0,u.jsx)(h.ItemSlot,{scope:e.__scopeSlider,children:(0,u.jsx)(d.Primitive.span,{role:"slider","aria-label":e["aria-label"]||P,"aria-valuemin":j.min,"aria-valuenow":D,"aria-valuemax":j.max,"aria-orientation":j.orientation,"data-orientation":j.orientation,"data-disabled":j.disabled?"":void 0,tabIndex:j.disabled?void 0:0,...y,ref:N,style:void 0===D?{display:"none"}:e.style,onFocus:(0,i.composeEventHandlers)(e.onFocus,()=>{j.valueIndexToChangeRef.current=x})})}),k&&(0,u.jsx)(z,{name:v??(j.name?j.name+(j.values.length>1?"[]":""):void 0),form:j.form,value:D},x)]})});E.displayName=M;var z=e=>{let r,{value:i,...s}=e,n=t.useRef(null),a=(r=t.useRef({value:i,previous:i}),t.useMemo(()=>(r.current.value!==i&&(r.current.previous=r.current.value,r.current.value=i),r.current.previous),[i]));return t.useEffect(()=>{let e=n.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(a!==i&&t){let r=new Event("input",{bubbles:!0});t.call(e,i),e.dispatchEvent(r)}},[a,i]),(0,u.jsx)("input",{style:{display:"none"},...s,ref:n,defaultValue:i})};function A(e,t,i){return r(100/(i-t)*(e-t),[0,100])}function L(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(r-e[0])}}e.s(["Range",0,$,"Root",0,S,"Thumb",0,E,"Track",0,T],8886376)},8017289,e=>{e.v({fullWidth:"slider-module__v9lqeq__fullWidth",outerWrapper:"slider-module__v9lqeq__outerWrapper",range:"slider-module__v9lqeq__range",root:"slider-module__v9lqeq__root",sliderWrapper:"slider-module__v9lqeq__sliderWrapper",thumb:"slider-module__v9lqeq__thumb",thumbFocused:"slider-module__v9lqeq__thumbFocused",track:"slider-module__v9lqeq__track"})},7048904,e=>{"use strict";var t=e.i(4205214),r=e.i(8886376),i=e.i(9722978),s=e.i(8660982),n=e.i(3500331),a=e.i(3671642),l=e.i(2630955),o=e.i(9544652),d=e.i(8017289);let c="production"!==l.VERCEL_ENV;e.s(["Slider",0,function(e){let{value:l,onValueChange:u,min:p=0,max:m=100,step:g=1,showStartInput:f,showEndInput:h,label:x,disabled:v,onValueCommit:y,bypassCasing:j,fullWidth:b}=e,_=(0,o.useDisabled)()||v,S=(0,s.useRef)(null),w=(0,s.useId)(),[C,N]=(0,s.useState)(!1),[k,I]=(0,s.useState)(!1);return!function(e){let[t,r]=(0,s.useState)(!1),[i,n]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{let t=e.current;for(;t?.parentNode;){if("FORM"===t.parentNode.nodeName){r(!0);break}t=t.parentNode}n(!0)},[e]),c&&!t&&i)throw Error("Slider must be wrapped in a form element")}(S),(0,t.jsxs)("div",{className:d.default.outerWrapper,ref:S,children:[x?(0,t.jsx)(a.Label,{bypassCasing:j,id:w,value:x}):null,(0,t.jsxs)("div",{className:d.default.sliderWrapper,children:[f?(0,t.jsx)(n.Input,{"aria-label":"Starting range value",disabled:_,id:w,onChange:e=>{let t=[Number(e.target.value)];l[1]&&t.push(l[1]),u(t)},size:"small",value:String(l[0])}):null,(0,t.jsxs)(r.Root,{className:(0,i.clsx)(d.default.root,{[String(d.default.fullWidth)]:b}),disabled:_,max:m,min:p,onValueChange:u,onValueCommit:y,step:g,value:l,children:[(0,t.jsx)(r.Track,{className:d.default.track,children:(0,t.jsx)(r.Range,{className:d.default.range})}),(0,t.jsx)(r.Thumb,{className:(0,i.clsx)(d.default.thumb,{[String(d.default.thumbFocused)]:C}),onMouseDown:()=>N(!0),onMouseUp:()=>N(!1)}),l.length>1?(0,t.jsx)(r.Thumb,{className:(0,i.clsx)(d.default.thumb,{[String(d.default.thumbFocused)]:k}),onMouseDown:()=>I(!0),onMouseUp:()=>I(!1)}):null]}),h?(0,t.jsx)(n.Input,{"aria-label":"Ending range value",disabled:_,id:f?void 0:w,onChange:e=>{let t=[Number(e.target.value)];l[0]&&t.unshift(l[0]),u(t)},size:"small",typeName:"number",value:String(l[1])}):null]})]})}])}]);

//# debugId=aae75212-c4c8-982b-d4dd-d82a08777243
//# sourceMappingURL=7ed92fbcf35961cc.js.map