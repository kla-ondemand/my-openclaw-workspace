;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="2778d490-0b3c-ad2e-a2cc-c263c0c289d4")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4905664,e=>{"use strict";var t=e.i(539392),i=e.i(870429);function s(e,t){let i=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return i<0?-1:i>0?1:i}e.s(["differenceInDays",0,function(e,r,n){let[a,l]=(0,t.normalizeDates)(n?.in,e,r),o=s(a,l),c=Math.abs((0,i.differenceInCalendarDays)(a,l));a.setDate(a.getDate()-o*c);let d=Number(s(a,l)===-o),u=o*(c-d);return 0===u?0:u}])},613694,e=>{"use strict";var t=e.i(4905664),i=e.i(3738416);e.s(["prorateAmount",0,function(e,s,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date;if(!s||!r)return e;let a=(0,t.differenceInDays)(r.end,r.start);return Math.round(e*Math.min(1,(0,t.differenceInDays)(r.end,function(e,t){let s=(0,i.startOfDay)(t),[r,n]=s.toLocaleDateString("en-US",{timeZone:e,timeZoneName:"longOffset",day:"2-digit",month:"2-digit",year:"numeric"}).split(", "),[a,l,o]=[(s.getMonth()+1).toString().padStart(2,"0"),s.getDate().toString().padStart(2,"0"),s.getFullYear()],c=n.replace("GMT","");return new Date(`${o}-${a}-${l}T00:00:00.00${c}`)}("America/Los_Angeles",n))/a))}])},1688950,e=>{"use strict";var t=e.i(9411809);let i=(0,t.createServerReference)("60a0ce05066418dfc074a7c37141514c9a302fe3c2",t.callServer,void 0,t.findSourceMapURL,"getCopperPrices");var s=e.i(850302);e.s(["useCopperPrices",0,function(e,t,r){return(0,s.default)(()=>e?["getCopperPrices",e,Object.keys(t).sort()]:null,e=>{let[s,r]=e;return i(r,t)},r)}],1688950)},28552,e=>{"use strict";var t=e.i(4603164),i=e.i(4244280),s=e.i(5338940);e.s(["useObservabilityConfiguration",0,function(){let{isReady:e,team:r}=(0,s.useTeam)();return(0,t.useTypedSWR)(i.API_OBSERVABILITY_CONFIGURATION,r&&e?{teamId:r.id}:null)}])},2175076,6464673,e=>{"use strict";var t=e.i(850302),i=e.i(277234),s=e.i(4244280),r=e.i(5338940);e.s(["useMonitoringSettings",0,function(){let{isReady:e,team:n}=(0,r.useTeam)();return(0,t.default)(()=>n&&e?`${s.API_MONITORING_SETTINGS}?teamId=${encodeURIComponent(n.id)}`:null,e=>(0,i.fetchAPI)(e,{throwOnHTTPError:!0}))}],2175076),e.s(["getMaxRetention",0,function(e){return e.billing?.plan==="enterprise"?{days:90}:{days:30}},"getMinGranularity",0,function(e,t){return e.billing?.plan==="enterprise"&&"5min"===t?{minutes:5}:{hours:1}},"isEntitledToMonitoring",0,function(e){let{team:t,monitoringAccessOverrideFlag:i}=e,s=t.enabledInvoiceItems?.monitoring?.enabled||!1;return i||t.billing?.plan==="enterprise"||s}],6464673)},854682,e=>{"use strict";var t=e.i(5338940),i=e.i(588428),s=e.i(2175076),r=e.i(28552),n=e.i(6464673);e.i(3182268);var a=e.i(7849855),l=e.i(7017723),o=e.i(3769024);e.s(["useHasObservabilityPlus",0,function(){let{isReady:e,team:c}=(0,t.useTeam)(),{projectSlug:d}=(0,a.useProjectSlug)(),u=(0,l.useIsImpersonating)(),{value:m,isReady:p}=(0,i.useMonitoringOverrideTeamFlag)(),{isLoading:g,data:b}=(0,s.useMonitoringSettings)(),{isLoading:f,data:x,mutate:h,isValidating:y}=(0,r.useObservabilityConfiguration)();return{mutate:h,ready:e&&p&&!g&&!f,...function(e){let{team:t,monitoringSettings:i,monitoringOverrideFlag:s,observabilityConfiguration:r}=e,a=((t?.billing?.plan==="enterprise"?i?.isEnabled||s:t&&(0,n.isEntitledToMonitoring)({team:t,monitoringAccessOverrideFlag:s||!1}))||s)??!1,l=r?.observabilityPlus.enabled??!1;return{hasMonitoringAccess:a||l,hasOnlyMonitoring:a}}({team:c,monitoringOverrideFlag:m,monitoringSettings:b,observabilityConfiguration:x}),hasObservabilityPlusAccess:x?.observabilityPlus.enabled??!1,hasObservabilityPlusSubscribed:x?.observabilityPlus?.subscribed??!1,isValidating:y,observabilityConfiguration:x,hasObservabilityPlusAccessOnCurrentProject:(0,o.hasObservabilityPlusAccess)(x?.observabilityPlus,d,u),impersonating:u,applyPromotion:x?.observabilityPlus?.eligiblePromotion==="BFCM-2025"}}],854682)},5269510,e=>{"use strict";e.s(["stringify",0,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"=",s=[];for(let t in e)if(Object.hasOwn(e,t)){let r=e[t];if(Array.isArray(r))for(let e of r)null!=e&&s.push(`${encodeURIComponent(t)}${i}${encodeURIComponent(e.toString())}`);else null!=r&&s.push(`${encodeURIComponent(t)}${i}${encodeURIComponent(r.toString())}`)}return s.join(t)}])},9667097,e=>{"use strict";var t=e.i(1233856),i=e.i(9171423),s=e.i(4244280),r=e.i(5269510);async function n(e){let n=await (0,i.fetchApi)(`${s.API_OBSERVABILITY_METRICS}?${(0,r.stringify)(a(e.scope))}`,{method:"POST",body:JSON.stringify(e),throwOnHTTPError:!0});if(null===n||"object"!=typeof n)throw Error("Failed to fetch sonar data");return(0,t.fromApiSonarResult)(n)}function a(e){return"team-with-slug"===e.type||"project-with-slug"===e.type?{slug:e.teamSlug}:{ownerId:e.ownerId}}e.s(["getSonarData",0,n,"getSonarTeamParam",0,a],9667097)},794055,e=>{"use strict";var t=e.i(4205214),i=e.i(6143247);e.s(["NorthernLights",0,function(e){let{className:s,colors:r=["#DE2670","#8E4EC6","#6CDA76","#12A594","#0070F3"]}=e;return(0,t.jsx)("div",{className:(0,i.cn)("absolute left-0 right-0 top-0 overflow-hidden rounded-t-[11px] opacity-30 dark:opacity-60",s),children:(0,t.jsxs)("svg",{width:"678",height:"77",viewBox:"0 0 678 77",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-auto",children:[(0,t.jsxs)("g",{clipPath:"url(#clip0_124_1530)",children:[(0,t.jsx)("g",{filter:"url(#filter0_f_124_1530)",children:(0,t.jsx)("ellipse",{cx:"172.5",cy:"2",rx:"122.5",ry:"30",fill:r[0],fillOpacity:"0.4"})}),(0,t.jsx)("g",{opacity:"0.3",filter:"url(#filter1_f_124_1530)",children:(0,t.jsx)("ellipse",{cx:"440",cy:"-8",rx:"164",ry:"30",fill:r[1]})}),(0,t.jsx)("g",{opacity:"0.3",filter:"url(#filter2_f_124_1530)",children:(0,t.jsx)("ellipse",{cx:"692",cy:"14.5",rx:"164",ry:"42.5",fill:r[2]})}),(0,t.jsx)("g",{opacity:"0.3",filter:"url(#filter3_f_124_1530)",children:(0,t.jsx)("ellipse",{cx:"755.5",cy:"14.5",rx:"68.5",ry:"37.5",fill:r[3]})}),(0,t.jsx)("g",{opacity:"0.3",filter:"url(#filter4_f_124_1530)",children:(0,t.jsx)("ellipse",{cx:"9",cy:"20",rx:"164",ry:"30",fill:r[4]})})]}),(0,t.jsxs)("defs",{children:[(0,t.jsxs)("filter",{id:"filter0_f_124_1530",x:"16.1",y:"-61.9",width:"312.8",height:"127.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,t.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,t.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,t.jsx)("feGaussianBlur",{stdDeviation:"16.95",result:"effect1_foregroundBlur_124_1530"})]}),(0,t.jsxs)("filter",{id:"filter1_f_124_1530",x:"242.1",y:"-79.9",width:"395.8",height:"127.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,t.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,t.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,t.jsx)("feGaussianBlur",{stdDeviation:"16.95",result:"effect1_foregroundBlur_124_1530"})]}),(0,t.jsxs)("filter",{id:"filter2_f_124_1530",x:"494.1",y:"-61.9",width:"395.8",height:"152.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,t.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,t.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,t.jsx)("feGaussianBlur",{stdDeviation:"16.95",result:"effect1_foregroundBlur_124_1530"})]}),(0,t.jsxs)("filter",{id:"filter3_f_124_1530",x:"653.1",y:"-56.9",width:"204.8",height:"142.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,t.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,t.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,t.jsx)("feGaussianBlur",{stdDeviation:"16.95",result:"effect1_foregroundBlur_124_1530"})]}),(0,t.jsxs)("filter",{id:"filter4_f_124_1530",x:"-188.9",y:"-43.9",width:"395.8",height:"127.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,t.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,t.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,t.jsx)("feGaussianBlur",{stdDeviation:"16.95",result:"effect1_foregroundBlur_124_1530"})]}),(0,t.jsx)("clipPath",{id:"clip0_124_1530",children:(0,t.jsx)("rect",{width:"678",height:"77",rx:"11",fill:"white"})})]})]})})}])},2988836,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)(`<path d="M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8Z" fill="currentColor" fill-opacity="0.08"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8 6C8.55228 6 9 5.55228 9 5C9 4.44772 8.55228 4 8 4C7.44771 4 7 4.44772 7 5C7 5.55228 7.44771 6 8 6ZM7 7H6.25V8.5H7H7.24999V10.5V11.25H8.74999V10.5V8C8.74999 7.44772 8.30227 7 7.74999 7H7Z" fill="currentColor"/>`);e.s(["InformationFillSmall",0,t])},7849855,9871375,e=>{"use strict";var t=e.i(9668517),i=e.i(5677444),s=e.i(8660982);let r={status:"creating-repo",cloneRepoStatus:"not-started",projectId:null,projectName:"",clonedRepo:{id:null,slug:null},repo:{namespace:"",name:"",namespaceId:"",ownerType:"",gitType:""},deploymentId:null,deploymentReset:!1,flowId:null,microfrontendsGroupId:null,isMonorepo:!1,projects:[]},n=s.createContext({...r,dispatch:()=>void 0});n.displayName="ProjectCloneContext";let a=()=>s.useContext(n);function l(e,t){switch(t.type){case"SET_STATUS":return{...e,status:t.status};case"SET_CLONE_REPO_STATUS":return{...e,cloneRepoStatus:t.cloneRepoStatus};case"SET_TARGET_NAMESPACE":return{...e,repo:{...e.repo,namespace:t.namespace,namespaceId:t.namespaceId,ownerType:t.ownerType}};case"SET_TARGET_REPO":return{...e,repo:{...e.repo,name:t.name}};case"SET_GIT_TYPE":return{...e,repo:{...e.repo,gitType:t.gitType}};case"SET_PROJECT_ID":return{...e,projectId:t.projectId};case"SET_PROJECT_NAME":return{...e,projectName:t.projectName};case"SET_CLONED_REPO":return{...e,clonedRepo:{id:t.data.id,slug:t.data.slug}};case"SET_DEPLOYMENT_ID":return{...e,deploymentId:t.deploymentId};case"RESET":return r;case"SET_DEPLOYMENT_RESET":return{...e,deploymentReset:t.deploymentReset};case"SET_FLOW_ID_ONCE":return{...e,flowId:e.flowId||t.flowId};case"SET_MICROFRONTENDS_GROUP_ID":return{...e,microfrontendsGroupId:t.microfrontendsGroupId};case"SET_MONOREPO_MODE":return{...e,isMonorepo:t.isMonorepo};case"SET_PROJECTS":return{...e,projects:t.projects.map(e=>({directory:e.rootDirectory,name:e.projectName,id:null,deploymentId:null,status:"pending"}))};case"UPDATE_PROJECT_STATUS":return{...e,projects:e.projects.map(e=>e.name===t.projectName?{...e,id:t.projectId,framework:t.framework,status:t.status,error:t.error}:e)};case"UPDATE_PROJECT_DEPLOYMENT_ID":return{...e,projects:e.projects.map(e=>e.name===t.projectName?{...e,deploymentId:t.deploymentId}:e)};default:return e}}e.s(["ProjectCloneContext",0,n,"useProjectCloneContext",0,a,"useProjectCloneReducer",0,function(){return s.useReducer(l,r)}],9871375),e.s(["useProjectAndTeamSlug",0,function(){let e=(0,i.useParams)(),s=(0,t.useTeamSlug)();return{projectSlug:e?.project??null,hasProject:!!e?.project,teamSlug:s??null}},"useProjectSlug",0,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,i.useParams)(),s=a();if(s.projectName&&s.projectId)return{projectSlug:s.projectName,hasProject:!0};let r=t?.project??e.projectSlug;return{projectSlug:r??null,hasProject:!!r}}],7849855)},3410109,e=>{"use strict";var t=e.i(8660982),i=e.i(7849855);e.s(["useProjectScopedResourceConnection",0,function(e){let{store:s}=e,{projectSlug:r}=(0,i.useProjectSlug)(),[n,a]=(0,t.useState)(()=>{if(s?.projectsMetadata&&s.projectsMetadata.length>0){let e=0;if(r){let t=s.projectsMetadata.findIndex(e=>e.name===r);-1!==t&&(e=t)}return s.projectsMetadata[e]}});return(0,t.useEffect)(()=>{if(s?.projectsMetadata&&s.projectsMetadata.length>0){let e=0;if(r){let t=s.projectsMetadata.findIndex(e=>e.name===r);-1!==t&&(e=t)}(0,t.startTransition)(()=>{a(s.projectsMetadata[e])})}},[s?.projectsMetadata,r]),{connection:n,setConnection:a,isConnectionProcessed:!0}}])},3182268,e=>{"use strict";e.i(7849855),e.i(3410109),e.s([])},199192,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M6.74999 3.93933L7.28032 4.46966L10.1035 7.29288C10.4941 7.68341 10.4941 8.31657 10.1035 8.7071L7.28032 11.5303L6.74999 12.0607L5.68933 11L6.21966 10.4697L8.68933 7.99999L6.21966 5.53032L5.68933 4.99999L6.74999 3.93933Z" fill="currentColor"/>');e.s(["ChevronRightSmall",0,t])},539392,e=>{"use strict";var t=e.i(9487122);e.s(["normalizeDates",0,function(e){for(var i=arguments.length,s=Array(i>1?i-1:0),r=1;r<i;r++)s[r-1]=arguments[r];let n=t.constructFrom.bind(null,e||s.find(e=>"object"==typeof e));return s.map(n)}])},2632713,e=>{"use strict";var t=e.i(516467);e.s(["getTimezoneOffsetInMilliseconds",0,function(e){let i=(0,t.toDate)(e),s=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return s.setUTCFullYear(i.getFullYear()),e-s}])},870429,e=>{"use strict";var t=e.i(2632713),i=e.i(539392),s=e.i(1511518),r=e.i(3738416);e.s(["differenceInCalendarDays",0,function(e,n,a){let[l,o]=(0,i.normalizeDates)(a?.in,e,n),c=(0,r.startOfDay)(l),d=(0,r.startOfDay)(o);return Math.round((c-(0,t.getTimezoneOffsetInMilliseconds)(c)-(d-(0,t.getTimezoneOffsetInMilliseconds)(d)))/s.millisecondsInDay)}])},7749365,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 8C14.5 11.5899 11.5899 14.5 8 14.5C4.41015 14.5 1.5 11.5899 1.5 8C1.5 4.41015 4.41015 1.5 8 1.5C11.5899 1.5 14.5 4.41015 14.5 8ZM16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM8.75 4.75V4H7.25V4.75V7.875C7.25 8.18976 7.39819 8.48615 7.65 8.675L9.55 10.1L10.15 10.55L11.05 9.35L10.45 8.9L8.75 7.625V4.75Z" fill="currentColor"/>');e.s(["Clock",0,t])},6880199,e=>{"use strict";var t=e.i(4244280),i=e.i(9979783),s=e.i(6352514),r=e.i(1853611);async function n(e){let{team:n,source:a,enableTeam:l}=e,o=(await (0,i.typedFetchData)(t.API_OBSERVABILITY_CONFIGURATION,"patch",{teamId:n.id},{teamEnabled:l})).teamEnabled===l;return o&&r.analytics.track(l?s.AnalyticsEvent.OBSERVABILITY_PLUS_ENABLED:s.AnalyticsEvent.OBSERVABILITY_PLUS_DISABLED,{teamId:n.id,plan:n.billing?.plan,source:a}),o}e.s(["patchObservabilityConfiguration",0,n])},7114658,e=>{"use strict";var t=e.i(9979783),i=e.i(4244280),s=e.i(6352514),r=e.i(1853611),n=e.i(4597921),a=e.i(9668517),l=e.i(28552);e.i(3182268);var o=e.i(7849855),c=e.i(455575),d=e.i(3769024);function u(){return(0,n.useServerFlag)("enable-observability-plus-for-projects",!1)}async function m(e){let{teamIdOrSlug:n,projectIdOrName:a,disabled:l}=e,o=await (0,t.typedFetchData)(i.API_OBSERVABILITY_CONFIGURATION_FOR_PROJECT,"put",{teamId:n,projectIdOrName:a},{disabled:l},{throwOnHTTPError:!0});return r.analytics.track(l?s.AnalyticsEvent.OBSERVABILITY_PLUS_PROJECT_DISABLED:s.AnalyticsEvent.OBSERVABILITY_PLUS_PROJECT_ENABLED,{projectIdOrName:a,teamIdOrSlug:n}),o}e.s(["useObservabilityPlusForProjects",0,function(){let{data:e,mutate:t,isLoading:i,isValidating:s,error:r}=(0,l.useObservabilityConfiguration)(),n=(0,a.useTeamSlug)(),{projectSlug:p}=(0,o.useProjectSlug)();return{isObservabilityPlusForProjectsFlagEnabled:u(),toggleObservabilityPlusForProject:async i=>{let{projectName:s,disabled:r}=i;if(n)try{let i=await m({teamIdOrSlug:n,projectIdOrName:s,disabled:r});if(c.toasts.success(`Observability Plus ${r?"excluded":"included"} on ${s}`),!e)return;let a=i.disabledAt?[...e.observabilityPlus.excludedProjects||[],{...i,name:s}]:e.observabilityPlus.excludedProjects?.filter(e=>e.id!==i.id);await t({observabilityPlus:{...e.observabilityPlus,excludedProjects:a}})}catch(e){c.toasts.error("An error occurred while updating the project status."),await t()}},excludedProjects:e?e.observabilityPlus.excludedProjects??[]:void 0,isCurrentProjectExcluded:!!e&&!(0,d.hasObservabilityPlusAccess)(e?.observabilityPlus,p),isValidating:s,isLoading:i||!e&&!r,hasObservabilityPlus:e?.observabilityPlus.enabled??!1}},"useObservabilityPlusForProjectsFlag",0,u],7114658)},6728635,1509029,6827444,5568858,2630141,e=>{"use strict";var t=e.i(4205214);e.i(6483798);var i=e.i(8287059),s=e.i(854682),r=e.i(8522580);e.i(2144405);var n=e.i(3769024),a=e.i(7432042),l=e.i(7010772),o=e.i(5338940),c=e.i(1233856);let d=["incomingRequest","outgoingRequest","functionExecution","middlewareInvocation","aiGatewayRequest"],u=(0,a.default)("32d"),m=(0,a.default)("25h"),p=(0,a.default)("4d"),g=(0,a.default)("14h");e.s(["FreeEntRetention",0,p,"FreeHobbyRetention",0,g,"FreeProRetention",0,m,"MeteredEvents",0,d,"PlusRetention",0,u],1509029);var b=e.i(9667097);async function f(e){let{teamId:t}=e,i=(0,c.startOfDuration)(new Date,{days:1}),s=new Date(i.getTime()-(0,a.default)("7d")),r=await Promise.all(d.map(async e=>{let r=await (0,b.getSonarData)({scope:{type:"owner",ownerId:t},reason:"observability_usage_estimate",event:e,rollups:{count:{measure:"count",aggregation:"sum"}},granularity:{days:1},startTime:s,endTime:i,groupBy:["projectId"],limit:5});return{event:e,data:r}})),n=new Map,l={totalEvents:0,eventBreakdown:{}};for(let{event:e,data:t}of r)for(let i of t.summary){let t=n.get(i.projectId)??0,s=Math.round((i.count??0)*4.25);n.set(i.projectId,t+s),l.totalEvents+=s,l.eventBreakdown[e]=(l.eventBreakdown[e]??0)+s}let o=r.flatMap(e=>{let{event:t,data:i}=e;return i.data.map(e=>{let{timestamp:i,count:s}=e;return{event:t,timestamp:i,value:4.25*Number(s)}})});return{eventBreakdown:l.eventBreakdown,totalEvents:Math.round(l.totalEvents),timeseries:o,eventsByProject:Array.from(n.entries()).map(e=>{let[t,i]=e;return{projectId:t,events:i}}).sort((e,t)=>t.events-e.events)}}var x=e.i(7114658),h=e.i(9736132),y=e.i(6060673),v=e.i(3869281),j=e.i(5255926),P=e.i(8660982),w=e.i(9722978);function O(){let{excludedProjects:e}=(0,x.useObservabilityPlusForProjects)(),{data:t}=function(){let{team:e}=(0,o.useTeam)();return(0,l.default)(e?.id,()=>e?f({teamId:e.id}):null)}(),{data:i}=(0,y.useProjects)(t&&e?Array.from(new Set([...e.map(e=>{let{id:t}=e;return t}),...t.eventsByProject.map(e=>{let{projectId:t}=e;return t}).slice(0,6)])):void 0,{config:{keepPreviousData:!0}});return{totalEvents:t?.eventsByProject?t.eventsByProject.reduce((t,i)=>{var s;let{projectId:r,events:a}=i;return void 0!==(s=(0,n.hasObservabilityPlusAccess)({excludedProjects:e,enabled:!0},r)?t+a:t)?+s:void 0},0):void 0,excludedProjects:i?.filter(t=>!(0,n.hasObservabilityPlusAccess)({excludedProjects:e,enabled:!0},t.id)),includedProjects:i?.filter(t=>(0,n.hasObservabilityPlusAccess)({excludedProjects:e,enabled:!0},t.id)),observabilityUsage:t,totalExcludedProjects:e?.length??0}}function C(e){let{observabilityUsage:i,excludedProjects:s,includedProjects:r,canConfigure:n}=e,[a,l]=(0,P.useTransition)(),{toggleObservabilityPlusForProject:o}=(0,x.useObservabilityPlusForProjects)();return(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(I,{leftColumnTitle:"Top 5 Projects *",rightColumnTitle:"~ Events in the last 30 days",children:r&&i?r.map(e=>{let s=i.eventsByProject.find(t=>t.projectId===e.id);return(0,t.jsx)(N,{disabled:a||!n,project:e,isIncluded:!0,onStatusChanged:()=>{l(async()=>{await o({projectName:e.name,disabled:!0})})},description:s?.events.toLocaleString()},e.id)}):(0,t.jsx)(t.Fragment,{children:Array.from(Array(s?.length??3).keys()).map(e=>(0,t.jsx)(N,{},e))})}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-700",children:"* Other projects can be excluded in their Observability page"})]}),(0,t.jsx)(I,{leftColumnTitle:"Excluded Projects",children:s?.map(e=>(0,t.jsx)(N,{disabled:a||!n,project:e,isIncluded:!1,onStatusChanged:()=>{l(async()=>{await o({projectName:e.name,disabled:!1})})},description:"Excluded"},e.id))})]})}function I(e){let{children:i,leftColumnTitle:s,rightColumnTitle:r}=e;return(0,t.jsxs)("div",{className:" flex flex-col gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 pb-1",children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-gray-1000",children:s}),r?(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-gray-1000 text-right",children:r}):null]}),(0,t.jsx)("div",{className:"divide-1 divide-solid divide-x-0 divide-y",children:i})]})}function N(e){let{project:i,onStatusChanged:s,isIncluded:r,description:n,disabled:a}=e;return(0,t.jsx)("div",{className:"col-span-2 border-[var(--ds-gray-200)] tabular-nums",children:(0,t.jsxs)("div",{className:"flex w-full items-center justify-between gap-2 py-2",children:[(0,t.jsxs)("div",{className:"flex cursor-pointer items-center justify-center gap-2",onClick:s,children:[(0,t.jsx)(v.Checkbox,{checked:r,disabled:a,onChange:s}),i?(0,t.jsx)(h.FrameworkAvatar,{isDisabled:!r,size:20,project:i}):(0,t.jsx)(h.FrameworkAvatarSkeleton,{size:20}),i?(0,t.jsx)("p",{className:(0,w.default)("text-copy-14",r?"text-gray-900":"text-gray-700"),children:i.name}):(0,t.jsx)(j.Skeleton,{width:50,height:20})]}),i?(0,t.jsx)("p",{className:(0,w.default)("text-copy-14 text-right",r?"text-gray-900":"text-gray-700"),children:n}):(0,t.jsx)(j.Skeleton,{width:50,height:20})]})})}let S={surveyName:"Disable Observability Plus User Feedback",surveySlug:"disable-observability-plus-user-feedback",surveySteps:[{title:"Observability Plus has been disabled",description:"Help us improve by sharing your feedback.",fields:[{type:"select",id:"reasons-why",label:"Any reasons for disabling Observability Plus?",selectMultiple:!0,options:[{id:"missing-features",label:"Missing features",reveals:{id:"what-were-you-missing",label:"What were you missing?"}},{id:"too-expensive",label:"Too expensive",reveals:{id:"missing-controls",label:"What controls are missing?"}},{id:"prefer-another-product",label:"I prefer another product",reveals:{id:"preferred-product",label:"Which product do you prefer?"}},{id:"not-working-as-expected",label:"It is not working as expected",reveals:{id:"what-was-not-working",label:"What was not working?"}},{id:"just-looking-around",label:"I was just looking around"},{id:"other",label:"Other",reveals:{id:"other-reason",label:"Additional comments"}}]}]}]};var E=e.i(6880199),T=e.i(7917902),_=e.i(1717203),M=e.i(7557283),A=e.i(364898),k=e.i(4496450),F=e.i(2466450);function B(e){if(e>=1e6){let t=e/1e6;return 1===t?"1M":`${t}M`}if(e>=1e3){let t=e/1e3;return`${t}k`}return e.toString()}function R(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"events",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"usd",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e6,r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"usd",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e6;if(!e)return;let{price:s,batch:r}=e;return 1===r?`${(0,F.formatCurrency)(s*i,t)}/${B(i)}`:`${(0,F.formatCurrency)(s,t)}/${B(r)}`}(e,i,s);if(r)return`+ ${r} ${t}`}function D(){let e=O(),{can:i,isLoading:s}=(0,_.default)(),r=!s&&i(M.Action.Update,M.Resource.ObservabilityConfiguration);return(0,t.jsx)(C,{...e,canConfigure:r})}e.s(["formatEventPriceCopy",0,R,"formatMatrixEventPriceCopy",0,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"requests";if(!e)return;let{batch:i,matrix:s}=e,r=Object.values(s.dimensionPrices),n=Number(s.dimensionPrices.iad1??(r.length>0?r[0]:s.defaultUnitPrice)),a=1===i?1e6*n:n,l=(0,F.formatCurrency)(100*a),o=B(1===i?1e6:i);return`Starting at ${l} / ${o} ${t}`}],6827444);let U=e=>{let i,{eventPrice:n}=e,{team:a}=(0,T.useAccount)(),{hasOnlyMonitoring:l,hasObservabilityPlusAccess:o,mutate:c,applyPromotion:d}=(0,s.useHasObservabilityPlus)(),{excludedProjects:u,isObservabilityPlusForProjectsFlagEnabled:m}=(0,x.useObservabilityPlusForProjects)(),p={...function(e){let{hasOnlyMonitoring:i,team:s,source:n,refresh:a,skipPostConfirm:l,applyPromotion:o}=e,c=(0,t.jsxs)(t.Fragment,{children:["By disabling Observability Plus, you will immediately lose access to all advanced metrics. Only included metrics with limited retention window will be accessible.",(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)(r.Note,{type:"warning",children:"Data collected while Observability Plus was disabled will not be visible if you re-enable it."}),(0,t.jsx)("br",{})]}),d={name:"observabilityBase",price:1e3*!o,enable:async()=>{s&&(await (0,E.patchObservabilityConfiguration)({team:s,enableTeam:!0,source:n}),await a())},enableSteps:{externalConfiguration:!0,confirm:{lineItems:[...i?[{name:"Monitoring with 250K data points",price:1e3,removal:!0}]:[],{name:"Observability Plus with 1M events",price:"from_invoice_item",discountPrice:o?0:void 0,discountDescriptor:o?"during first month":void 0},{name:"On-demand events",price:120,priceDescriptor:"per 1M events",discountPrice:o?0:void 0,discountDescriptor:o?(0,t.jsx)("span",{className:"text-blue-700",children:"during first month"}):void 0}],nonProratedCustomCopy:o?void 0:(0,t.jsxs)(t.Fragment,{children:[" ","and your credit card will be charged ",(0,t.jsx)("b",{children:"immediately"}),"."]}),customCopy:(0,t.jsxs)(t.Fragment,{children:[" ","Charges for on-demand events will be billed to your credit card as accrued.",o&&(0,t.jsxs)(r.Note,{fill:!0,type:"success",className:"mt-4",children:["Limited time: Get"," ",(0,t.jsx)("span",{className:"font-bold",children:"your first month"})," of Observability Plus for free."]})]}),confirmLabel:o?"Confirm":void 0}},disableSteps:{disable:{customDisableCopy:(0,t.jsxs)(t.Fragment,{children:[c,"Disabling will take effect now, regardless of your billing cycle."]})},exitSurvey:S},disable:async()=>{s&&(await (0,E.patchObservabilityConfiguration)({team:s,enableTeam:!1,source:n}),await a())}};return s?.billing?.plan==="enterprise"&&(0,k.isLegacyPlanIteration)(s?.billing?.planIteration)&&(d.disableSteps.disable.customDisableModal=(0,t.jsxs)(t.Fragment,{children:[c,"Please reach out to your account executive to disable Observability Plus."]})),l||(d.enableSteps.postConfirmConfiguration={instructions:null,content:(0,t.jsx)(D,{})}),d}({hasOnlyMonitoring:l,team:a,refresh:c,source:e.analyticsEventSource,skipPostConfirm:e.skipPostConfirm,applyPromotion:d}),...e,isEnabled:()=>o},{isEnabled:g,openEnableOrUpdateModal:b,openDisableModal:f,AddOnModal:h,formattedPrice:y}=(0,A.useTogglePaidAddOn)(p);return m&&(i=u?.length?`${u.length} project${1===u.length?"":"s"} excluded`:"Manage projects"),{addOn:p,isObservabilityPlusEnabled:g,enableObservabilityPlus:b,disableObservabilityPlus:f,ObservabilityPlusModal:h,pricingCopy:`${y} / month`,eventPricingCopy:R(n,"events"),configureUIText:i}};e.s(["useToggleObservabilityPlus",0,U],5568858);var L=e.i(6232213),G=e.i(5677444),$=e.i(57106),q=e.i(3306538),H=e.i(6891161),V=e.i(5468328),Y=e.i(1438473),z=e.i(199192),W=e.i(2988836),J=e.i(7749365),Z=e.i(4333930),K=e.i(3228096),Q=e.i(787358),X=e.i(762945),ee=e.i(218692),et=e.i(6675233),ei=e.i(4099936),es=e.i(682502),er=e.i(150374),en=e.i(455575),ea=e.i(7883293);let el=Object.fromEntries(Object.entries({p75DurationMs:"function-performance",functionDurationMs:"function-performance"}).map(e=>{let[t,i]=e;return[t.toLowerCase(),i]})),eo={step:"choose",isEnabling:!1},ec=(0,ea.create)((e,t)=>({step:"closed",team:null,projectId:null,plan:"hobby",isTrialing:!1,isEnabling:!1,isLegacyEnt:!1,hasOnlyMonitoring:!1,openedFrom:!1,setProps:t=>{let{team:i,...s}=t,r=i?.billing?.plan??"hobby";e({...s,team:i,plan:r,isTrialing:"pro"===r&&i?.billing?.status==="trialing"})},open:function(){let{from:i="observability",via:s,upgradeUseCase:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{team:n,onOpen:a,isTrialing:l,plan:o}=t(),c=n?.billing?.plan==="enterprise"&&!(0,k.isOnUnbundledPricingPlan)(n);e({...eo,source:s,upgradeUseCase:r,openedFrom:i,isLegacyEnt:c}),a?.({from:i||void 0,via:s,legacyEnt:c,teamUpgrade:l||"hobby"===o,upgradeUseCase:r})},close:()=>{e({step:"closed"})},doNext:async()=>{let{isEnabling:i,isLegacyEnt:s,isTrialing:r,plan:n,step:a,team:l,onContactSupport:o,onOpenTeamUpgrade:c,onSuccess:d,onConversion:u,source:m,onNext:p,openedFrom:g,upgradeUseCase:b}=t();if(l&&!i){if("choose"===a&&"pro"===n&&!r){p?.({from:g||void 0,via:m,teamUpgrade:!1,upgradeUseCase:b}),e({step:"paid-addon"});return}if("choose"===a){if("hobby"===n||r)p?.({from:g||void 0,via:m,teamUpgrade:!0,upgradeUseCase:b}),c?.({addOn:{additionalConfigurations:{team:l,source:"enable-modal"},type:"observabilityPlus"},disabledSteps:["team-members"],forceImmediateUpgrade:r,source:`observability-enable-modal${m?`-${m}`:""}`,teamHint:l.id,trialBehavior:"disallow-trial",onConversionSuccess:()=>{u?.({from:g||void 0,via:m,teamUpgrade:!0,upgradeUseCase:b}),d?.({team:l})},onAbandon:t=>{t&&e({step:"closed"})}});else if(s)p?.({from:g||void 0,via:m,legacyEnt:!0,upgradeUseCase:b}),o?.({team:l});else if("enterprise"===n){p?.({from:g||void 0,via:m,upgradeUseCase:b}),e({isEnabling:!0});try{await (0,E.patchObservabilityConfiguration)({team:l,enableTeam:!0,source:"enable-modal"}),en.toasts.success("Enabled Observability Plus.")}catch(t){e({isEnabling:!1}),en.toasts.error(`Failed to enable Observability Plus${t instanceof Error?`: ${t.message}`:""}`);return}d?.({team:l}),u?.({from:g||void 0,via:m,teamUpgrade:!1,upgradeUseCase:b})}e({step:"closed",isEnabling:!1})}}}}));e.s(["getUpgradeUseCaseForColumn",0,function(e){return el[e.toLowerCase()]},"useModalState",0,ec,"useOpenEnableModal",0,()=>ec(e=>e.open)],2630141);var ed=e.i(1688950),eu=e.i(6540784),em=e.i(794055),ep=e.i(6143247);let eg={incomingRequest:{label:"Edge Requests",description:"All requests received by the Vercel Edge Network"},outgoingRequest:{label:"External API Requests",description:"All HTTP requests made by your functions to external APIs"},functionExecution:{label:"Function Executions",description:"All executions of your Serverless and Edge Functions"},middlewareInvocation:{label:"Middleware Invocations",description:"All Edge and Node.js Middleware invocations"},aiGatewayRequest:{label:"AI Gateway Requests",description:"All requests made to the AI Gateway"}},eb=e=>{let t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:3}).format(e);return t.endsWith(".00")?t.slice(0,-3):t},ef=e=>{let t=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e),i=t.endsWith(".00")?t.slice(0,-3):t;return`${i} MIU`},ex=[{icon:X.Warning,title:"Anomaly Alerts",description:"Get notified when a function starts failing or usage spikes."},{icon:J.Clock,title:"30 days retention",description:"Explore data of the past 30 days across Observability and Logs."},{icon:ee.LineChart,title:"Custom Queries",description:"Find exactly what you are looking for with custom queries."},{icon:er.Notebook,title:"Notebooks",description:"Save and share queries to collaborate with your team."},{icon:K.Globe,title:"External APIs Insights",description:"Dig deep into external API requests made by your functions."},{icon:Z.FunctionSquare,title:"Advanced Insights",description:"Unlock insights into latency, middleware, and external APIs."}],eh={"function-performance":{title:["Get insights into ",{text:"Function Performance",icon:Z.FunctionSquare}]},function:{title:["Get deeper insights into ",{text:"Functions",icon:Z.FunctionSquare}]},"middleware-performance":{title:["Get insights into ",{text:"Middleware Performance",icon:Q.FunctionMiddleware}]},"external-apis":{title:["Get insights into ",{text:"External APIs",icon:K.Globe}]},retention:{title:["Unlock ",{text:"30 days of retention",icon:J.Clock}]},"anomaly-alerts":{title:["Be alerted when ",{text:"Anomalies",icon:X.Warning}," arise"],color:"amber"},"query-builder":{title:["Explore your data using ",{text:"Queries",icon:ee.LineChart}],color:"pink"},"bot-insights":{title:["Get insights into ",{text:"Bots",icon:et.Robot}]},"blob-insights":{title:["Get deeper insights into ",{text:"Blob",icon:ei.Blob}]},rewrites:{title:["Get insights into ",{text:"External Rewrites",icon:es.ArrowCrossed}]}};function ey(e){let{upgradeUseCase:i}=e,s=eh[i],r=s.color||"blue";return(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold leading-relaxed",children:s.title.map(e=>"string"==typeof e?(0,t.jsx)("span",{children:e},e):(0,t.jsxs)("span",{className:(0,w.clsx)("inline-flex items-center gap-1 rounded-sm px-1.5 text-[1.4rem] translate-y-px","blue"===r&&"text-blue-700 bg-blue-100","amber"===r&&"text-amber-800 bg-amber-100","pink"===r&&"text-pink-700 bg-pink-100"),children:[e.icon&&(0,t.jsx)(e.icon,{size:18}),e.text]},e.text))}),(0,t.jsx)("div",{className:"text-2xl font-semibold",children:"with Observability Plus"})]})}function ev(){return(0,t.jsx)("div",{className:"grid grid-cols-2 gap-x-8 gap-y-7 px-1 py-3 mb-4",children:ex.map(e=>{let i=e.icon;return(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(i,{color:"gray-900",size:16}),(0,t.jsx)("span",{className:"text-[15px] font-semibold text-gray-1000",children:e.title})]}),(0,t.jsx)("p",{className:"text-[14px] leading-relaxed text-gray-900",children:e.description})]},e.title)})})}function ej(e){let{metric:i,count:s,loading:r}=e,n=eg[i];return(0,t.jsxs)(P.default.Fragment,{children:[(0,t.jsxs)("span",{className:"flex items-center gap-1 text-sm text-gray-900",children:[n.label,n.description?(0,t.jsx)(V.Tooltip,{text:n.description,children:(0,t.jsx)(W.InformationFillSmall,{color:"gray-900"})}):null]}),r||void 0===s?(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(j.Skeleton,{height:10,width:35})}):(0,t.jsx)("span",{className:"text-right text-sm text-gray-900",children:(+s).toLocaleString()})]},i)}function eP(e){let{onClose:i,applyPromotion:s}=e,n=O(),{observabilityUsage:a,totalExcludedProjects:l,totalEvents:o}=n,c=(0,x.useObservabilityPlusForProjectsFlag)(),{doNext:u,hasOnlyMonitoring:m,team:p,plan:g,upgradeUseCase:b}=ec(),f=ec(eO),h=ec(e=>e.isLegacyEnt),y=ec(eC),{can:v,isLoading:I}=(0,_.default)(),N=(0,P.useMemo)(()=>!I&&v(M.Action.Update,M.Resource.ObservabilityConfiguration),[I,v]),S="enterprise"===g,{data:E}=(0,ed.useCopperPrices)(p?.slug,{observabilityBase:{model:"unit"},observabilityEvent:{model:"unit"}}),T=(0,k.usesMiuPricing)(p?.billing)?ef:eb,A=p?.billing?.invoiceItems?.observabilityBase,F=p?.billing?.invoiceItems?.observabilityEvent,B=(A?.price!==void 0?new eu.Decimal(A.price).dividedBy(100):new eu.Decimal(E?.observabilityBase?E.observabilityBase.unitAmount:10)).toNumber(),R=(()=>{if(F){let{price:e,batch:t}=F;return new eu.Decimal(e).dividedBy(100).dividedBy(t).times(1e6).toNumber()}return E?.observabilityEvent?new eu.Decimal(E.observabilityEvent.unitAmount).times(1e6).toNumber():1.2})(),D=void 0!==o?Math.max(0,o-1e6):void 0,U=void 0!==D?D/1e6*R:void 0,L=S?0:B,G=void 0!==U?L+U:void 0;return(0,t.jsxs)(H.Modal.Modal,{width:640,active:!0,onClickOutside:i,children:[(0,t.jsxs)(H.Modal.Body,{className:(0,ep.cn)("tailwind-preflight","[--modal-padding:1.5rem_!important] @md-page:[--modal-padding:3rem_!important]"),children:[b?(0,t.jsx)("div",{className:(0,w.clsx)("h-24 w-full absolute top-0 inset-x-0 to-transparent bg-gradient-to-b hidden @md-page:block","amber"===eh[b].color?"from-amber-100":"pink"===eh[b].color?"from-pink-100":"from-blue-100")}):(0,t.jsx)(em.NorthernLights,{className:"hidden @md-page:block"}),(0,t.jsx)(H.Modal.Header,{children:(0,t.jsx)(H.Modal.Title,{className:"px-1 relative",children:b?(0,t.jsx)(ey,{upgradeUseCase:b}):y})}),(0,t.jsx)(ev,{}),(0,t.jsxs)("div",{className:"mb-4",children:["Get more information about"," ",(0,t.jsx)($.Link,{external:!0,href:"/docs/observability/observability-plus",variant:"highlight",children:"Observability Plus"}),"."]}),s&&(0,t.jsxs)(r.Note,{fill:!0,type:"success",label:!1,className:"my-4",children:[(0,t.jsx)(q.Badge,{className:"mr-2 bg-blue-800",capitalize:!1,children:"Black Friday / Cyber Monday"}),"Get ",(0,t.jsx)("span",{className:"font-bold",children:"your first month"})," of Observability Plus for free."]}),c?(0,t.jsx)("div",{className:"mt-2 flex flex-col",children:(0,t.jsxs)("details",{className:"group -mx-2 overflow-hidden rounded border",children:[(0,t.jsxs)("summary",{className:"flex cursor-pointer list-none items-center justify-between p-3 transition-opacity hover:opacity-80 leading-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"transition-transform group-open:rotate-90",children:(0,t.jsx)(z.ChevronRightSmall,{})}),(0,t.jsx)("span",{className:"font-medium text-gray-1000",children:"Included Projects"})]}),(0,t.jsx)("span",{className:"flex items-center gap-1 text-gray-900",children:l>0?`${l} Project${l>1?"s":""} excluded `:"All Projects"})]}),(0,t.jsx)("div",{className:"col-span-2 border-t bg-background-200 p-3 py-3.5 pl-9 tabular-nums space-y-2",children:(0,t.jsx)(C,{...n,canConfigure:N})})]})}):null,(0,t.jsxs)("div",{className:"mt-2 flex flex-col",children:[(0,t.jsxs)("details",{className:"group -mx-2 overflow-hidden rounded border",children:[(0,t.jsxs)("summary",{className:"flex cursor-pointer list-none items-center justify-between p-3 transition-opacity hover:opacity-80 leading-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"transition-transform group-open:rotate-90",children:(0,t.jsx)(z.ChevronRightSmall,{})}),(0,t.jsxs)("span",{className:"font-medium text-gray-1000",children:[m?"Observability":""," Cost Estimate*",(0,t.jsxs)("div",{className:"text-label-13 text-gray-900 leading-[18px]",children:[S?null:(0,t.jsxs)(t.Fragment,{children:[T(B)," per month + "]}),T(R)," per million events"]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[s?(0,t.jsx)("span",{className:"text-blue-700 font-medium",children:"First month free"}):null,(0,t.jsxs)("span",{className:(0,ep.cn)("flex items-center gap-1",s?"text-gray-900":"font-medium text-gray-1000"),children:[void 0!==G?`${s?"then ":""}~ ${T(G)}`:(0,t.jsx)(j.Skeleton,{height:18,width:30})," ",(0,t.jsx)("span",{children:"/ month"})]})]})]}),(0,t.jsxs)("div",{className:"",children:[(0,t.jsxs)("div",{className:(0,w.clsx)("ml-0 grid grid-cols-[2fr,1fr] items-center gap-x-1 gap-y-3 border-t border-dashed p-3 pl-9"),children:[S?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-gray-1000 text-sm",children:"Base Price"}),p?.billing?.planIteration!=="plus"&&(0,t.jsx)("span",{className:"text-label-13 text-gray-900",children:"Includes 1 million events, across all projects"})]}),(0,t.jsxs)("span",{className:"text-right text-sm text-gray-900",children:[T(B)," / month"]})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-gray-1000 text-sm",children:"Additional Events"}),(0,t.jsxs)("span",{className:"text-xs text-gray-900",children:[(0,t.jsx)("span",{children:void 0!==D?D?D.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:2}):"0":(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(j.Skeleton,{className:"mr-2 inline-block h-2 w-16 translate-y-0.5",height:12,width:20})})})," ","additional events Ã— ",T(R)," per million"]})]}),(0,t.jsx)("span",{className:"text-right text-gray-900",children:void 0!==U?U?T(U):"No additional cost":(0,t.jsx)(j.Skeleton,{className:"inline-block",height:18,width:30})})]}),(0,t.jsx)("div",{className:"col-span-2 border-t bg-background-200 p-3 py-3.5 pl-9 tabular-nums space-y-2",children:c?(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-1000",children:"Total events in the last 30 days"}),void 0!==o?(0,t.jsx)("span",{className:"text-right text-sm text-gray-1000",children:o.toLocaleString()}):(0,t.jsx)(j.Skeleton,{height:18,width:50})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-1000",children:"Total events in the last 30 days"}),void 0!==o?(0,t.jsx)("span",{className:"text-right text-sm text-gray-1000",children:o.toLocaleString()}):(0,t.jsx)(j.Skeleton,{height:18,width:50})]}),(0,t.jsx)("div",{className:"grid grid-cols-[2fr,1fr] gap-x-4 gap-y-1",children:a?.eventBreakdown?Object.entries(a.eventBreakdown).map(e=>{let[i,s]=e;return(0,t.jsx)(ej,{count:s,metric:i},i)}):(0,t.jsx)(t.Fragment,{children:d.map(e=>(0,t.jsx)(ej,{loading:!0,metric:e},e))})})]})})]}),(0,t.jsx)("div",{className:"px-4 text-gray-800 pb-2 text-xs bg-background-200 pl-10",children:"* Estimate is based on your team's activity over the last 30 days. The actual cost will vary depending on future usage patterns."})]}),m?(0,t.jsxs)(r.Note,{className:"-mx-2 mt-6",type:"violet",fill:!0,children:["By migrating, your team's existing Monitoring package will be replaced by Observability Plus","pro"===g?(0,t.jsx)(t.Fragment,{children:". The price per million events has already been reduced to $1.20. The base fee remains $10."}):null]}):null,"hobby"===g?(0,t.jsx)(r.Note,{className:"-mx-2 mt-8",type:"violet",fill:!0,children:"Upgrading to Observability Plus requires a paid plan."}):null,h?(0,t.jsx)(r.Note,{className:"-mx-2 mt-2",type:"cyan",children:"To enable Observability Plus, please contact your account executive."}):null]})]}),(0,t.jsxs)(H.Modal.Actions,{children:[(0,t.jsx)(H.Modal.Action,{onClick:i,type:"secondary",children:"Dismiss"}),!h&&(0,t.jsx)(ew,{text:N?void 0:"Please ask your team owners",children:(0,t.jsx)(H.Modal.Action,{disabled:!N,loading:f.loading,onClick:()=>void u(),suffix:f.suffix,type:f.type,children:f.label})})]})]})}function ew(e){let{text:i,children:s}=e;return i?(0,t.jsx)(V.Tooltip,{text:i,children:s}):s}function eO(e){let{plan:i,hasOnlyMonitoring:s,isEnabling:r}=e;return"enterprise"===i?{loading:r,label:s?"Confirm and Migrate":"Confirm"}:{label:"Continue",suffix:(0,t.jsx)(Y.ArrowRight,{})}}function eC(e){let{plan:t,hasOnlyMonitoring:i}=e;return i?"Migrate from Monitoring to Observability Plus":"hobby"===t?"Upgrade to Pro and Observability Plus":"Upgrade to Observability Plus"}e.i(3182268);var eI=e.i(7849855);function eN(e){let{onClose:i}=e,{projectSlug:s}=(0,eI.useProjectSlug)(),{toggleObservabilityPlusForProject:r}=(0,x.useObservabilityPlusForProjects)(),[n,a]=(0,P.useTransition)();return(0,t.jsxs)(H.Modal.Modal,{active:!0,onClickOutside:i,children:[(0,t.jsxs)(H.Modal.Body,{className:"tailwind-preflight",children:[(0,t.jsx)(H.Modal.Header,{children:(0,t.jsx)(H.Modal.Title,{className:"px-1",children:"Include Project in Observability Plus"})}),(0,t.jsxs)("p",{className:"text-copy-14",children:["Include ",(0,t.jsx)("span",{className:"font-medium",children:s})," in Observability Plus to unlock advanced features. This will incur additional event usage."]})]}),(0,t.jsxs)(H.Modal.Actions,{children:[(0,t.jsx)(H.Modal.Action,{onClick:i,type:"secondary",children:"Cancel"}),(0,t.jsx)(H.Modal.Action,{loading:n,onClick:()=>{s&&a(async()=>{await r({projectName:s,disabled:!1}),i()})},children:"Include Project"})]})]})}var eS=e.i(1853611),eE=e.i(7780974);e.s(["EnableModal",0,function(){let{setProps:e,step:r,close:n,open:a,openedFrom:l,source:c,upgradeUseCase:d}=ec(),{team:u}=(0,o.useTeam)(),m=(0,G.useRouter)(),{hasOnlyMonitoring:p,mutate:g,hasObservabilityPlusAccessOnCurrentProject:b,hasObservabilityPlusAccess:f,ready:x,applyPromotion:h}=(0,s.useHasObservabilityPlus)(),y=(0,P.useCallback)(()=>{g(),m.refresh()},[m,g]),v=(0,P.useCallback)(e=>{m.push(`/help?teamSlug=${e.team.slug}`)},[m]),{enableObservabilityPlus:j,ObservabilityPlusModal:w}=U({analyticsEventSource:"enable-modal",onSuccess:()=>{y(),N({from:l||void 0,via:c,teamUpgrade:!1,upgradeUseCase:d})},onClose:e=>{n(),e&&a({from:l||void 0,via:c,upgradeUseCase:d})},skipPostConfirm:!0}),O=(0,i.useOpenUpgradeModal)(),C=(0,P.useCallback)(e=>{eS.analytics.track(eE.VercelActivityAction.ObservabilityPlusModalOpened,e,{send_to:{data_warehouse_legacy:!0}}),eS.analytics.track("Observability Upsell Clicked",{region:e.via??e.from??null,upgradeUseCase:e.upgradeUseCase??null})},[]),I=(0,P.useCallback)(e=>{eS.analytics.track(eE.VercelActivityAction.ObservabilityPlusModalContinued,e,{send_to:{data_warehouse_legacy:!0}})},[]),N=(0,P.useCallback)(e=>{eS.analytics.track(eE.VercelActivityAction.ObservabilityPlusModalConverted,e,{send_to:{data_warehouse_legacy:!0}}),eS.analytics.track("Observability Plus Conversion",{via:e.via??null,from:e.from??null,region:e.via??e.from??null,upgradeUseCase:e.upgradeUseCase??null,plan:u?.billing?.plan??"hobby"}),(0,L.postToStatsigClient)({events:[{eventName:"observability_plus_conversion",metadata:{via:e.via??""}}]})},[u?.billing?.plan]);return((0,P.useEffect)(()=>e({team:u,hasOnlyMonitoring:p,onContactSupport:v,onOpenTeamUpgrade:O,onSuccess:y,onOpen:C,onNext:I,onConversion:N}),[p,v,O,y,e,u,C,I,N]),(0,P.useEffect)(()=>{"paid-addon"===r&&j?.()},[j,r]),"choose"===r&&x&&f&&!b)?(0,t.jsx)(eN,{onClose:n}):(0,t.jsxs)(t.Fragment,{children:["choose"===r?(0,t.jsx)(eP,{onClose:n,applyPromotion:h}):null,"paid-addon"===r?w:null]})}],6728635)}]);

//# debugId=2778d490-0b3c-ad2e-a2cc-c263c0c289d4
//# sourceMappingURL=9a5fe293ce298562.js.map