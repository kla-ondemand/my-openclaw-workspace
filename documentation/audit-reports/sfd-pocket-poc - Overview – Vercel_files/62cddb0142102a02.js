;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="9ae96418-e658-b8b8-f9a0-1bebee24d3ce")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6998974,e=>{"use strict";let t={"speedInsights.sampling":new Set([1]),"billing.proratedAddOns":new Set([2])};e.s(["billingFeatureSupported",0,function(e,i){let n;if(!e)return!1;if("plan"in e)n=e;else{if(!e.billing)return!1;n=e.billing}return t[i].has(n.billingVersion)}])},7982125,e=>{e.v({fixedHeight:"index-module__aVxx7q__fixedHeight"})},8548383,3515598,9773598,7719396,9075918,e=>{"use strict";var t=e.i(4205214),i=e.i(7557283);function n(e,t){let i=r[e];return"string"==typeof i?i:t?i[t]??i.modal:i.fieldset}let r={passwordProtection:"Advanced Deployment Protection",concurrentBuilds:{fieldset:"Additional Concurrent Builds",modal:"Concurrent Builds"},previewDeploymentSuffix:"Preview Deployment Suffix",analytics:"Speed Insights",monitoring:"Monitoring",observabilityBase:{postConfirmConfiguration:"Configure Observability Plus",fieldset:"Observability Plus",modal:"Observability Plus"},webAnalytics:"Web Analytics Plus",saml:"SAML SSO",hipaaAddon:"HIPAA BAA",onDemandConcurrentBuilds:"On-Demand Concurrent Builds",microfrontendsProject:"Microfrontends Projects",bulkRedirect:"Bulk Redirects",securityPlus:"Security Plus",flagsExplorer:{fieldset:"Flags Explorer - Unlimited Overrides",modal:"Flags Explorer"},secureConnectSharedNetworks:"Static IPs",secureComputeNetworksSelfService:"Secure Compute",rollingReleases:"Rolling Releases",firewallOwasp:"OWASP® Core Ruleset"},s={passwordProtection:"Allows you to provide fine-grained control over who can access your deployments. Includes Password Protection, Deployment Protection Exceptions, and Private Production Deployments for all projects.",concurrentBuilds:"Determines how many builds you can run at the same time. By increasing the number ($50 per Slot, per month), you are increasing the level of concurrency (maximum 12).",previewDeploymentSuffix:(0,t.jsxs)(t.Fragment,{children:["Choose your own custom domain for Preview Deployments, in place of the default ",(0,t.jsx)("code",{children:".vercel.app"})," suffix."]}),analytics:"Detailed view of your website's performance metrics, facilitating informed decisions for its optimization.",monitoring:"Monitoring is a query editor that allows you to visualize errors, debug bandwidth issues, and monitor usage and web traffic for the past 30 days.",observabilityBase:"Gain comprehensive visibility into your application's health and performance.",webAnalytics:"Get more insights on your website's visitors with a longer reporting window, more custom event properties, and advanced UI features.",saml:"Enable SAML Single Sign-On (SSO) for your team to provide secure, centralized authentication through your identity provider.",hipaaAddon:"Enter into a Business Associate Agreement (BAA) with Vercel to enable storing, processing, or transmitting Protected Health Information (PHI) in compliance with HIPAA.",onDemandConcurrentBuilds:"On-Demand concurrent builds provides dynamic scaling of builds, allowing projects to temporarily increase their build capacity when needed.",microfrontendsProject:"Build and compose independent applications as a single experience for users.",bulkRedirect:"Increase the max number of redirects that can be added to your projects.",securityPlus:"Enable Security Plus to protect your applications from common security threats.",secureConnectSharedNetworks:"Get static IP addresses for your deployments. Each configured region provides 2 static IPs (shared pool) that can be used on your team's projects.",secureComputeNetworksSelfService:"Enable Secure Compute with VPC Peering, VPN, and full network isolation.",flagsExplorer:"Unrestricted feature flag testing through the Vercel Toolbar, enabling your team to validate multiple configurations across environments without leaving your application.",rollingReleases:"Gradually roll out deployments with traffic shifting and canary releases to reduce risk and validate changes before full rollout.",firewallOwasp:"Protect your applications from common web attacks with the OWASP® Core Ruleset, including protection against the OWASP Top 10 vulnerabilities."},a={passwordProtection:i.Resource.PasswordProtection,concurrentBuilds:i.Resource.ConcurrentBuilds,previewDeploymentSuffix:i.Resource.PreviewDeploymentSuffix,analytics:i.Resource.SpeedInsights,monitoring:i.Resource.MonitoringSettings,observabilityBase:i.Resource.ObservabilityConfiguration,webAnalytics:i.Resource.WebAnalytics,saml:i.Resource.BillingInformation,hipaaAddon:i.Resource.BillingInformation,onDemandConcurrentBuilds:i.Resource.ConcurrentBuilds,microfrontendsProject:i.Resource.TeamMicrofrontends,bulkRedirect:i.Resource.BillingPlan,securityPlus:i.Resource.SecurityPlusConfiguration,secureConnectSharedNetworks:i.Resource.BillingPlan,secureComputeNetworksSelfService:i.Resource.ConnectConfiguration,flagsExplorer:i.Resource.FlagsExplorerSubscription,rollingReleases:i.Resource.BillingPlan,firewallOwasp:i.Resource.SeawallConfig};e.s(["ADD_ON_DESCRIPTIONS",0,s,"ADD_ON_DISPLAY_NAMES",0,r,"ADD_ON_IDS",0,{passwordProtection:"advanced-deployment-protection",concurrentBuilds:"concurrent-builds",previewDeploymentSuffix:"preview-deployment-suffix",analytics:"speed-insights",monitoring:"monitoring",observabilityBase:"observability",webAnalytics:"web-analytics",saml:"saml-sso",hipaaAddon:"hipaa-baa",onDemandConcurrentBuilds:"on-demand-concurrent-builds",microfrontendsProject:"microfrontends-project",bulkRedirect:"bulk-redirect",securityPlus:"security-plus",secureConnectSharedNetworks:"static-ips",secureComputeNetworksSelfService:"secure-compute",flagsExplorer:"flags-explorer",rollingReleases:"rolling-releases",firewallOwasp:"firewall-owasp"},"ADD_ON_LEARN_MORE_LINKS",0,{passwordProtection:"/docs/security/deployment-protection#advanced-deployment-protection",concurrentBuilds:"/docs/deployments/concurrent-builds",previewDeploymentSuffix:"/docs/deployments/generated-urls#preview-deployment-suffix",analytics:"/docs/speed-insights",monitoring:"/docs/observability/monitoring",observabilityBase:"/docs/observability",webAnalytics:"/docs/analytics",saml:"/docs/saml",hipaaAddon:"/docs/security/shared-responsibility",onDemandConcurrentBuilds:"/docs/builds/managing-builds#on-demand-concurrent-builds",microfrontendsProject:"/docs/microfrontends",bulkRedirect:"/docs/redirects#bulk-redirects",securityPlus:"/docs/security/security-plus",secureConnectSharedNetworks:"/docs/connectivity/static-ips",secureComputeNetworksSelfService:"/docs/secure-compute",flagsExplorer:"/docs/feature-flags/flags-explorer",rollingReleases:"/docs/deployments/rolling-releases",firewallOwasp:"/docs/vercel-firewall/vercel-waf/managed-rulesets"},"ADD_ON_PERMISSIONS",0,a,"getAddOnDisplayName",0,n],8548383);var o=e.i(6891161),l=e.i(7982125);e.s(["DisableModalBody",0,function(e){let{name:i,disable:r,closeModal:s,loading:a,customCopy:c,overrideContent:d,invoiceItem:u,newQuantity:m,includedQuantity:f}=e,p=m===(f??0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.Modal.Body,{className:"analytics"===i?l.default.fixedHeight:void 0,children:[(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial pb-4",children:(0,t.jsxs)(o.Modal.Title,{children:[p?"Turn off":"Decrease"," ",n(i)]})}),d?"function"==typeof d?(0,t.jsx)(d,{onNavigate:()=>s("disable")}):d:(0,t.jsx)(o.Modal.Subtitle,{children:(0,t.jsxs)("span",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial pt-2 my-4",style:{margin:0},children:[p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:"text-copy-14",children:["Your team is currently utilizing"," ",(0,t.jsx)("b",{children:n(i)}),"."]}),(0,t.jsx)("p",{className:"text-copy-14",children:c??"Disabling it will prevent your team members from accessing it in the dashboard and turn off any related functionality immediately."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:"text-copy-14",children:["By clicking ",(0,t.jsx)("b",{children:"Confirm"}),", your team will update from having"," ",(0,t.jsxs)("b",{children:[u.quantity," ",n(i,"configure")]})," ","to having"," ",(0,t.jsxs)("b",{children:[m," ",n(i,"configure")]}),"."]}),(0,t.jsx)("p",{className:"text-copy-14",children:"This is effective immediately upon confirmation."})]}),(0,t.jsx)("p",{className:"text-copy-14",children:"Are you sure you want to proceed?"})]})})]}),(0,t.jsxs)(o.Modal.Actions,{children:[(0,t.jsx)(o.Modal.Action,{fullWidth:!!d,onClick:()=>s("disable"),type:"secondary",children:"Cancel"}),d?null:(0,t.jsx)(o.Modal.Action,{buttonType:"button",loading:a,onClick:r,children:"Confirm"})]})]})}],3515598);var c=e.i(8660982),d=e.i(6143247),u=e.i(9358876),m=e.i(2466450),f=e.i(613694);let p="Confirm and Pay";e.s(["ConfirmationInvoice",0,function(e){let{lineItems:i,currency:n,nonProratedCustomCopy:r,customCopy:s,invoiceItem:a,name:o,addOnValue:l,prorate:y,billingPeriod:g,unit:h,includedQuantity:x,confirmLabel:b=p,skipBillingConfirmation:j}=e,v=(0,c.useMemo)(()=>{if(j)return[];if("analytics"===o)return l.map(e=>({name:e.name,price:a.price}));if(x){let e=Math.max(l-a.quantity,0);if(e>0)return[...i,{name:`${e} additional ${(0,u.pluralize)(h??"item",e)}`,price:a.price*e}]}return i},[l,x,a,i,o,j,h]),{subscriptionQuantityDelta:C,immediateQuantityDelta:w}=(0,c.useMemo)(()=>{if("analytics"===o){let e=l.filter(e=>{let t=e.speedInsights??e.analytics,i=t?.disabledAt;return!i||!g||i<=g.start});return{subscriptionQuantityDelta:l.length,immediateQuantityDelta:e.length}}let e=1;return"number"==typeof l&&(e=l),{subscriptionQuantityDelta:e-a.quantity,immediateQuantityDelta:e-(a.highestQuantity??a.quantity)}},[l,g,a.highestQuantity,a.quantity,o]),A=C*a.price,S=(0,f.prorateAmount)(w*a.price,y,g),P=(0,c.useMemo)(()=>{if(!y)return(0,t.jsxs)(t.Fragment,{children:["By clicking ",(0,t.jsx)("b",{children:b}),", the amount of"," ",(0,t.jsx)("b",{children:(0,m.formatCurrency)(A,n)})," will be added to your invoice",r??".",s]});let e=(0,t.jsxs)(t.Fragment,{children:["By clicking ",(0,t.jsx)("b",{children:b}),", the amount of"," ",(0,t.jsx)("b",{children:(0,m.formatCurrency)(A,n)})," will be added to your subscription"]});return 0===S?(0,t.jsxs)(t.Fragment,{children:[e,". ",s]}):S>0?(0,t.jsxs)(t.Fragment,{children:[e," and your credit card will be charged"," ",(0,t.jsxs)("b",{children:[(0,m.formatCurrency)(S,n)," immediately"]})," for the remaining days in your billing cycle.",s]}):(0,t.jsxs)(t.Fragment,{children:[e," and there will be no immediate charge because you have already enabled this within your current billing cycle.",s]})},[n,r,s,S,y,A,b]);return j?(0,t.jsx)("div",{className:"flex flex-col",children:(0,t.jsx)("span",{className:"py-2",children:s})}):(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"py-2",children:P}),v.map(e=>{let{name:i,price:r,removal:s=!1,priceDescriptor:o="/ month",shortDescription:l,discountPrice:c,discountDescriptor:u}=e,f=void 0!==c;return(0,t.jsxs)("div",{className:"flex flex-col py-4 border-b border-b-gray-400 text-sm text-gray-800",children:[(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("span",{className:(0,d.cn)("font-medium mr-auto",s&&"line-through"),children:i}),f?(0,t.jsxs)("div",{className:"inline-flex gap-1 text-blue-700 font-medium",children:[(0,t.jsx)("span",{children:(0,m.formatCurrency)(c,n)}),u]}):null,(0,t.jsxs)("div",{className:"inline-flex gap-1",children:[(0,t.jsx)("span",{className:(0,d.cn)((s||f)&&"line-through"),children:(0,m.formatCurrency)("from_invoice_item"===r?a.price:r,n)}),o]})]},i),l]},i)}),(0,t.jsxs)("div",{className:"flex py-4 gap-1 text-sm font-medium",children:[(0,t.jsx)("span",{className:"mr-auto",children:"Total"}),(0,t.jsxs)("span",{children:[(0,m.formatCurrency)(A,n)," / month"]})]}),(0,t.jsx)("span",{className:"text-xs text-right text-gray-900",children:"* Plus applicable tax and fees"})]})},"defaultConfirmLabel",0,p],9773598);var y=e.i(6352514),g=e.i(1853611);let h={toggle_on:y.AnalyticsEvent.ADD_ONS_TOGGLE_ENABLE_CLICKED,toggle_off:y.AnalyticsEvent.ADD_ONS_TOGGLE_DISABLE_CLICKED,open_update_modal:y.AnalyticsEvent.ADD_ONS_OPEN_UPDATE_MODAL,learn_more:y.AnalyticsEvent.ADD_ONS_LEARN_MORE_CLICKED,exit_modal:y.AnalyticsEvent.ADD_ONS_MODAL_EXITED,change_step:y.AnalyticsEvent.ADD_ONS_MODAL_STEP_CHANGED,enable:y.AnalyticsEvent.ADD_ONS_ENABLED,update:y.AnalyticsEvent.ADD_ONS_UPDATED,disable:y.AnalyticsEvent.ADD_ONS_DISABLED,more_details:y.AnalyticsEvent.ADD_ONS_MORE_DETAILS_EXPANDED,project_list_cta:y.AnalyticsEvent.ADD_ONS_PROJECT_LIST_CTA_CLICKED};e.s(["trackAddOnEvent",0,e=>{let{eventName:t,addOn:i,source:n,step:s,value:a}=e,o=h[t],l=r[i];g.analytics.track(o,{addOn:"string"==typeof l?l:l.modal,source:n,step:s,value:a})}],7719396),e.s(["formatEnabledProjectsDescription",0,function(e,t,i){return 0===e?"":`You have ${e} ${1===e?"project":"projects"} with ${t}. ${i}`},"partitionProjects",0,function(e,t){if(!e)return{enabledProjects:[],unconfiguredProjects:[]};let i=[],n=[];for(let r of e)t(r)?i.push(r):n.push(r);return{enabledProjects:i.sort((e,t)=>e.name.localeCompare(t.name)),unconfiguredProjects:n.sort((e,t)=>e.name.localeCompare(t.name))}}],9075918)},2151290,e=>{e.v({container:"index-module__L77N5G__container",icon:"index-module__L77N5G__icon"})},9736132,e=>{"use strict";var t=e.i(4205214),i=e.i(5255926),n=e.i(4585051),r=e.i(1138941),s=e.i(2151290),a=e.i(9722978);function o(e){let{size:n=24}=e;return(0,t.jsx)(i.Skeleton,{height:n,rounded:!0,style:{flexShrink:0},width:24})}e.s(["FrameworkAvatar",0,function(e){let{project:i,size:l=24,isDisabled:c=!1}=e,d=(0,r.useFramework)(i);return d?(0,t.jsx)(n.Avatar,{className:(0,a.clsx)(s.default.icon,c&&"grayscale(100%) opacity-40"),size:l,src:d.logo,title:`${d.name}`}):(0,t.jsx)(o,{})},"FrameworkAvatarSkeleton",0,o])},364898,9477971,e=>{"use strict";var t=e.i(4205214),i=e.i(8660982),n=e.i(6891161),r=e.i(455575),s=e.i(7917902),a=e.i(1412448),o=e.i(2466450);e.i(1585898);var l=e.i(2066827),c=e.i(3343142),d=e.i(6998974),u=e.i(8548383),m=e.i(3515598),f=e.i(9773598),p=e.i(2064047),y=e.i(57106),g=e.i(9722978),h=e.i(6060673),x=e.i(4450694),b=e.i(7719396),j=e.i(9075918),v=e.i(9736132),C=e.i(2151290);function w(e){let{addOn:i,projects:n,isLoading:r,description:s,ctaCopy:a,ctaHrefBase:o,teamSlug:l,onNavigate:c}=e;return(0,t.jsxs)("div",{className:(0,g.default)("flex flex-col items-stretch justify-start gap-6 flex-initial",C.default.stack),children:[(0,t.jsx)("p",{className:"text-copy-14",children:s}),r||!l?(0,t.jsx)(S,{ctaCopy:a}):(0,t.jsx)(t.Fragment,{children:n.length>0?(0,t.jsx)(p.Entity.List,{className:C.default.container,children:n.map(e=>(0,t.jsxs)(p.Entity,{padding:2,children:[(0,t.jsx)(p.Entity.Content,{fill:!0,title:(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial pl-1",children:[(0,t.jsx)(v.FrameworkAvatar,{project:e}),(0,t.jsx)("p",{className:"text-label-14",children:e.name})]})}),(0,t.jsx)(p.Entity.Content,{title:(0,t.jsx)(y.ButtonLink,{href:`/${l}/${e.name}${o||""}`,onClick:()=>(0,b.trackAddOnEvent)({eventName:"project_list_cta",source:"billing-settings-add-ons",value:`/${l}/${e.name}${o||""}`,addOn:i}),onNavigate:c,type:"secondary",children:a})})]},e.id))}):null})]})}function A(e){let{addOn:n,description:r,ctaCopy:s,ctaHrefBase:a,team:o,onNavigate:l}=e,{data:c,isLoading:d}=(0,h.useTeamProjects)({limit:"200"}),u=(0,i.useMemo)(()=>c?[...c].sort((e,t)=>e.name.localeCompare(t.name)):[],[c]);return(0,t.jsx)(w,{addOn:n,projects:u,isLoading:d,description:r,ctaCopy:s,ctaHrefBase:a,teamSlug:o?.slug,onNavigate:l})}function S(e){let{ctaCopy:i}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsxs)(p.Entity.List,{children:[(0,t.jsxs)(p.Entity,{padding:2,children:[(0,t.jsx)(p.Entity.Content,{fill:!0,title:(0,t.jsx)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial pl-1",children:(0,t.jsx)(v.FrameworkAvatarSkeleton,{})})}),(0,t.jsx)(p.Entity.Content,{title:(0,t.jsx)(y.ButtonLink,{disabled:!0,href:"/",type:"secondary",children:i})})]}),(0,t.jsxs)(p.Entity,{padding:2,children:[(0,t.jsx)(p.Entity.Content,{fill:!0,title:(0,t.jsx)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial pl-1",children:(0,t.jsx)(v.FrameworkAvatarSkeleton,{})})}),(0,t.jsx)(p.Entity.Content,{title:(0,t.jsx)(y.ButtonLink,{disabled:!0,href:"/",type:"secondary",children:i})})]}),(0,t.jsxs)(p.Entity,{padding:2,children:[(0,t.jsx)(p.Entity.Content,{fill:!0,title:(0,t.jsx)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial pl-1",children:(0,t.jsx)(v.FrameworkAvatarSkeleton,{})})}),(0,t.jsx)(p.Entity.Content,{title:(0,t.jsx)(y.ButtonLink,{disabled:!0,href:"/",type:"secondary",children:i})})]})]}),(0,t.jsx)(y.ButtonLink,{disabled:!0,href:"/",type:"secondary",width:"100%"})]})}function P(e){let{instructions:i,children:n}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[i?(0,t.jsx)("p",{className:"text-copy-14",children:i}):null,n]})}e.s(["ProjectList",0,A,"SpeedInsightsProjectList",0,function(e){let{ctaCopy:n,ctaHrefBase:r,team:s,onNavigate:a}=e,{data:o,isLoading:l}=(0,h.useTeamProjects)({limit:"200"}),{data:c,isLoading:d}=(0,x.useSpeedInsightsEnabledProjects)(),u=s?.slug,{enabledProjects:m,unconfiguredProjects:f}=(0,i.useMemo)(()=>{let e=c?.projects??[],t=new Set(e.map(e=>e.id));if(!o)return{enabledProjects:[...e].sort((e,t)=>e.name.localeCompare(t.name)),unconfiguredProjects:[]};let{unconfiguredProjects:i}=(0,j.partitionProjects)(o,e=>t.has(e.id)),n=new Map(o.map(e=>[e.id,e]));return{enabledProjects:e.map(e=>n.get(e.id)??e).sort((e,t)=>e.name.localeCompare(t.name)),unconfiguredProjects:i}},[o,c]),w=(0,i.useMemo)(()=>(0,j.formatEnabledProjectsDescription)(m.length,"Speed Insights enabled","To disable, visit the Speed Insights page for each project."),[m.length]);return(0,t.jsx)("div",{className:(0,g.default)("flex flex-col items-stretch justify-start gap-6 flex-initial",C.default.stack),children:l||d||!u?(0,t.jsx)(S,{ctaCopy:n}):(0,t.jsxs)(t.Fragment,{children:[w&&(0,t.jsx)("p",{className:"text-copy-14",children:w}),m.length>0&&(0,t.jsx)(p.Entity.List,{className:C.default.container,children:m.map(e=>(0,t.jsxs)(p.Entity,{padding:2,children:[(0,t.jsx)(p.Entity.Content,{fill:!0,title:(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial pl-1",children:[(0,t.jsx)(v.FrameworkAvatar,{project:e}),(0,t.jsx)("p",{className:"text-label-14",children:e.name})]})}),(0,t.jsx)(p.Entity.Content,{title:(0,t.jsx)(y.ButtonLink,{href:`/${u}/${e.name}${r||""}`,onClick:()=>(0,b.trackAddOnEvent)({eventName:"project_list_cta",source:"billing-settings-add-ons",value:`/${u}/${e.name}${r||""}`,addOn:"analytics"}),onNavigate:a,type:"secondary",children:n})})]},e.id))}),f.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"Enable Speed Insights from the Speed Insights page for each project:"}),(0,t.jsx)(p.Entity.List,{className:C.default.container,children:f.map(e=>(0,t.jsxs)(p.Entity,{padding:2,children:[(0,t.jsx)(p.Entity.Content,{fill:!0,title:(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial pl-1",children:[(0,t.jsx)(v.FrameworkAvatar,{project:e}),(0,t.jsx)("p",{className:"text-label-14",children:e.name})]})}),(0,t.jsx)(p.Entity.Content,{title:(0,t.jsx)(y.ButtonLink,{href:`/${u}/${e.name}${r||""}`,onClick:()=>(0,b.trackAddOnEvent)({eventName:"project_list_cta",source:"billing-settings-add-ons",value:`/${u}/${e.name}${r||""}`,addOn:"analytics"}),onNavigate:a,type:"secondary",children:"Configure"})})]},e.id))})]})]})})}],9477971);var N=e.i(7982125);function E(e){let{prorate:r,addOnValue:s,analyticsSource:a,currency:o,disable:d,enable:p,isEnabled:y,mutate:g,name:h,invoiceItem:x,setAddOnValue:j,modalType:v,setModalType:C,enableSteps:w,disableSteps:S,team:E,toasts:D,update:k,unit:O,includedQuantity:_,onStart:L,onSuccess:B,onClose:M,skipBillingConfirmation:I}=e,R=(0,i.useMemo)(()=>"number"==typeof s?s:Array.isArray(s)?s.length:0,[s]),[T,$]=(0,i.useState)(!1),[F,q]=(0,i.useState)(function(e,t,i,n){if("enableOrUpdate"===t){if("postConfirmConfiguration"in e&&i)return"postConfirmConfiguration";if("postConfirmProjectList"in e&&i)return"postConfirmProjectList";if("configure"in e)return"configure";if(n){if(e.confirm?.customCopy)return"confirm";if("postConfirmConfiguration"in e)return"postConfirmConfiguration";if("postConfirmProjectList"in e)return"postConfirmProjectList"}}else if("disable"===t)return"disable";return"confirm"}(w,v,y,I)),[H,Q]=(0,i.useState)(null),U=(0,i.useCallback)(e=>{q(e),(0,b.trackAddOnEvent)({eventName:"change_step",addOn:h,source:a,step:e,value:s})},[s,a,h]),G=(0,i.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(s&&!y||"disable"===e)&&j(void 0),(0,b.trackAddOnEvent)({eventName:"exit_modal",addOn:h,source:a,step:e,value:s}),C(null),M?.(t)},[s,a,y,h,j,C,M]),V=(0,i.useCallback)(async()=>{if(E&&d){L?.();try{$(!0),await d({team:E,addOnValue:s}),await g(),await B?.(),D.success(`Disabled ${(0,u.getAddOnDisplayName)(h,F)}.`),(0,b.trackAddOnEvent)({eventName:"disable",addOn:h,source:a})}catch(e){G(F),e instanceof Error?D.error(e.message):D.error(`We ran into an unexpected issue disabling ${(0,u.getAddOnDisplayName)(h,F)}. Please try again later.`)}finally{$(!1)}}},[E,G,d,s,g,D,h,a,F,B,L]),W=(0,i.useCallback)(async()=>{if(E){L?.();try{return y&&k?(Q(null),await k({team:E,addOnValue:s})):await p({team:E,addOnValue:s}),await g(),await B?.(),D.success(`${y?"Updated":"Enabled"} ${(0,u.getAddOnDisplayName)(h,F)}.`),(0,b.trackAddOnEvent)({eventName:y&&k?"update":"enable",addOn:h,source:a,value:s}),!0}catch(e){y&&"previewDeploymentSuffix"===h?Q(e instanceof Error?e.message:"Unexpected error updating Preview Deployment Suffix"):(G(F),e instanceof Error?D.error(e.message):D.error(`We ran into an unexpected issue enabling ${(0,u.getAddOnDisplayName)(h,F)}. Please try again later.`))}}},[E,y,k,s,p,g,D,h,a,G,F,B,L]),K=(0,i.useCallback)(()=>{switch(F){case"configure":G("configure",!0);break;case"confirm":"configure"in w?U("configure"):G("confirm",!0);break;case"postConfirmProjectList":G("postConfirmProjectList",!0);break;case"postConfirmConfiguration":G("postConfirmConfiguration",!0);break;default:C(null)}},[F,G,w,C,U]),z=(0,i.useMemo)(()=>{switch(F){case"postConfirmConfiguration":case"configure":return"Cancel";case"confirm":if("configure"in w||w.externalConfiguration)return"Back";return"Cancel"}},[F,w]),Y=(0,i.useCallback)(async()=>{switch(F){case"configure":r&&"number"==typeof s&&s<x.quantity?U("disable"):I?($(!0),await W(),$(!1),"postConfirmProjectList"in w?U("postConfirmProjectList"):"postConfirmConfiguration"in w?U("postConfirmConfiguration"):G("configure")):U("confirm");break;case"confirm":$(!0),await W(),$(!1),"postConfirmProjectList"in w?U("postConfirmProjectList"):"postConfirmConfiguration"in w?U("postConfirmConfiguration"):G("confirm");break;case"postConfirmProjectList":G("postConfirmProjectList");break;case"postConfirmConfiguration":{if(!k){G("postConfirmConfiguration");break}$(!0);let e=await W();$(!1),e&&G("postConfirmConfiguration");break}case"disable":await V(),"exitSurvey"in S?U("exitSurvey"):G("disable");break;case"exitSurvey":G("exitSurvey");break;default:C(null)}},[F,r,s,x.quantity,W,w,G,C,U,k,V,S,I]),X=(0,i.useMemo)(()=>{switch(F){case"configure":return I?"Enable":"Next";case"confirm":if(I)return w[F]?.confirmLabel??"Enable";return w[F]?.confirmLabel??f.defaultConfirmLabel;case"postConfirmProjectList":return"Close";case"postConfirmConfiguration":if(!k)return"Close";return"Save"}},[F,k,w,I]),J=(0,i.useMemo)(()=>{switch(F){case"postConfirmConfiguration":case"configure":{let e=w[F]?.content;if(!e){U("confirm");break}let i=w[F]?.instructions||"";return(0,t.jsx)(P,{instructions:i,children:"function"==typeof e?(0,t.jsx)(e,{addOnValue:s,configureError:H,onNavigate:()=>G(F),setAddOnValue:j}):e})}case"confirm":{let e=w[F];return(0,t.jsx)(f.ConfirmationInvoice,{addOnValue:s,billingPeriod:E?.billing?.period??null,currency:o,customCopy:e.customCopy,includedQuantity:_,invoiceItem:x,lineItems:e.lineItems,name:h,nonProratedCustomCopy:e.nonProratedCustomCopy,prorate:r,unit:O,confirmLabel:e.confirmLabel,skipBillingConfirmation:I})}case"postConfirmProjectList":return(0,t.jsx)(A,{addOn:h,ctaCopy:w[F]?.ctaCopy,ctaHrefBase:w[F]?.ctaHrefBase,description:w[F]?.description,onNavigate:()=>G("postConfirmProjectList"),team:E})}},[F,h,w,E,s,H,j,U,G,o,_,x,r,O,I]),Z=(0,i.useMemo)(()=>"configure"===F&&(!!("number"==typeof s&&s===x.quantity||Array.isArray(s)&&0===s.length)||!s),[s,x.quantity,F]),ee="postConfirmProjectList"===F||"postConfirmConfiguration"===F&&!k;return"exitSurvey"===F?(0,t.jsx)(l.SurveyModal,{active:!0,enableSkip:!0,onDismiss:()=>{G(F)},onSubmit:async e=>{await Y(),e.hasResponses&&await (0,c.createSurveyEntry)({data:e})},setActive:()=>{},showThankYouToast:!1,submitOnSkip:!0,surveyInfo:S[F]}):(0,t.jsx)(n.Modal.Modal,{active:!0,allowOverflow:!0,onClickOutside:()=>G(F),style:{maxHeight:"540px"},width:"540px",children:"disable"===F?(0,t.jsx)(m.DisableModalBody,{closeModal:G,customCopy:S[F].customDisableCopy,disable:Y,includedQuantity:_,invoiceItem:x,loading:T,name:h,newQuantity:R,overrideContent:S[F].customDisableModal}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Modal.Body,{className:"analytics"===h?N.default.fixedHeight:void 0,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial pb-4",children:(0,t.jsxs)(n.Modal.Title,{children:[(0,u.getAddOnDisplayName)(h,F),"postConfirmProjectList"===F&&"firewallOwasp"!==h?" Added":""]})}),J]})}),(0,t.jsxs)(n.Modal.Actions,{children:[ee?null:(0,t.jsx)(n.Modal.Action,{onClick:K,type:"secondary",children:z}),(0,t.jsx)(n.Modal.Action,{disabled:Z,fullWidth:ee,loading:T,onClick:Y,children:X})]})]})})}e.s(["useTogglePaidAddOn",0,function(e){let{name:n,price:l,enable:c,disable:u,isEnabled:m,enableSteps:f,disableSteps:p,analyticsEventSource:y,update:g,currentAddOnValue:h,includedQuantity:x,unit:b,onStart:j,onSuccess:v,onClose:C,skipBillingConfirmation:w}=e,A=(0,r.useToasts)(),{team:S,user:P,isLoading:N,mutate:D}=(0,s.useAccount)(),k=(0,d.billingFeatureSupported)(S,"billing.proratedAddOns"),O=(0,i.useMemo)(()=>{let e=S?.billing?.invoiceItems?.[n],t=e&&"highestQuantity"in e?e.highestQuantity:null;return"webAnalytics"!==n&&e?e:{price:l,quantity:e?.quantity??x??0,highestQuantity:t??x??0}},[x,n,l,S?.billing?.invoiceItems]),[_,L]=(0,i.useState)(null),{mutate:B}=(0,a.useUpcomingUsage)({enabled:!!_}),M=(0,i.useCallback)(()=>Promise.race([D(),B()]),[D,B]),I=m?.(S)??(O.quantity>(x??0)||!!S?.enabledInvoiceItems?.[n]?.enabled),R=S?.billing?.currency,T=(0,i.useMemo)(()=>(0,o.formatCurrency)(O.price,R),[O,R]),[$,F]=(0,i.useState)(h),q=(0,i.useCallback)(e=>{e&&F(e),L("enableOrUpdate")},[F,L]),H=(0,i.useCallback)(()=>{"analytics"!==n&&F(x??0),L("disable")},[F,L,x,n]),Q=(0,i.useMemo)(()=>null!==_?(0,t.jsx)(E,{addOnValue:$,analyticsSource:y,currency:R,disable:u,disableSteps:p,enable:c,enableSteps:f,includedQuantity:x,invoiceItem:O,isEnabled:I,modalType:_,mutate:M,name:n,onClose:C,onStart:j,onSuccess:v,prorate:k,setAddOnValue:F,setModalType:L,skipBillingConfirmation:w,team:S,toasts:A,unit:b,update:g}):null,[_,$,y,R,u,p,c,f,x,O,I,M,n,C,j,v,k,w,S,A,b,g]);return!N&&P&&S?{isEnabled:I,AddOnModal:Q,openEnableOrUpdateModal:q,openDisableModal:H,formattedPrice:T}:{isEnabled:!1,formattedPrice:T}}],364898)}]);

//# debugId=9ae96418-e658-b8b8-f9a0-1bebee24d3ce
//# sourceMappingURL=cddc0fcfdc99c21a.js.map