;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="582d66bc-444d-df86-8fea-6fcf3918d639")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7713873,e=>{"use strict";var t=e.i(5927860);function i(e){return e.startsWith("env_")}function r(e){return i(e.id)}let a={id:t.EnvTarget.Production,name:"Production",slug:t.EnvTarget.Production,description:"Primary project environment meant to serve qualified, promoted deployments to real users",branchMatcher:void 0,domains:[],createdAt:void 0,updatedAt:void 0},l={id:t.EnvTarget.Preview,name:"Preview",slug:t.EnvTarget.Preview,description:"Standard environment — included with all Vercel projects — for previewing changes before promoting them to production",branchMatcher:void 0,domains:[],createdAt:void 0,updatedAt:void 0},s={id:t.EnvTarget.Development,name:"Development",slug:t.EnvTarget.Development,branchMatcher:void 0,description:"Standard environment — included with all Vercel projects — used to supply environment variables in local development",createdAt:void 0,updatedAt:void 0},n="[all-environments]",o="[all-custom-environments]";e.s(["DevelopmentEnvironment",0,s,"PreviewEnvironment",0,l,"ProductionEnvironment",0,a,"allCustomEnvironmentsFilter",0,o,"allEnvironmentsFilter",0,n,"brandCustomEnvId",0,e=>e,"envName",0,function(e){return r(e)?e.slug:e.name},"isCustomEnvId",0,i,"isCustomEnvironment",0,r,"isEnvFilter",0,function(e){return e===n||e===o||Object.values(t.EnvTarget).includes(e.replace(/^\[|\]$/g,""))||i(e)},"mapToEnvFilter",0,function(e){return i(e)?e:`[${e}]`}])},7957424,e=>{"use strict";var t=e.i(850302),i=e.i(8042625),r=e.i(277234),a=e.i(4244280),l=e.i(9668517),s=e.i(7713873);function n(e,s){let n=(0,l.useTeamSlug)(),o=(0,i.encode)({slug:n}),{skip:u,...d}=s||{},c=async e=>{try{let t=await (0,r.fetchAPI)(e,{throwOnHTTPError:!0});return{customEnvironments:t.environments,accountLimit:t.accountLimit}}catch(e){return{customEnvironments:[],accountLimit:{total:0}}}};return(0,t.default)(e&&!u?`${(0,a.API_ENVIRONMENTS)(e)}${o}`:null,c,d)}e.s(["useAllEnvironments",0,function(e,i){let r=n(e,i),{data:a,error:l,isLoading:o,isValidating:u,mutate:d}=(0,t.default)(e?[e,"allEnvironments",r.data]:null,()=>({environments:[s.ProductionEnvironment,s.PreviewEnvironment,...r.data?.customEnvironments||[],s.DevelopmentEnvironment]}),{...i,fallbackData:{environments:[s.ProductionEnvironment,s.PreviewEnvironment,s.DevelopmentEnvironment]}});return{data:a,error:r.error||l,isLoading:r.isLoading||o,isValidating:r.isValidating||u,mutate:d}},"useCustomEnvironments",0,n])},7429602,e=>{"use strict";var t=e.i(4205214),i=e.i(3306538),r=e.i(2504781),a=e.i(4557026),l=e.i(9722978);e.s(["default",0,function(e){let{feedback:s,muted:n,size:o,variant:u,className:d}=e;return(0,t.jsxs)("div",{className:(0,l.clsx)("flex items-center gap-[var(--geist-space)]",d),children:[(0,t.jsx)(i.Badge,{className:n?"text-[var(--geist-background)] bg-[var(--accents-3)] border-0 dark:text-[var(--geist-background)] dark:bg-[var(--accents-6)]":"",size:o,variant:n?"gray-subtle":u||"pink",children:"Beta"}),s?(0,t.jsx)(r.Button,{className:"sm:block max-[600px]:hidden",onClick:a.dispatchShowFeedbackEvent,size:"small",type:"tertiary",typeName:"button",children:"Provide feedback"}):null]})}])},1542949,e=>{"use strict";var t=e.i(5677444),i=e.i(5348482),r=e.i(4660689);e.s(["useO11yNavigation",0,function(){let e=(0,t.useParams)(),a=(0,t.useSearchParams)(),l=(0,i.useComputeQueryBuilderParams)();return function(t){let{additionalParams:i,removeExistingParams:s,projectSlug:n,ignoreProject:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=n||e?.project,d=u&&!o?`/${e?.teamSlug}/${u}/observability`:`/${e?.teamSlug}/~/observability`,c=new URLSearchParams;s||a?.forEach((e,t)=>{r.EXCLUDED_NAVIGATION_PARAMS.includes(t)||c.set(t,e)});let m=t.startsWith("/")?t:`/${t}`;return"/query"===m&&l(c),i&&Object.entries(i).forEach(e=>{let[t,i]=e;void 0!==i&&c.set(t,i)}),`${d}${m}${c.size?`?${c.toString()}`:""}`}}])},2807115,2760613,e=>{"use strict";var t=e.i(2144405),i=e.i(4205214),r=e.i(8674454),a=e.i(6694387),l=e.i(4991687),s=e.i(8459493),n=e.i(5468328),o=e.i(8876434),u=e.i(6143247),d=e.i(854682),c=e.i(5677444);e.i(6728635);var m=e.i(2630141);e.i(3182268);var v=e.i(7849855),p=e.i(7114658),b=e.i(1717203),f=e.i(7557283),g=e.i(8660982),x=e.i(6891161),h=e.i(8522580);let E=(0,e.i(7883293).create)(e=>({active:!1,setActive:t=>e({active:t})}));function y(e){let{onOpenExcludeModal:t}=e,{can:r,isLoading:a}=(0,b.default)(),{isObservabilityPlusForProjectsFlagEnabled:l,toggleObservabilityPlusForProject:n,isCurrentProjectExcluded:o,isValidating:u}=(0,p.useObservabilityPlusForProjects)(),{projectSlug:d}=(0,v.useProjectSlug)();if(!l||!d)return null;let c=!a&&r(f.Action.Update,f.Resource.ObservabilityConfiguration);return o?(0,i.jsx)(s.MenuItem,{disabled:!c||u||a,onClick:()=>{d&&n({projectName:d,disabled:!1})},children:(0,i.jsx)(j,{text:c?void 0:"Please ask your team owners",children:"Include Project in Plus"})}):(0,i.jsx)(s.MenuItem,{disabled:!c||u||a,onClick:t,type:"error",children:(0,i.jsx)(j,{text:c?void 0:"Please ask your team owners",children:"Exclude Project from Plus"})})}function j(e){let{text:t,children:r}=e;return t?(0,i.jsx)(n.Tooltip,{text:t,children:r}):r}e.s(["ExcludeProjectConfirmationModal",0,()=>{let{active:e,setActive:t}=E(),[r,a]=(0,g.useState)(!1),l=()=>t(!1),{toggleObservabilityPlusForProject:s}=(0,p.useObservabilityPlusForProjects)(),{projectSlug:n}=(0,v.useProjectSlug)();if(!n)return null;let o=async()=>{if(n){a(!0);try{await s({projectName:n,disabled:!0}),l()}finally{a(!1)}}};return(0,i.jsxs)(x.Modal.Modal,{active:e,onClickOutside:l,width:"500px",children:[(0,i.jsx)(x.Modal.Body,{children:(0,i.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,i.jsx)(x.Modal.Title,{children:"Exclude Project from Observability Plus?"}),(0,i.jsxs)("p",{children:["Excluding ",(0,i.jsx)("strong",{children:n})," from Observability Plus will disable the following features for this project:"]}),(0,i.jsxs)(h.Note,{type:"warning",children:[(0,i.jsx)("strong",{children:"Anomaly Alerts"})," will stop being sent"]}),(0,i.jsx)(h.Note,{type:"warning",children:"Logs retention will decrease from 14 days to 3 days"}),(0,i.jsx)(h.Note,{type:"warning",children:"Data will no longer appear in the Query Builder"}),(0,i.jsx)("p",{children:"You can re-enable Observability Plus for this project at any time."})]})}),(0,i.jsxs)(x.Modal.Actions,{children:[(0,i.jsx)(x.Modal.Action,{disabled:r,onClick:l,type:"secondary",children:"Cancel"}),(0,i.jsx)(x.Modal.Action,{disabled:r,loading:r,onClick:o,type:"error",children:"Exclude Project"})]})]})},"useExcludeProjectConfirmationModalState",0,E],2760613),e.s(["OptionsMenu",0,function(e){let{children:n,className:v}=e,p=(0,c.useParams)(),{hasObservabilityPlusAccess:b,impersonating:f,hasObservabilityPlusSubscribed:g}=(0,d.useHasObservabilityPlus)(),x=(0,m.useOpenEnableModal)(),{setActive:h}=E();return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(l.MenuContainer,{position:"bottom-end",children:[(0,i.jsx)(a.MenuButton,{"aria-label":"More Actions",className:(0,u.cn)("shrink-0",v),shape:"square",svgOnly:!0,type:"true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH?"tertiary":"secondary",children:(0,i.jsx)(o.MoreHorizontal,{})}),(0,i.jsxs)(r.Menu,{width:230,children:[n,b?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.MenuItem,{isLink:!0,href:`/${p?.teamSlug}/~/settings/billing#observability`,children:"Configure Observability Plus"}),(0,i.jsx)(y,{onOpenExcludeModal:()=>h(!0)})]}):null,b&&(!f||g)?null:(0,i.jsx)(s.MenuItem,{onClick:()=>x({via:"header-menu"}),children:"Upgrade to Observability Plus"})]})]})})}],2807115)},7348630,e=>{"use strict";var t=e.i(516467);e.s(["isAfter",0,function(e,i){return+(0,t.toDate)(e)>+(0,t.toDate)(i)}])},3614109,e=>{"use strict";var t=e.i(4205214),i=e.i(4597921),r=e.i(5338940),a=e.i(5287165),l=e.i(7348630),s=e.i(1794286),n=e.i(7432042),o=e.i(5677444),u=e.i(8660982),d=e.i(8151845),c=e.i(854682),m=e.i(1509029),v=e.i(2749380);e.i(6728635);var p=e.i(2630141);e.i(6483798);var b=e.i(8287059);e.s(["DateRangeSelect",0,function(){let e=(0,b.useOpenUpgradeModal)(),[f,g]=(0,d.useSonarQueryState)(),{start:x,end:h}=(0,d.useRangeFromQueryState)(),{team:E}=(0,r.useTeam)(),{hasObservabilityPlusAccessOnCurrentProject:y,ready:j}=(0,c.useHasObservabilityPlus)(),P=(0,p.useOpenEnableModal)(),T=(0,i.useServerFlag)("observability-maximum-lookback","inherit"),S=(0,u.useMemo)(()=>{if(!E)return new Date;let e=function(e){let t,i,{team:r,hasObservabilityPlusAccess:a,observabilityMaximumLookbackFlag:l}=e;if(t=a?m.PlusRetention:r.billing?.plan==="pro"?m.FreeProRetention:r.billing?.plan==="enterprise"?m.FreeEntRetention:m.FreeHobbyRetention,"inherit"===l)return t;try{i=(0,n.default)(l)}catch(e){console.error("Failed to parse observability-maximum-lookback flag. Defaulting to plan settings"),i=t}return i>(0,n.default)("90d")&&(i=(0,n.default)("90d")),i}({team:E,hasObservabilityPlusAccess:y,observabilityMaximumLookbackFlag:T});return new Date(Date.now()-e)},[E,y,T]);(0,u.useEffect)(()=>{if(j&&E&&x<S&&!y){let e=Object.keys((0,v.getTimeRangePresets)())[0];(0,a.track)("Observability Changed Date Range Period",{period:e}),g({period:e},{navigate:!0})}},[S,g,x,E,y,j]);let _=(0,o.usePathname)()?.split("observability").pop()||"";if("/notebooks"===_||"/ai"===_)return;let N=Object.entries((0,v.getTimeRangePresets)()).filter(e=>{let[t,i]=e;return!y||(0,l.isAfter)(i.start,S)}).map(e=>{let[t,i]=e;return{key:t,...i,needsUpgrade:i.start.getTime()<S.getTime()}}),C=(()=>{if(E?.billing?.plan==="hobby"){let t=Date.now()-m.FreeProRetention;return[{presets:N.filter(e=>!e.needsUpgrade)},{title:"Upgrade to Pro",divider:!0,presets:N.filter(e=>e.needsUpgrade&&e.start.getTime()>=t).map(t=>({...t,onClick:()=>{e({teamHint:E.id,source:"observability-period-filter",onConversionSuccess:()=>{g({period:t.key},{navigate:!0})}})}}))},{title:"Observability Plus",presets:N.filter(e=>e.needsUpgrade&&e.start.getTime()<t).map(e=>({...e,onClick:()=>{P({via:"date-range-select",upgradeUseCase:"retention"})}}))}]}let t=N.filter(e=>e.needsUpgrade);return t.length?[{presets:N.filter(e=>!e.needsUpgrade)},{title:"Observability Plus",divider:!0,presets:t.map(e=>({...e,onClick:()=>{P({via:"date-range-select",upgradeUseCase:"retention"})}}))}]:[{presets:N}]})(),w=f.period?N.find(e=>e.key===f.period)?.key:void 0;return(0,t.jsx)(s.Calendar,{allowClear:!1,compact:!0,minValue:S,onChange:(e,t)=>{let i=new Date(e.start),r=new Date(e.end);t?((0,a.track)("Observability Changed Date Range Period",{period:t}),g({period:t},{navigate:!0})):((0,a.track)("Observability Changed Date Range Period",{period:(0,n.default)(r.getTime()-i.getTime())}),g({from:i,to:r},{navigate:!0}))},popoverAlignment:"center",presetKey:w,presets:C,value:{start:x,end:h},width:"190px"},"date-range-select-o11y")}],3614109)},7458020,e=>{"use strict";var t=e.i(8660982);e.s(["useScrollEnd",0,function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[r,a]=(0,t.useState)(!1),[l,s]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{let t=e.current;if(!t)return;let r=()=>{a(t.scrollLeft+t.clientWidth+i>=t.scrollWidth),s(t.scrollLeft<=i)};return r(),t.addEventListener("scroll",r),window.addEventListener("resize",r),()=>{t.removeEventListener("scroll",r),window.removeEventListener("resize",r)}},[e,i]),{start:l,end:r}}])},806506,e=>{e.v({"scroll-content":"mobile-scroll-wrapper-module__7291Ja__scroll-content","tab-shadow-wrapper":"mobile-scroll-wrapper-module__7291Ja__tab-shadow-wrapper","tabs-shadow":"mobile-scroll-wrapper-module__7291Ja__tabs-shadow","tabs-shadow--hidden":"mobile-scroll-wrapper-module__7291Ja__tabs-shadow--hidden","tabs-shadow--left":"mobile-scroll-wrapper-module__7291Ja__tabs-shadow--left",wrapper:"mobile-scroll-wrapper-module__7291Ja__wrapper"})},8412040,e=>{"use strict";var t=e.i(4205214),i=e.i(9722978),r=e.i(8660982),a=e.i(7458020),l=e.i(806506);e.s(["MobileScrollWrapper",0,function(e){let{children:s,contentStyle:n,contentClassName:o,...u}=e,d=(0,r.useRef)(null),{start:c,end:m}=(0,a.useScrollEnd)(d,20);return(0,t.jsxs)("div",{className:(0,i.clsx)(l.default.wrapper,u.className),style:u.style,children:[(0,t.jsx)("div",{className:(0,i.clsx)(l.default["scroll-content"],o),ref:d,style:n,children:s}),(0,t.jsxs)("div",{className:l.default["tab-shadow-wrapper"],children:[(0,t.jsx)("div",{className:(0,i.clsx)(l.default["tabs-shadow"],l.default["tabs-shadow--left"],{[l.default["tabs-shadow--hidden"]]:c||!m})}),(0,t.jsx)("div",{className:(0,i.clsx)(l.default["tabs-shadow"],{[l.default["tabs-shadow--hidden"]]:m})})]})]})}])},4313344,e=>{"use strict";var t=e.i(4205214),i=e.i(6881349);let r={production:"Production",preview:"Preview",all:"All environments"};e.s(["EnvironmentSelector",0,function(e){var a,l;let{environment:s,onChange:n,allowAll:o=!0,customEnvironments:u=[]}=e,d=[...Object.entries(r).filter(e=>{let[t]=e;return o||"all"!==t}),...u.map(e=>[e.slug,e.name??e.slug])];return(0,t.jsxs)(i.Combobox,{clearable:!1,value:s,noInputPrefix:!0,width:(a=s,l=d,`${Math.min((l.find(e=>{let[t]=e;return t===a})?.[1].length??0)*8.6+48,200)}px`),onChange:e=>{e&&n(e)},noRawSelectedValue:!0,children:[(0,t.jsx)(i.Combobox.Input,{}),(0,t.jsx)(i.Combobox.List,{maxWidth:300,children:d.map(e=>{let[r,a]=e;return(0,t.jsx)(i.Combobox.Option,{value:r,children:a},r)})})]})}])},2731997,e=>{"use strict";var t=e.i(4205214),i=e.i(5677444),r=e.i(4313344),a=e.i(8151845);e.s(["EnvironmentSelect",0,function(e){let{allowAll:l=!0,customEnvironments:s=[]}=e,[n,o]=(0,a.useSonarQueryState)(),u=(0,i.usePathname)()?.split("observability").pop()||"";if("/notebooks"!==u&&"/ai"!==u)return(0,t.jsx)(r.EnvironmentSelector,{allowAll:l,environment:n.environment,customEnvironments:s,onChange:e=>{o({environment:e})}})}])},3470411,e=>{"use strict";var t=e.i(2144405),i=e.i(4205214),r=e.i(8412040),a=e.i(5677444),l=e.i(3614109),s=e.i(2731997),n=e.i(2807115),o=e.i(6143247),u=e.i(7957424);e.s(["HeaderControls",0,function(e){let{children:d,hideEnvironmentSelect:c,hideOptionsMenu:m}=e,v=(0,a.usePathname)()?.split("observability").pop()||"",p=(0,a.useParams)(),b=!c&&!v.startsWith("/alerts")&&!v.startsWith("/query"),f=!v.startsWith("/alerts")&&!v.startsWith("/query"),g=v.includes("/workflows"),{data:x}=(0,u.useCustomEnvironments)(p?.project,{skip:!v.includes("/workflows")});return(0,i.jsx)("div",{className:"w-full @md-page:w-auto",children:(0,i.jsx)(r.MobileScrollWrapper,{className:(0,o.cn)("-mx-5 @md-page:mx-0","true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH?"w-full -my-4 @md-page:my-0":"-my-2"),contentClassName:(0,o.cn)("@md-page:!overflow-visible py-3 px-5 @md-page:px-0"),style:{"--overlay-color":"var(--ds-background-200-value)"},children:(0,i.jsxs)("div",{className:(0,o.cn)("flex flex-row items-center gap-2","true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH&&"w-full"),children:[d,b?(0,i.jsx)(s.EnvironmentSelect,{allowAll:!g,customEnvironments:x?.customEnvironments??[]}):null,"true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH&&(0,i.jsx)("div",{className:"flex-1"}),f?(0,i.jsx)(l.DateRangeSelect,{}):null,m||"true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH?null:(0,i.jsx)(n.OptionsMenu,{})]})})})}])},1397323,e=>{"use strict";var t=e.i(4205214),i=e.i(8660982),r=e.i(57106),a=e.i(9722978),l=e.i(6159310);function s(e){let{group:i}=e;return(0,t.jsxs)(t.Fragment,{children:[i.heading?(0,t.jsx)("div",{className:"mt-4 ml-3 text-xs font-medium uppercase text-gray-800",children:i.heading}):null,(0,t.jsx)("div",{className:"flex flex-col divide-x",children:i.tabs.map(e=>{let{icon:i,label:l,href:s,isActive:n,meta:o}=e;return(0,t.jsxs)(r.Link,{className:(0,a.clsx)("flex flex-row items-center gap-2 rounded border-none px-3 py-2 text-sm font-medium no-underline focus:relative",n?"text-primary bg-gray-200":"text-gray-900 hover:bg-gray-100"),href:s,children:[i?(0,t.jsx)(i,{}):null,l,o?.suffix||null]},l)})})]})}e.s(["TabList",0,function(e){let{routes:r,excludeParams:a}=e,n=(0,l.useNavLinks)(r,{preserveSearchParams:!0,excludeParams:a,namespace:"o11y"});return(0,i.useMemo)(()=>{let e={heading:"",tabs:[]},t=[e];for(let i of n.links){if(i.isHeading){e={heading:i.label,tabs:[]},t.push(e);continue}e.tabs.push(i)}return t},[n.links]).map(e=>(0,t.jsx)(s,{group:e},e.heading))}])},3298321,e=>{"use strict";var t=e.i(2144405),i=e.i(4205214),r=e.i(3306538),a=e.i(5468328),l=e.i(1542949),s=e.i(854682),n=e.i(3470411),o=e.i(57106),u=e.i(6143247);function d(){let{hasObservabilityPlusSubscribed:e,hasObservabilityPlusAccess:t,impersonating:l}=(0,s.useHasObservabilityPlus)();return t&&!e&&l&&(0,i.jsx)(a.Tooltip,{maxWidth:260,text:(0,i.jsxs)("span",{children:["As you're impersonating, you have a temporary access to Observability Plus.",(0,i.jsx)("br",{}),"Customers do not."]}),children:(0,i.jsx)(r.Badge,{variant:"trial",children:"Temporary access"})})}e.s(["PageHeader",0,function(e){let{title:r,isSubPage:a}=e,s=(0,l.useO11yNavigation)();return(0,i.jsx)("div",{className:(0,u.cn)("w-full border-b @md-page:py-8","true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH&&"@md-page:py-0 border-none mt-2"),children:(0,i.jsxs)("div",{className:"container flex flex-col justify-between gap-2 py-6 @md-page:flex-row @md-page:items-center @md-page:py-0",children:["true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH?null:a?(0,i.jsxs)("div",{className:"flex flex-col -mb-2",children:[(0,i.jsx)(o.Link,{href:s("/"),className:"text-sm text-gray-900 inline-block -mt-2 h-4 hover:underline",children:"Observability"}),(0,i.jsxs)("div",{className:"flex items-center gap-2 mt-1.5",children:[(0,i.jsx)("h1",{className:"font-medium text-heading-32 text-3xl",children:r}),(0,i.jsx)(d,{})]})]}):(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("h1",{className:"font-medium text-heading-32",children:r}),(0,i.jsx)(d,{})]}),(0,i.jsx)("div",{className:(0,u.cn)("true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH?"w-full":"@md-page:ml-auto"),children:(0,i.jsx)(n.HeaderControls,{children:"true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH?(0,i.jsx)(d,{}):null})})]})})}])},8890553,e=>{"use strict";var t=e.i(2144405),i=e.i(4205214),r=e.i(2504781),a=e.i(8522580),l=e.i(2712781),s=e.i(9096446);e.i(6728635);var n=e.i(2630141),o=e.i(8660982),u=e.i(2020034),d=e.i(6143247);e.s(["ObservabilityPlusInfoBanner",0,function(e){let{hasObservabilityPlusAccess:c,teamPlan:m,showInfoBanner:v,applyPromotion:p}=e,b=(0,n.useOpenEnableModal)(),[f,g]=(0,o.useState)(!1);return c||!v||f?null:(0,i.jsx)("div",{className:(0,d.cn)("container","true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH?"mt-0 mb-2":"mt-6 -mb-2"),children:(0,i.jsx)("div",{className:(0,d.cn)("@md-page:mr-[-2px] @md-page:ml-[-10px] relative group","true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH&&"@md-page:mr-0 @md-page:ml-0"),children:(0,i.jsx)(a.Note,{fill:!0,icon:(0,i.jsx)(l.Sparkles,{}),action:(0,i.jsxs)("div",{className:"flex items-center gap-2 p-0.5 relative",children:[(0,i.jsx)(r.Button,{onClick:()=>{b({from:"observability",via:"layout-banner"})},size:"small",children:"hobby"===m?"Upgrade to Pro":p?"Get 30 days for free":"Get Observability Plus"}),(0,i.jsx)(r.Button,{onClick:()=>{(0,u.setCookie)("observability-plus-banner-hidden","true","14d","/"),g(!0)},size:"tiny",shape:"circle",svgOnly:!0,type:"secondary","aria-label":"Dismiss banner",className:"absolute -top-5 -right-5 !transition-opacity !duration-250 opacity-0 group-hover:opacity-100",children:(0,i.jsx)(s.CrossSmall,{})})]}),children:(0,i.jsxs)("span",{className:"text-gray-1000 opacity-80",children:[(0,i.jsx)("span",{className:"font-medium",children:"Unlock anomaly alerts, custom queries, 30-day retention, and more"})," ","with"," ","hobby"===m?"Pro and Observability Plus":"Observability Plus","."]})})})})}])},2206042,e=>{"use strict";var t=e.i(2144405),i=e.i(4205214),r=e.i(3306538),a=e.i(2504781),l=e.i(8522580),s=e.i(8660982),n=e.i(5467025),o=e.i(1397323),u=e.i(3298321),d=e.i(8690335),c=e.i(409142),m=e.i(6728635),v=e.i(2630141),p=e.i(5677444),b=e.i(5338940),f=e.i(5140444),g=e.i(8275336),x=e.i(6818658),h=e.i(3196486),E=e.i(6060673),y=e.i(854682);function j(){let e=(0,p.usePathname)(),t=(0,p.useParams)(),i=(0,y.useHasObservabilityPlus)(),{team:r}=(0,b.useTeam)(),{user:a}=(0,f.useUser)(),{data:l}=(0,E.useProject)(t?.project),n=(0,g.computeRoute)(e,t);return(0,s.useEffect)(()=>{a?.uid&&r?.id&&i.ready&&(0,h.sendToSnowflake)(x.Topic.VercelObservabilityV0Activity,{user_id:a.uid,team_id:r.id,project_id:l?.id??null,route:n,path:e,access:i.hasObservabilityPlusAccess?"plus":"free",action:"pageview",plan:r.billing?.plan},"vercel-app")},[r?.id,a?.uid,l?.id,i.ready,i.hasObservabilityPlusAccess,n,e,r?.billing?.plan]),null}var P=e.i(7429602),T=e.i(4660689),S=e.i(6190050),_=e.i(7420728),N=e.i(7114658);e.i(3182268);var C=e.i(7849855),w=e.i(6143247),O=e.i(2760613);e.s(["ObservabilityProjectLayout",0,function(e){let{customMenuItem:p,children:b,banner:f}=e,{state:g}=(0,c.useSearchParamsState)({enableModal:{defaultValue:"none"}}),x=(0,v.useOpenEnableModal)();(0,s.useEffect)(()=>{"show"===g.enableModal&&x({via:"deep-link"})},[g.enableModal,x]);let{isCurrentProjectExcluded:h,hasObservabilityPlus:E,toggleObservabilityPlusForProject:y,isLoading:L}=(0,N.useObservabilityPlusForProjects)(),{projectSlug:U}=(0,C.useProjectSlug)(),[I,B]=(0,s.useState)(!1),D=(0,s.useCallback)(async()=>{if(U){B(!0);try{await y({projectName:U,disabled:!1})}finally{B(!1)}}},[U,y]),M=(0,S.useRoute)(),{title:k,isSubPage:A}=(0,s.useMemo)(()=>{if(!M)return{title:"Observability",isSubPage:!1};let e=_.Routes[M];return e&&"/[teamSlug]/[project]/observability"!==M&&("Observability"===e.group||M.includes("/observability/"))?{title:e.label,isSubPage:!0}:{title:"Observability",isSubPage:!1}},[M]);return(0,i.jsxs)(n.ObservabilityChartContextProvider,{children:[(0,i.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,i.jsx)(u.PageHeader,{title:k,isSubPage:A}),f,E&&h&&!L?(0,i.jsx)("div",{className:(0,w.cn)("container","true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH?"mt-0 mb-2":"mt-6"),children:(0,i.jsx)("div",{className:(0,w.cn)("@md-page:mr-[-2px] @md-page:ml-[-10px] relative","true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH&&"@md-page:mr-0 @md-page:ml-0"),children:(0,i.jsx)(l.Note,{type:"warning",fill:!0,action:(0,i.jsx)(a.Button,{loading:I,onClick:D,size:"small",type:"secondary",children:"Enable for this project"}),children:"This project is excluded from Observability Plus. Anomaly alerts and other advanced features are not available for this project."})})}):null,(0,i.jsx)("div",{className:(0,w.cn)("relative mt-8 flex-1","true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH&&"mt-1"),children:(0,i.jsxs)("div",{className:"container flex flex-col gap-6 pb-10 @md-page:flex-row",children:["true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH?null:(0,i.jsxs)("div",{className:"flex min-w-[209px] flex-col gap-2 -mx-2.5 @md-page:mr-0",children:[(0,i.jsx)(o.TabList,{excludeParams:T.EXCLUDED_NAVIGATION_PARAMS,routes:[{label:"Overview",route:"/[teamSlug]/[project]/observability"},{route:"/[teamSlug]/[project]/observability/query",computeSearch:d.computeQueryBuilderSearch},"/[teamSlug]/~/observability/notebooks",{route:"/[teamSlug]/[project]/observability/alerts",meta:{suffix:(0,i.jsx)(P.default,{size:"sm"})}},{heading:"Compute"},"/[teamSlug]/[project]/observability/vercel-functions","/[teamSlug]/[project]/observability/external-apis","/[teamSlug]/[project]/observability/middleware",{route:"/[teamSlug]/[project]/observability/workflows",meta:{suffix:(0,i.jsx)(P.default,{size:"sm"})}},"/[teamSlug]/[project]/sandboxes","/[teamSlug]/[project]/observability/runtime-cache",{heading:"CDN"},"/[teamSlug]/[project]/observability/edge-requests","/[teamSlug]/[project]/observability/fast-data-transfer","/[teamSlug]/[project]/observability/image-optimization","/[teamSlug]/[project]/observability/isr","/[teamSlug]/[project]/observability/rewrites","/[teamSlug]/[project]/observability/microfrontends",{heading:"Deployments"},"/[teamSlug]/[project]/observability/build-diagnostics",{heading:"Services"},"/[teamSlug]/[project]/observability/ai","/[teamSlug]/[project]/observability/blob",{route:"/[teamSlug]/[project]/observability/queues",meta:{suffix:(0,i.jsx)(P.default,{size:"sm"})}},{heading:"Early Access"},"/[teamSlug]/[project]/observability/tracing",{route:"/[teamSlug]/[project]/observability/errors",meta:{suffix:(0,i.jsx)(P.default,{size:"sm"})}},{route:"/[teamSlug]/[project]/observability/metrics",meta:{suffix:(0,i.jsx)(r.Badge,{size:"sm",children:"Internal"})}}]}),p]}),(0,i.jsx)("div",{className:"flex-1",children:b})]})})]}),(0,i.jsx)(m.EnableModal,{}),(0,i.jsx)(O.ExcludeProjectConfirmationModal,{}),(0,i.jsx)(j,{})]})}],2206042)}]);

//# debugId=582d66bc-444d-df86-8fea-6fcf3918d639
//# sourceMappingURL=77919b4cdccb43da.js.map