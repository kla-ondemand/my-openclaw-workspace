;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="e39937c1-ffb2-dbee-5724-4a141af169cc")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,923772,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M6.75 2.75C6.75 2.05964 7.30964 1.5 8 1.5C8.69036 1.5 9.25 2.05964 9.25 2.75V3H6.75V2.75ZM5.25 3V2.75C5.25 1.23122 6.48122 0 8 0C9.51878 0 10.75 1.23122 10.75 2.75V3H12.9201H14.25H15V4.5H14.25H13.8846L13.1776 13.6917C13.0774 14.9942 11.9913 16 10.6849 16H5.31508C4.00874 16 2.92263 14.9942 2.82244 13.6917L2.11538 4.5H1.75H1V3H1.75H3.07988H5.25ZM4.31802 13.5767L3.61982 4.5H12.3802L11.682 13.5767C11.6419 14.0977 11.2075 14.5 10.6849 14.5H5.31508C4.79254 14.5 4.3581 14.0977 4.31802 13.5767Z" fill="currentColor"/>');e.s(["Trash",0,t])},2112997,e=>{e.v({checked:"switch-control-module__WvDOda__checked",container:"switch-control-module__WvDOda__container",control:"switch-control-module__WvDOda__control",disabled:"switch-control-module__WvDOda__disabled",icon:"switch-control-module__WvDOda__icon",large:"switch-control-module__WvDOda__large",small:"switch-control-module__WvDOda__small",text:"switch-control-module__WvDOda__text"})},1328457,e=>{e.v({hideBorder:"switch-module__idkRsq__hideBorder",large:"switch-module__idkRsq__large",small:"switch-module__idkRsq__small",switch:"switch-module__idkRsq__switch"})},8923565,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),a=e.i(9722978),n=e.i(9508212),i=e.i(1011651),s=e.i(1344973),l=e.i(2112997),o=e.i(1328457);let c=Object.assign((0,r.forwardRef)(function(e,i){let{className:s,size:l,name:c,children:u,hideBorder:d,checkedColor:m,...f}=e;return(0,t.jsx)(n.Stack,{className:(0,a.clsx)(s,o.default.switch,{[String(o.default.large)]:"large"===l,[String(o.default.small)]:"small"===l,[String(o.default.hideBorder)]:d}),direction:"row",...f,ref:i,children:r.Children.map(u,e=>(0,r.cloneElement)(e,{name:c,size:l,checkedColor:m}))})}),{Control:function(e){let{className:n,icon:o,label:c,size:u,checked:d,disabled:m,checkedColor:f="var(--ds-gray-100)",innerDivClassName:p,...g}=e,h=void 0!==o,S=(0,a.clsx)(l.default.control,{[String(l.default.disabled)]:m,[String(l.default.checked)]:d,[String(l.default.large)]:"large"===u,[String(l.default.small)]:"small"===u,[String(l.default.text)]:!h,[String(l.default.icon)]:h}),x=o?(0,t.jsxs)(t.Fragment,{children:[(0,r.cloneElement)(o,{size:"large"===u?20:16}),(0,t.jsx)("span",{className:"geist-sr-only",children:c})]}):c;return"href"in g&&void 0!==g.href?m?(0,t.jsx)(s.Text,{as:"span",className:S,style:{"--switch-checked-color":f},children:x}):(0,t.jsx)(i.default,{className:S,href:g.href,onClick:g.onClick,prefetch:g.prefetch,scroll:!1,style:{"--switch-checked-color":f},children:x}):(0,t.jsxs)("label",{className:(0,a.clsx)(l.default.container,n),"data-disabled":m?"true":"false",children:[(0,t.jsx)("input",{...g,checked:d,className:"geist-sr-only",disabled:m,type:"radio"}),(0,t.jsx)("div",{className:(0,a.clsx)(S,p),style:{"--switch-checked-color":f},children:x})]})}});e.s(["Switch",0,c],8923565)},5576066,e=>{"use strict";var t=e.i(4205214),r=e.i(57106);e.s(["Link",0,function(e){let{as:a,children:n,href:i,locale:s,prefetch:l,replace:o,scroll:c,shallow:u,...d}=e;return(0,t.jsx)(r.Link,{as:a,href:i,locale:s,prefetch:l,replace:o,scroll:c,shallow:u,...d,children:n})}])},9623499,e=>{"use strict";e.i(5576066),e.s([])},6850581,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),a=e.i(1344973),n=e.i(5797774);function i(e){let{date:r}=e,n=u(r);return(0,t.jsx)(a.Text,{as:"span",color:"gray-900",variant:"label-14",children:n})}function s(e){let{date:r}=e,a=Intl.DateTimeFormat().resolvedOptions().timeZone,n=c(r);return(0,t.jsxs)("div",{className:"flex flex-col gap-3 min-w-[300px] ",children:[(0,t.jsx)("div",{className:"flex flex-col gap-3",children:(0,t.jsx)("span",{className:"tabular-nums text-label-13 text-gray-900",children:n})}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(l,{date:r,zone:"UTC"}),(0,t.jsx)(l,{date:r,zone:a})]})]})}function l(e){let{date:r,zone:a}=e,n=new Date(r),i=new Intl.DateTimeFormat("en-US",{timeZone:a,timeZoneName:"short"}).formatToParts(n).find(e=>"timeZoneName"===e.type)?.value||a,s=n.toLocaleString("en-US",{timeZone:a,year:"numeric",month:"long",day:"numeric"}),l=n.toLocaleTimeString("en-US",{timeZone:a,hour:"2-digit",minute:"2-digit",second:"2-digit"});return(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:"flex items-center justify-center h-4 px-1.5 bg-gray-200 rounded-xs",children:(0,t.jsx)("span",{className:"text-label-12-mono text-gray-900",children:i})}),(0,t.jsx)("span",{className:"text-label-13",children:s})]}),(0,t.jsx)("span",{className:"tabular-nums text-label-12-mono text-gray-900",children:l})]})}let o=[{unit:"year",ms:31536e6},{unit:"month",ms:2628e6},{unit:"day",ms:864e5},{unit:"hour",ms:36e5},{unit:"minute",ms:6e4},{unit:"second",ms:1e3}];function c(e){let[t,a]=(0,r.useState)("");return(0,r.useEffect)(()=>{let t=()=>{let t=function(e){let t=Math.abs(e),r=[];for(let{unit:e,ms:a}of o){let n=Math.floor(t/a);if((n>0||r.length>0)&&(r.push(`${n} ${e}${1!==n?"s":""}`),t%=a),3===r.length)break}return r.join(", ")}(new Date().getTime()-e);a(t?`${t} ago`:"Just now")};t();let r=setInterval(t,1e3);return()=>clearInterval(r)},[e]),t}function u(e){let[t,a]=(0,r.useState)("");return(0,r.useEffect)(()=>{if(!e)return void a("");let t=()=>{let t=new Date().getTime()-e,r=Math.floor(t/864e5),n=Math.floor(t/36e5),i=Math.floor(t/6e4);r>0?a(`${r} day${r>1?"s":""} ago`):n>0?a(`${n} hour${n>1?"s":""} ago`):i>0?a(`${i} minute${i>1?"s":""} ago`):a("Just now")};t();let r=setInterval(t,6e4);return()=>clearInterval(r)},[e]),t}e.s(["RelativeTimeCard",0,function(e){let{date:r,children:a,...l}=e,o=void 0===a?(0,t.jsx)(i,{date:r}):a;return r?(0,t.jsx)(n.ContextCard.Trigger,{content:(0,t.jsx)(s,{date:r}),...l,children:o}):o},"useShortTimeAgo",0,u,"useTimeAgo",0,c])},9358876,e=>{"use strict";e.s(["pluralize",0,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=1!==t?`${e}s`:e;return r&&(a=`${t} ${a}`),a}])},2988836,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)(`<path d="M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8Z" fill="currentColor" fill-opacity="0.08"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8 6C8.55228 6 9 5.55228 9 5C9 4.44772 8.55228 4 8 4C7.44771 4 7 4.44772 7 5C7 5.55228 7.44771 6 8 6ZM7 7H6.25V8.5H7H7.24999V10.5V11.25H8.74999V10.5V8C8.74999 7.44772 8.30227 7 7.74999 7H7Z" fill="currentColor"/>`);e.s(["InformationFillSmall",0,t])},7849855,9871375,e=>{"use strict";var t=e.i(9668517),r=e.i(5677444),a=e.i(8660982);let n={status:"creating-repo",cloneRepoStatus:"not-started",projectId:null,projectName:"",clonedRepo:{id:null,slug:null},repo:{namespace:"",name:"",namespaceId:"",ownerType:"",gitType:""},deploymentId:null,deploymentReset:!1,flowId:null,microfrontendsGroupId:null,isMonorepo:!1,projects:[]},i=a.createContext({...n,dispatch:()=>void 0});i.displayName="ProjectCloneContext";let s=()=>a.useContext(i);function l(e,t){switch(t.type){case"SET_STATUS":return{...e,status:t.status};case"SET_CLONE_REPO_STATUS":return{...e,cloneRepoStatus:t.cloneRepoStatus};case"SET_TARGET_NAMESPACE":return{...e,repo:{...e.repo,namespace:t.namespace,namespaceId:t.namespaceId,ownerType:t.ownerType}};case"SET_TARGET_REPO":return{...e,repo:{...e.repo,name:t.name}};case"SET_GIT_TYPE":return{...e,repo:{...e.repo,gitType:t.gitType}};case"SET_PROJECT_ID":return{...e,projectId:t.projectId};case"SET_PROJECT_NAME":return{...e,projectName:t.projectName};case"SET_CLONED_REPO":return{...e,clonedRepo:{id:t.data.id,slug:t.data.slug}};case"SET_DEPLOYMENT_ID":return{...e,deploymentId:t.deploymentId};case"RESET":return n;case"SET_DEPLOYMENT_RESET":return{...e,deploymentReset:t.deploymentReset};case"SET_FLOW_ID_ONCE":return{...e,flowId:e.flowId||t.flowId};case"SET_MICROFRONTENDS_GROUP_ID":return{...e,microfrontendsGroupId:t.microfrontendsGroupId};case"SET_MONOREPO_MODE":return{...e,isMonorepo:t.isMonorepo};case"SET_PROJECTS":return{...e,projects:t.projects.map(e=>({directory:e.rootDirectory,name:e.projectName,id:null,deploymentId:null,status:"pending"}))};case"UPDATE_PROJECT_STATUS":return{...e,projects:e.projects.map(e=>e.name===t.projectName?{...e,id:t.projectId,framework:t.framework,status:t.status,error:t.error}:e)};case"UPDATE_PROJECT_DEPLOYMENT_ID":return{...e,projects:e.projects.map(e=>e.name===t.projectName?{...e,deploymentId:t.deploymentId}:e)};default:return e}}e.s(["ProjectCloneContext",0,i,"useProjectCloneContext",0,s,"useProjectCloneReducer",0,function(){return a.useReducer(l,n)}],9871375),e.s(["useProjectAndTeamSlug",0,function(){let e=(0,r.useParams)(),a=(0,t.useTeamSlug)();return{projectSlug:e?.project??null,hasProject:!!e?.project,teamSlug:a??null}},"useProjectSlug",0,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.useParams)(),a=s();if(a.projectName&&a.projectId)return{projectSlug:a.projectName,hasProject:!0};let n=t?.project??e.projectSlug;return{projectSlug:n??null,hasProject:!!n}}],7849855)},3410109,e=>{"use strict";var t=e.i(8660982),r=e.i(7849855);e.s(["useProjectScopedResourceConnection",0,function(e){let{store:a}=e,{projectSlug:n}=(0,r.useProjectSlug)(),[i,s]=(0,t.useState)(()=>{if(a?.projectsMetadata&&a.projectsMetadata.length>0){let e=0;if(n){let t=a.projectsMetadata.findIndex(e=>e.name===n);-1!==t&&(e=t)}return a.projectsMetadata[e]}});return(0,t.useEffect)(()=>{if(a?.projectsMetadata&&a.projectsMetadata.length>0){let e=0;if(n){let t=a.projectsMetadata.findIndex(e=>e.name===n);-1!==t&&(e=t)}(0,t.startTransition)(()=>{s(a.projectsMetadata[e])})}},[a?.projectsMetadata,n]),{connection:i,setConnection:s,isConnectionProcessed:!0}}])},3182268,e=>{"use strict";e.i(7849855),e.i(3410109),e.s([])},6218005,e=>{e.v({button:"clearable-module__cMdOyq__button "+e.i(5472387).reset,cmdk:"clearable-module__cMdOyq__cmdk",command:"clearable-module__cMdOyq__command",disabled:"clearable-module__cMdOyq__disabled",k:"clearable-module__cMdOyq__k",kbd:"clearable-module__cMdOyq__kbd",suffixContainer:"clearable-module__cMdOyq__suffixContainer"})},8835183,6063244,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),a=e.i(2331152);let n=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M3.5 7C3.5 5.067 5.067 3.5 7 3.5C8.933 3.5 10.5 5.067 10.5 7C10.5 7.88461 10.1718 8.69256 9.63058 9.30876L9.30876 9.63058C8.69256 10.1718 7.88461 10.5 7 10.5C5.067 10.5 3.5 8.933 3.5 7ZM9.96544 11.0261C9.13578 11.6382 8.11014 12 7 12C4.23858 12 2 9.76142 2 7C2 4.23858 4.23858 2 7 2C9.76142 2 12 4.23858 12 7C12 8.11014 11.6382 9.13578 11.0261 9.96544L14.0303 12.9697L14.5607 13.5L13.5 14.5607L12.9697 14.0303L9.96544 11.0261Z" fill="currentColor"/>');e.s(["MagnifyingGlassSmall",0,n],6063244);var i=e.i(8735244),s=e.i(9722978),l=e.i(3500331),o=e.i(9508212),c=e.i(9689002),u=e.i(6218005);let d=(0,r.memo)((0,r.forwardRef)(function(e,a){let{value:n,scrollOnClear:i=!0,onChange:d,disabled:m,width:f,onClear:p,cmdk:g,...h}=e,S=(0,r.useRef)(null),x=a||null,[j,v]=(0,r.useState)(null),y=(0,r.useCallback)(e=>{e&&(S.current=e,x&&(x.current=e),"function"==typeof a&&a(e))},[x,a]);(0,r.useLayoutEffect)(()=>{S.current&&(0,r.startTransition)(()=>{v(S.current?.closest("[data-geist-input-wrapper]")?.getBoundingClientRect().width||null)})},[]);let b=(0,r.useCallback)(()=>{S.current&&!m&&(S.current.value&&(S.current.value="",d?.({target:{value:""}}),p?.()),S.current.focus({preventScroll:!i}))},[m,i,d,p]),w=!!(h.defaultValue?S.current?.value:n),C=w&&(0,t.jsx)("button",{className:(0,s.clsx)(u.default.button,{[String(u.default.disabled)]:m}),onClick:b,tabIndex:m?-1:void 0,type:"button",children:(0,t.jsx)(c.Kbd,{className:u.default.kbd,small:!0,style:{margin:0},children:"Esc"})}),R=(0,t.jsxs)(o.Stack,{"aria-label":w?"Press Esc to clear":"Press Cmd + K to open the Command Menu",className:u.default.cmdk,"data-animate":w,direction:"row",style:{gap:2},children:[(0,t.jsxs)(c.Kbd,{"aria-hidden":!0,className:u.default.command,small:!0,children:[(0,t.jsx)("span",{"data-key":"esc",children:"Esc"}),(0,t.jsx)("span",{"data-key":"cmd",children:"⌘"})]}),(0,t.jsx)(c.Kbd,{"aria-hidden":!0,className:u.default.k,small:!0,children:"K"})]}),k=g?R:C;return(0,t.jsx)(l.Input,{...h,"aria-label":h["aria-label"]||h.label||h.title,disabled:m,onChange:d,onKeyDown:e=>{"Escape"===e.key&&(e.preventDefault(),b())},ref:y,suffix:h.suffix?(0,t.jsxs)(o.Stack,{align:"center",className:u.default.suffixContainer,"data-suffix-group":"",direction:"row",children:[h.suffix,k]}):k,suffixContainer:!1,suffixStyling:!1,value:n,width:f||j||void 0})})),m=(0,r.forwardRef)(function(e,r){let{clearable:s=!0,loading:o=!1,prefix:c,...u}=e,m=s?d:l.Input,f=o?(0,t.jsx)(i.Spinner,{size:16}):void 0!==c?c:"small"===u.size?(0,t.jsx)(n,{size:16}):(0,t.jsx)(a.MagnifyingGlass,{size:16});return(0,t.jsx)(m,{...u,"aria-label":"Search",prefix:f,prefixStyling:!1,ref:r,typeName:"search"})});e.s(["SearchInput",0,m],8835183)},1637579,e=>{"use strict";let t={name:"San Francisco, USA",key:"sfo1",cardinal:"West",providerRegion:"us-west-1",worldRegion:"North America"},r={name:"Washington, D.C., USA",key:"iad1",cardinal:"East",providerRegion:"us-east-1",worldRegion:"North America"},a={name:"Portland, USA",cardinal:"West",key:"pdx1",providerRegion:"us-west-2",worldRegion:"North America"},n={name:"Cleveland, USA",cardinal:"East",key:"cle1",providerRegion:"us-east-2",worldRegion:"North America"},i={name:"Montréal, Canada",cardinal:"East",key:"yul1",providerRegion:"ca-central-1",worldRegion:"North America"},s={name:"São Paulo, Brazil",cardinal:"East",key:"gru1",providerRegion:"sa-east-1",worldRegion:"South America"},l={name:"Hong Kong",cardinal:"East",key:"hkg1",providerRegion:"ap-east-1",worldRegion:"Asia Pacific"},o={name:"Tokyo, Japan",cardinal:"Northeast",key:"hnd1",providerRegion:"ap-northeast-1",worldRegion:"Asia Pacific"},c={name:"Osaka, Japan",cardinal:"Northeast",key:"kix1",providerRegion:"ap-northeast-3",worldRegion:"Asia Pacific"},u={name:"Seoul, South Korea",cardinal:"Northeast",key:"icn1",providerRegion:"ap-northeast-2",worldRegion:"Asia Pacific"},d={name:"Singapore",cardinal:"Southeast",key:"sin1",providerRegion:"ap-southeast-1",worldRegion:"Asia Pacific"},m={name:"Mumbai, India",cardinal:"South",key:"bom1",providerRegion:"ap-south-1",worldRegion:"Asia Pacific"},f={name:"Sydney, Australia",cardinal:"Southeast",key:"syd1",providerRegion:"ap-southeast-2",worldRegion:"Asia Pacific"},p={name:"Paris, France",cardinal:"West",key:"cdg1",providerRegion:"eu-west-3",worldRegion:"Europe"},g={name:"Stockholm, Sweden",cardinal:"North",key:"arn1",providerRegion:"eu-north-1",worldRegion:"Europe"},h={name:"Brussels, Belgium",cardinal:"West",deprecated:!0,key:"bru1",providerRegion:"eu-central-1",worldRegion:"Europe"},S={name:"Dublin, Ireland",cardinal:"West",key:"dub1",providerRegion:"eu-west-1",worldRegion:"Europe"},x={name:"London, United Kingdom",cardinal:"West",key:"lhr1",providerRegion:"eu-west-2",worldRegion:"Europe"},j={name:"Frankfurt, Germany",cardinal:"West",key:"fra1",providerRegion:"eu-central-1",worldRegion:"Europe"},v={name:"Cape Town, South Africa",cardinal:"South",key:"cpt1",providerRegion:"af-south-1",worldRegion:"Africa"},y={name:"Dubai, United Arab Emirates",cardinal:"East",key:"dxb1",providerRegion:"me-central-1",worldRegion:"Middle East"},b={cdg1:p,arn1:g,bru1:h,dub1:S,dxb1:y,lhr1:x,iad1:r,sfo1:t,pdx1:a,cle1:n,gru1:s,hkg1:l,hnd1:o,icn1:u,sin1:d,bom1:m,syd1:f,fra1:j,cpt1:v,kix1:c,yul1:i};e.s(["FriendlyRegionNameMapping",0,{arn1:"Stockholm, Sweden",bom1:"Mumbai, India",cdg1:"Paris, France",cle1:"Cleveland, Ohio",cpt1:"Cape Town, South Africa",dub1:"Dublin, Ireland",dxb1:"Dubai, United Arab Emirates",fra1:"Frankfurt, Germany",gru1:"São Paulo, Brazil",hkg1:"Hong Kong",hnd1:"Tokyo, Japan",iad1:"Washington, DC., USA",icn1:"Seoul, South Korea",kix1:"Osaka, Japan",lhr1:"London, United Kingdom",pdx1:"Portland, USA",sfo1:"San Francisco, USA",sin1:"Singapore",syd1:"Sydney, Australia",yul1:"Montréal, Canada",dev1:"localhost"},"default",0,b,"groups",0,{Europe:[p,g,h,S,x,j],"North America":[r,t,a,n,i],"South America":[s],"Asia Pacific":[l,o,u,d,m,f,c],Africa:[v],"Middle East":[y]},"regions",0,b])},6985651,e=>{e.v({icon:"icon-module__yqmEeW__icon",wrapper:"icon-module__yqmEeW__wrapper"})},76079,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),a=e.i(6677848),n=e.i(4585051),i=e.i(6985651);let s=e=>{let{icon:r,left:s,right:l,size:o,bottom:c=-5,iconTitle:u,style:d,iconBackground:m,gitType:f,...p}=e;return void 0===l&&void 0===s&&(s=-3),(0,t.jsxs)("div",{className:i.default.wrapper,style:{...d,"--size":(0,a.px)(o)},children:[(0,t.jsx)(n.Avatar,{size:o,...p}),r?(0,t.jsx)("div",{"aria-hidden":!0,className:i.default.icon,"data-background":m?"true":"false","data-git-type":f,style:{left:s,bottom:c,right:l},title:u,children:r}):null]})};s.displayName="AvatarWithIcon";let l=(0,r.memo)(s);e.s(["AvatarWithIcon",0,l])},7712782,e=>{"use strict";var t=e.i(7432042);let r="Just now",a=" ago",n=(0,t.default)("1s"),i=(0,t.default)("1m"),s=(0,t.default)("1h"),l=(0,t.default)("1y"),o=(0,t.default)("1y")/12,c=(0,t.default)("1w"),u=(0,t.default)("1d"),d=new Intl.DateTimeFormat("en",{day:"numeric",month:"short"}),m=new Intl.DateTimeFormat("en",{dateStyle:"short"});e.s(["AGO_JUST_NOW_LABEL_DEFAULT",0,r,"AGO_JUST_NOW_THRESHOLD_DEFAULT",0,44e3,"AGO_SUFFIX_DEFAULT",0,a,"DAYS_LEFT_SUFFIX_DEFAULT",0," days left","ago",0,function(e){let{long:f,suffix:p=a,justNowThreshold:g=44e3,justNowLabel:h=r,includeSeconds:S,formatYearsWeeksMonths:x,alwaysRelative:j=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"";let v=Math.max(e,1e3);if(v<g)return h;if(S){let e=Math.round(v/n)*n,r=e%i,a=e-r,l=r>0&&r<i&&a<s?(0,t.default)(r):"",o=a>0?(0,t.default)(a):"";return`${o}${l&&o?" ":""}${l}${p}`}if(!j){if(v<3*u)return`${(0,t.default)(v)}${p}`;let r=new Date,a=new Date(r.valueOf()-e);return(a.getFullYear()===r.getFullYear()?d:m).format(a)}if(x){let e=Math.floor(v/l);if(e>0)return`${e}y${p}`;let t=Math.floor(v/o);if(t>0)return`${t}mo${p}`;let r=Math.floor(v/c);if(r>0)return`${r}w${p}`}return`${(0,t.default)(v,{long:f})}${p}`}])},9411809,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={callServer:function(){return i.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return s.findSourceMapURL}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let i=e.r(5415969),s=e.r(4649972),l=e.r(3440730)},7353307,e=>{"use strict";var t=e.i(8042625),r=e.i(4244280);function a(e,r){let{teamIdOrSlug:a,...n}=e;return(0,t.encode)({...n,teamId:a},r)}e.s(["encodeWithTeamQuery",0,a,"getResourceItemApiUrl",0,function(e){let{storeId:t,teamSlug:n,path:i,includeGuides:s,skipMetadata:l}=e;return`${r.API_STORE}/stores/${t}${i??""}${a({teamIdOrSlug:n,"include-guides":!!s||void 0,"skip-metadata":!!l||void 0})}`},"getResourceListApiUrl",0,function(e){let{teamSlug:t,protocolType:n,integrationIdOrSlug:i,integrationConfigurationId:s,resourceIds:l,skipMetadata:o=!0,unsafe_includePartnerFetch:c}=e,u=!!(c&&(i||s||l?.length));return`${r.API_STORE}/stores${a({teamIdOrSlug:t,"skip-metadata":o,"include-partner-fetch":u||void 0,integrationProductProtocol:n,integrationIdOrSlug:i,integrationConfigurationId:s,ids:l},{arrayFormat:"bracket"})}`}])},9584471,e=>{"use strict";var t=e.i(6565161),r=e.i(9668517),a=e.i(4244280),n=e.i(8042625),i=e.i(7952834),s=e.i(7353307);let l={};function o(e){let t=new URLSearchParams(e.split("?")[1]),r=t.get("integrationProductProtocol"),a=t.get("integrationIdOrSlug");return{protocol:r,integrationIdOrSlug:a,integrationConfigurationId:t.get("integrationConfigurationId"),resourceIds:t.getAll("ids[]")}}function c(e,t){let r=l[t??""];return r?Array.from(r).filter(t=>{let{protocol:r}=o(t);return!r||r===e}):[]}e.s(["addResourceListKeyToMutationList",0,function(e){let{teamSlug:t,integrationIdOrSlug:r,integrationConfigurationId:a,protocolType:n,resourceIds:i,skipMetadata:o}=e,c=l[t??""];c||(c=new Set);let u=(0,s.getResourceListApiUrl)({teamSlug:t,protocolType:n,integrationIdOrSlug:r,integrationConfigurationId:a,resourceIds:i,skipMetadata:o});return c.add(u),l[t??""]=c,u},"useMutateResourceCache",0,function(){let{mutate:e}=(0,t.useSWRConfig)(),u=(0,r.useTeamSlug)(),d=l[u??""],m=async t=>{let r;await Promise.all((!(r=l[u??""])?[]:Array.from(r).filter(e=>{var r;let{integrationIdOrSlug:a,integrationConfigurationId:n,protocol:i,resourceIds:s}=o(e);return(!i||("integration"!==t.type?"storage"===i:t.product.supportedProtocols.includes(i)))&&(!a||"integration"===t.type&&t.product.integration.id===a)&&(!n||"integration"===t.type&&t.product.integrationConfigurationId===n)&&(r=t.id,!s.length||s.includes(r))})).map(r=>e(r,void 0,{optimisticData:e=>e?{stores:[t,...e.stores]}:{stores:[t]}})))},f=async t=>{await Promise.all([e(`${a.API_EDGE_CONFIG}/${encodeURIComponent(t.id)}${(0,n.encode)({teamId:t.ownerId})}`,t,{revalidate:!1}),m(t)])};return{addResourceToList:m,removeResourceFromList:async t=>{d&&await Promise.all(Array.from(d).map(async r=>{await e(r,void 0,{optimisticData:e=>({stores:e?.stores.filter(e=>e.id!==t)??[]})})}))},mutateResourceListAndProject:async(t,r)=>{d&&await Promise.all([...c(r,u).map(async t=>{await e(t)}),(0,i.revalidateProject)(e,{id:t,name:t})])},addEdgeConfigToStoreList:f,mutateResource:async t=>{await e((0,s.getResourceItemApiUrl)({storeId:t,teamSlug:u??null}))},mutateByProtocol:async t=>{await Promise.all(c(t,u).map(async t=>{await e(t)}))},mutateResourceInList:async(t,r)=>{d&&await Promise.all(Array.from(d).map(async a=>{await e(a,void 0,{optimisticData:e=>e?{stores:e.stores.map(e=>e.id===t?r:e)}:{stores:[]}})}))}}}])},5779481,e=>{"use strict";var t=e.i(850302),r=e.i(8660982),a=e.i(277234),n=e.i(9668517),i=e.i(7353307);let s=new Map;e.s(["useResourceItem",0,function(e){let l=(0,n.useTeamSlug)()??null,o=(0,r.useRef)({retryCounter:1,latExecution:0,lastRetryInterval:0}),c=(0,t.default)(()=>e.resourceId?(0,i.getResourceItemApiUrl)({storeId:e.resourceId,teamSlug:l,includeGuides:e.includeGuides,skipMetadata:e.skipMetadata}):null,e=>(0,a.fetchAPI)(e,{throwOnHTTPError:!0}),{...e,refreshInterval:e.resourceId&&(s.get(e.resourceId)||0)>0?t=>{var r,a;let n,i=(r=o.current,a=t?.store.status,n=Date.now(),a&&("error"===a||"initializing"===a)?r.latExecution+r.lastRetryInterval>n?r.lastRetryInterval:(r.retryCounter+=1,r.latExecution=n,"initializing"===a)?(r.lastRetryInterval=1e3*Math.random()+3e3,r.lastRetryInterval):r.retryCounter>10?0:(r.lastRetryInterval=(Math.random()+.5)*r.retryCounter*3e3,r.lastRetryInterval):0);return 0===i&&e.resourceId&&s.delete(e.resourceId),i}:e.refreshInterval});return(0,r.useEffect)(()=>{let t=e.resourceId,r=e.revalidateStatus;if(t&&e.revalidateStatus){let e=s.get(t)||0;s.set(t,e+1)}return()=>{if(t&&r){let e=s.get(t)||0;e<=1?s.delete(t):s.set(t,e-1)}}},[e.resourceId,e.revalidateStatus]),c}])},6887680,6810699,e=>{"use strict";e.i(5779481);var t=e.i(7222834),r=e.i(8660982),a=e.i(277234),n=e.i(9668517),i=e.i(818351),s=e.i(7353307),l=e.i(9584471);e.s(["useResourceList",0,function(e){let t=function(e){let t=(0,n.useTeamSlug)(),{teamSlug:r,skipMetadata:a}=e;return e.skip?null:(0,l.addResourceListKeyToMutationList)({teamSlug:r??t??"",protocolType:"protocolType"in e?e.protocolType:void 0,resourceIds:"resourceIds"in e?e.resourceIds:void 0,integrationIdOrSlug:"integrationIdOrSlug"in e?e.integrationIdOrSlug:void 0,integrationConfigurationId:"integrationConfigurationId"in e?e.integrationConfigurationId:void 0,skipMetadata:a})}(e),a=(0,i.useIsomorphicSWR)(t,async(e,t)=>await t(e),e);return{isNameTaken:(0,r.useCallback)(e=>{let{name:t,storeType:r,productId:n,storeId:i}=e;return!!a.data?.stores.some(e=>e.name.toLowerCase()===t.toLowerCase()&&(!i||i!==e.id)&&e.type===r&&(!n||"product"in e&&e.product.id===n))},[a.data?.stores]),isStoreDeleted:e=>!!a.data&&!a.data.stores.find(t=>t.id===e),...a,data:function(e,t){if(e)return null!=t&&t.length>0?{stores:e.stores.filter(e=>e.projectsMetadata.length>0&&e.projectsMetadata.some(e=>e.name===t))}:e}(a.data,e.projectSlug),hasResources:!!a.data?.stores.length,isReady:!!a.data}},"useStoreListMetadataByType",0,function(e){let{items:i,skip:l}=e,o=function(e){let{ids:i,skip:l}=e,o=(0,n.useTeamSlug)(),c=(0,r.useMemo)(()=>i.reduce((e,t,r)=>{let a=Math.floor(r/50);return e[a]=e[a]??[],e[a].push(t),e},[]),[i]),u=(0,t.default)(e=>!i.length||l?null:(0,s.getResourceListApiUrl)({teamSlug:o??null,skipMetadata:!1,resourceIds:c[e]}),async e=>await (0,a.fetchAPI)(e,{throwOnHTTPError:!0}),{persistSize:!1,parallel:!0,revalidateAll:!1,revalidateFirstPage:!1,initialSize:c.length});return(0,r.useMemo)(()=>u.data?.reduce((e,t)=>{let{stores:r}=t;return[...e,...r]},[]),[u.data])}({skip:l,ids:(0,r.useMemo)(()=>i.reduce((e,t)=>{if("edge-config"===t.type)return e;let r=t.type,a=e.get(r)??[];return a.push(t.id),e.set(r,a),e},new Map),[i]).get("blob")??[]});return(0,r.useMemo)(()=>i.map(e=>{var t,r;let a;return"blob"===e.type?(t=o,r=e,(a=t?.find(e=>e.id===r.id))?{...a,name:r.name,projectsMetadata:r.projectsMetadata}:r):e}),[i,o])}],6810699),e.s([],6887680)},3973638,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M0.191137 2.06228L0.751694 2.56055L14.2517 14.5605L14.8122 15.0588L15.8088 13.9377L15.2482 13.4394L13.4399 11.832L16.3183 8.48938V7.51059L13.1149 3.79053C10.6442 0.921301 6.36413 0.684726 3.59378 3.07992L1.74824 1.43943L1.18768 0.941162L0.191137 2.06228ZM14.7602 7.99998L12.3187 10.8354L10.6699 9.36978C11.249 8.24171 11.0661 6.82347 10.1213 5.87865C9.08954 4.8469 7.49326 4.72376 6.32676 5.50923L4.72751 4.08767C6.88288 2.36327 10.1023 2.59076 11.9783 4.76931L14.7602 7.99998ZM7.52702 6.57613L9.46929 8.30259C9.56713 7.82531 9.43091 7.30959 9.06063 6.93931C8.64578 6.52446 8.0484 6.4034 7.52702 6.57613ZM-0.318359 7.51059L1.40386 5.5106L2.54051 6.48938L1.23971 7.99998L4.02168 11.2307C5.52853 12.9805 7.90301 13.4734 9.89972 12.7017L10.4405 14.1008C7.88008 15.0904 4.82516 14.4625 2.88503 12.2094L-0.318359 8.48938V7.51059Z" fill="currentColor"/>');e.s(["EyeOff",0,t])},3233146,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M12.2803 0.719661L11.75 0.189331L11.2197 0.719661L1.09835 10.841C0.395088 11.5442 0 12.4981 0 13.4926V15.25V16H0.75H2.50736C3.50192 16 4.45575 15.6049 5.15901 14.9016L15.2803 4.78032L15.8107 4.24999L15.2803 3.71966L12.2803 0.719661ZM9.81066 4.24999L11.75 2.31065L13.6893 4.24999L11.75 6.18933L9.81066 4.24999ZM8.75 5.31065L2.15901 11.9016C1.73705 12.3236 1.5 12.8959 1.5 13.4926V14.5H2.50736C3.1041 14.5 3.67639 14.2629 4.09835 13.841L10.6893 7.24999L8.75 5.31065Z" fill="currentColor"/>');e.s(["Pencil",0,t])},9114193,e=>{"use strict";var t=e.i(4205214),r=e.i(3306538),a=e.i(5468328);let n={301:"Moved Permanently",302:"Found",307:"Temporary Redirect",308:"Permanent Redirect"};e.s(["StatusCodeBadge",0,function(e){let{status:i}=e;return i&&n[i]?(0,t.jsx)(a.Tooltip,{text:n[i],children:(0,t.jsx)(r.Badge,{className:"cursor-default font-mono leading-none",variant:"gray-subtle",children:i})}):null}])},1510379,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={DISALLOWED_FORM_PROPS:function(){return i},checkFormActionUrl:function(){return l},createFormSubmitDestinationUrl:function(){return s},hasReactClientActionAttributes:function(){return m},hasUnsupportedSubmitterAttributes:function(){return d},isSupportedFormEncType:function(){return o},isSupportedFormMethod:function(){return c},isSupportedFormTarget:function(){return u}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let i=["method","encType","target"];function s(e,t){let r;try{let t=window.location.href;r=new URL(e,t)}catch(t){throw Object.defineProperty(Error(`Cannot parse form action "${e}" as a URL`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E152",enumerable:!1,configurable:!0})}for(let[e,a]of(r.searchParams.size&&(r.search=""),new FormData(t)))"string"!=typeof a&&(a=a.name),r.searchParams.append(e,a);return r}function l(e,t){let r,a="action"===t?"an `action`":"a `formAction`";try{r=new URL(e,"http://n")}catch(t){console.error(`<Form> received ${a} that cannot be parsed as a URL: "${e}".`);return}r.searchParams.size&&console.warn(`<Form> received ${a} that contains search params: "${e}". This is not supported, and they will be ignored. If you need to pass in additional search params, use an \`<input type="hidden" />\` instead.`)}let o=e=>"application/x-www-form-urlencoded"===e,c=e=>"get"===e,u=e=>"_self"===e;function d(e){let t=e.getAttribute("formEncType");if(null!==t&&!o(t))return!0;let r=e.getAttribute("formMethod");if(null!==r&&!c(r))return!0;let a=e.getAttribute("formTarget");return!(null===a||u(a))}function m(e){let t=e.getAttribute("formAction");return t&&/\s*javascript:/i.test(t)}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},6794342,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return d}});let a=e.r(4205214),n=e.r(8660982),i=e.r(612255),s=e.r(6214673),l=e.r(6910886),o=e.r(1510379),c=e.r(2942495),u=e.r(7289550);function d(e){let{replace:t,scroll:r,prefetch:d,ref:m,...f}=e,p=(0,n.useContext)(l.AppRouterContext),g=f.action,h="string"==typeof g;for(let e of o.DISALLOWED_FORM_PROPS)e in f&&delete f[e];let S=!!p&&h&&null===(!1===d||null===d?d:null),x=(0,n.useCallback)(e=>(S&&null!==p&&(0,c.mountFormInstance)(e,g,p,u.FetchStrategy.PPR),()=>{(0,c.unmountPrefetchableInstance)(e)}),[S,g,p]),j=(0,s.useMergedRef)(x,m??null);if(!h)return(0,a.jsx)("form",{...f,ref:j});let v=(0,i.addBasePath)(g);return(0,a.jsx)("form",{...f,ref:j,action:v,onSubmit:e=>(function(e,t){let{actionHref:r,onSubmit:a,replace:n,scroll:i,router:s}=t;if("function"==typeof a&&(a(e),e.defaultPrevented)||!s)return;let l=e.currentTarget,c=e.nativeEvent.submitter,u=r;if(c){if((0,o.hasUnsupportedSubmitterAttributes)(c)||(0,o.hasReactClientActionAttributes)(c))return;let e=c.getAttribute("formAction");null!==e&&(u=e)}let d=(0,o.createFormSubmitDestinationUrl)(u,l);e.preventDefault();let m=d.href;s[n?"replace":"push"](m,{scroll:i})})(e,{router:p,actionHref:v,replace:t,scroll:r,onSubmit:f.onSubmit})})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},4129547,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),a=e.i(8459493),n=e.i(5255926);let i=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M13 2.5H3V4.5H13V2.5ZM3 7.5V5.75H4.75L4.75 7.5H3ZM4.75 8.75H3V10.5H4.75V8.75ZM6 10.5L6 8.75H13V10.5H6ZM4.75 11.75H3V12.5C3 13.0523 3.44772 13.5 4 13.5H4.75V11.75ZM6 13.5V11.75H13V12.5C13 13.0523 12.5523 13.5 12 13.5H6ZM6 7.5V5.75H13V7.5H6ZM3 1H1.5V2.5V12.5C1.5 13.8807 2.61929 15 4 15H12C13.3807 15 14.5 13.8807 14.5 12.5V2.5V1H13H3Z" fill="currentColor"/>');var s=e.i(5677444);function l(e){let{isStaging:r=!1}=e,{teamSlug:n,project:l}=(0,s.useParams)()??{},o=new URLSearchParams;r&&o.set("returnTo","staging");let c=o.toString(),u=`/${n}/${l}/cdn/redirects/upload${c?`?${c}`:""}`;return(0,t.jsx)(a.MenuItem,{href:u,scroll:!1,children:(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,t.jsx)(i,{}),"CSV"]})})}e.s(["BulkRedirectsUploadMenuItem",0,function(e){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)(n.Skeleton,{className:"w-full h-10"}),children:(0,t.jsx)(l,{...e})})}],4129547)},5255427,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),a=e.i(8459493),n=e.i(5255926),i=e.i(3233146),s=e.i(5677444);function l(e){let{isStaging:r=!1}=e,{teamSlug:n,project:l}=(0,s.useParams)()??{},o=new URLSearchParams;r&&o.set("returnTo","staging");let c=o.toString(),u=`/${n}/${l}/cdn/redirects/new${c?`?${c}`:""}`;return(0,t.jsx)(a.MenuItem,{href:u,scroll:!1,children:(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,t.jsx)(i.Pencil,{}),"Manual"]})})}e.s(["BulkRedirectsCreateMenuItem",0,function(e){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)(n.Skeleton,{className:"w-full h-10"}),children:(0,t.jsx)(l,{...e})})}])},431692,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982);let a=(0,r.createContext)(null);e.s(["SelectedRedirectsProvider",0,function(e){let{children:n}=e,[i,s]=(0,r.useState)(new Set),l=(0,r.useCallback)(e=>{s(t=>{let r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},[]),o=(0,r.useCallback)((e,t)=>{s(r=>{let a=new Set(r);for(let r of e)t?a.add(r):a.delete(r);return a})},[]),c=(0,r.useCallback)(()=>s(new Set),[]),u=(0,r.useCallback)(e=>i.has(e),[i]),d=(0,r.useMemo)(()=>({selectedIds:i,toggleSelection:l,toggleAll:o,clearSelection:c,isSelected:u}),[i,l,o,c,u]);return(0,r.useEffect)(()=>(window.addEventListener("clear-selected-redirects",c),()=>window.removeEventListener("clear-selected-redirects",c)),[c]),(0,t.jsx)(a.Provider,{value:d,children:n})},"useSelectedRedirects",0,function(){let e=(0,r.useContext)(a);if(!e)throw Error("useSelectedRedirects must be used within SelectedRedirectsProvider");return e}])},3948350,e=>{"use strict";var t=e.i(4205214),r=e.i(431692),a=e.i(923772),n=e.i(5677444),i=e.i(57106);function s(){let{selectedIds:e}=(0,r.useSelectedRedirects)(),{teamSlug:s,project:l}=(0,n.useParams)()??{};if(0===e.size)return null;let o=new URLSearchParams;for(let t of e)o.append("source",t);let c=`/${s}/${l}/cdn/redirects/delete?${o.toString()}`;return(0,t.jsx)(i.ButtonLink,{href:c,scroll:!1,prefix:(0,t.jsx)(a.Trash,{}),type:"error",className:"w-full @md-page:w-[110px]",children:"Delete"})}var l=e.i(8893913);function o(){let{selectedIds:e}=(0,r.useSelectedRedirects)(),{teamSlug:a,project:s}=(0,n.useParams)()??{};if(0===e.size)return null;let o=new URLSearchParams;for(let t of e)o.append("source",t);o.set("returnTo","staging");let c=`/${a}/${s}/cdn/redirects/restore?${o.toString()}`;return(0,t.jsx)(i.ButtonLink,{href:c,scroll:!1,prefix:(0,t.jsx)(l.RotateCounterClockwise,{}),className:"w-full @md-page:w-[110px]",children:"Restore"})}e.s(["BulkRedirectsActionButtonWithSelection",0,function(e){let{isStaging:a,actionButton:n}=e,{selectedIds:i}=(0,r.useSelectedRedirects)();return i.size>0?a?(0,t.jsx)(o,{}):(0,t.jsx)(s,{}):(0,t.jsx)(t.Fragment,{children:n})}],3948350)},3777872,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982);let a=(0,r.createContext)(null);e.s(["BulkRedirectsContextProvider",0,function(e){let{children:n}=e,[i,s]=(0,r.useState)(!1),l=(0,r.useCallback)(e=>{s(e)},[]),o=(0,r.useMemo)(()=>({isPageTransitioning:i,setIsPageTransitioning:l}),[i,l]);return(0,t.jsx)(a.Provider,{value:o,children:n})},"useBulkRedirectsContext",0,function(){let e=(0,r.useContext)(a);if(!e)throw Error("useBulkRedirectsContext must be used within BulkRedirectsContextProvider");return e}])},6648845,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),a=e.i(8835183),n=e.i(5677444),i=e.i(277234),s=e.i(850302),l=e.i(3777872);function o(e){var o,u;let d,{searchParams:m,...f}=e,p=(0,r.useRef)(null),g=(0,r.useRef)(null),{q:h,environment:S}=(0,r.use)(m),[x,j]=(0,r.useState)(h??""),{data:v,isLoading:y}=(d=(0,n.useParams)(),o=d?.teamSlug,u=d?.project,(0,s.default)(()=>o&&u?`/api/v1/bulk-redirects/versions?teamId=${o}&projectId=${u}`:null,async e=>await (0,i.default)(e,{throwOnHTTPError:!0}))),b=v?.versions?.find(e=>e.isLive),{setIsPageTransitioning:w}=(0,l.useBulkRedirectsContext)();return(0,r.useEffect)(()=>{document.activeElement!==p.current&&j(h??"")},[h]),(0,r.useEffect)(()=>{let e=e=>{if(document.activeElement){let e=document.activeElement.tagName.toLowerCase();if("input"===e||"textarea"===e||"select"===e||"true"===document.activeElement.contentEditable)return}"/"===e.key&&p.current&&(e.preventDefault(),p.current.focus())};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[]),(0,t.jsx)(a.SearchInput,{clearable:!0,disabled:"staging"===S||!y&&!b,name:"q",value:x,onChange:e=>{let t=e.target.value;j(t),g.current&&clearTimeout(g.current);let r=e.currentTarget?.form;(t||r)&&(g.current=setTimeout(()=>{r&&(c(r),r.requestSubmit(),w(!0))},1e3))},onKeyDownCapture:e=>{if("Enter"===e.key){g.current&&clearTimeout(g.current),e.preventDefault();let t=e.currentTarget.form;t&&(c(t),t.requestSubmit(),w(!0))}},placeholder:"Search redirects…",ref:p,width:"auto",...f})}function c(e){if(!e)return;let t=e.querySelector('input[name="page"]');t?.parentNode&&(t.value="0")}e.s(["BulkRedirectsSearchInput",0,function(e){let{searchParams:n,...i}=e;return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)(a.SearchInput,{disabled:!0,placeholder:"Search redirects…",...i}),children:(0,t.jsx)(o,{searchParams:n,...i})})}],6648845)},2244130,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),a=e.i(8923565),n=e.i(431692),i=e.i(3777872);function s(e){let{searchParams:s,versionsPromise:l}=e,{versions:o}=(0,r.use)(l),{environment:c}=(0,r.use)(s),[u,d]=(0,r.useState)("staging"===c?"staging":"production"),m="staging"===u;(0,r.useEffect)(()=>{d("staging"===c?"staging":"production")},[c,d]);let f=o.some(e=>e.isStaging),{clearSelection:p}=(0,n.useSelectedRedirects)(),{setIsPageTransitioning:g}=(0,i.useBulkRedirectsContext)(),h=e=>{p(),d(e.target.value),g(!0),e.target?.form?.requestSubmit()};return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)(a.Switch,{name:"environment",children:[(0,t.jsx)(a.Switch.Control,{checked:!m,label:"Production",onChange:h,value:"production"}),(0,t.jsx)(a.Switch.Control,{checked:m,label:"Staging",onChange:h,value:"staging"})]}),f&&(0,t.jsx)("span",{className:"absolute -right-1 -top-1 h-3 w-3 rounded-full bg-blue-700"})]})}e.s(["BulkRedirectsSwitch",0,function(e){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsxs)(a.Switch,{children:[(0,t.jsx)(a.Switch.Control,{disabled:!0,label:"Production",value:"production"}),(0,t.jsx)(a.Switch.Control,{disabled:!0,label:"Staging",value:"staging"})]}),children:(0,t.jsx)(s,{...e})})}])},8447985,e=>{"use strict";var t=e.i(4205214),r=e.i(4991687),a=e.i(6694387),n=e.i(8674454),i=e.i(3306538),s=e.i(8876434),l=e.i(2936702),o=e.i(3646124),c=e.i(8660982),u=e.i(6255129),d=e.i(9114193),m=e.i(9031477),f=e.i(8459493),p=e.i(5255926),g=e.i(5756088),h=e.i(3233146),S=e.i(5677444),x=e.i(1717203),j=e.i(7557283);function v(e){let{redirect:r,isStaging:a=!1}=e,{can:n}=(0,x.default)(),i=n(j.Action.Update,j.Resource.Project),{teamSlug:s,project:l}=(0,S.useParams)()??{},o=new URLSearchParams;o.set("source",r.source),o.set("statusCode",String(r.statusCode)),o.set("destination",r.destination),o.set("caseSensitive",String(r.caseSensitive)),o.set("query",String(r.query)),a&&o.set("returnTo","staging");let c=`/${s}/${l}/cdn/redirects/edit?${o.toString()}`;return(0,t.jsx)(f.MenuItem,{disabled:!i,href:c,scroll:!1,children:(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[i?(0,t.jsx)(h.Pencil,{}):(0,t.jsx)(g.LockClosed,{}),"Edit"]})})}function y(e){return(0,t.jsx)(c.Suspense,{fallback:(0,t.jsx)(p.Skeleton,{className:"w-full h-10"}),children:(0,t.jsx)(v,{...e})})}var b=e.i(923772);function w(e){let{source:r,isStaging:a=!1}=e,{can:n}=(0,x.default)(),i=n(j.Action.Delete,j.Resource.Project),{teamSlug:s,project:l}=(0,S.useParams)()??{},o=new URLSearchParams;o.set("source",r),o.set("bust",Date.now().toString()),a&&o.set("returnTo","staging");let c=`/${s}/${l}/cdn/redirects/delete?${o.toString()}`;return(0,t.jsx)(f.MenuItem,{disabled:!i,href:c,scroll:!1,prefix:i?(0,t.jsx)(b.Trash,{}):(0,t.jsx)(g.LockClosed,{}),type:"error",children:"Delete"})}function C(e){return(0,t.jsx)(c.Suspense,{fallback:(0,t.jsx)(p.Skeleton,{className:"w-full h-10"}),children:(0,t.jsx)(w,{...e})})}var R=e.i(8893913);function k(e){let{redirect:r,isStaging:a=!1}=e,{can:n}=(0,x.default)(),i=n(j.Action.Update,j.Resource.Project),{teamSlug:s,project:l}=(0,S.useParams)()??{};if(!a)return null;let o=new URLSearchParams;o.set("source",r.source),o.set("returnTo","staging");let c=`/${s}/${l}/cdn/redirects/restore?${o.toString()}`;return(0,t.jsx)(f.MenuItem,{disabled:!i,href:c,scroll:!1,prefix:i?(0,t.jsx)(R.RotateCounterClockwise,{}):(0,t.jsx)(g.LockClosed,{}),children:"Restore"})}function _(e){return(0,t.jsx)(c.Suspense,{fallback:(0,t.jsx)(p.Skeleton,{className:"w-full h-10"}),children:(0,t.jsx)(k,{...e})})}var P=e.i(109803);function E(e){let{redirect:r,version:a,isStaging:n}=e;return!n||!a?.alias||r.source.startsWith("http://")||r.source.startsWith("https://")||r.source.startsWith("//")?null:(0,t.jsx)(f.MenuItem,{onClick:()=>{let e=`https://${a.alias}${r.source}`;window.open(e,"_blank","noopener,noreferrer")},children:(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,t.jsx)(P.External,{}),"Test"]})})}function I(e){return(0,t.jsx)(c.Suspense,{fallback:(0,t.jsx)(p.Skeleton,{className:"w-full h-10"}),children:(0,t.jsx)(E,{...e})})}var T=e.i(3175682),M=e.i(8161149),A=e.i(5468328),N=e.i(1438473),L=e.i(57106),O=e.i(5255427),D=e.i(4129547),$=e.i(2504781),U=e.i(455575);e.i(6483798);var F=e.i(8287059);function B(){let e=(0,F.useOpenUpgradeModal)(),r=(0,U.useToasts)(),{can:a}=(0,x.default)();return a(j.Action.Update,j.Resource.BillingPlan)?(0,t.jsx)($.Button,{onClick:()=>{e({source:"bulk-redirects",onConversionError:()=>r.error("Upgrade failed"),onConversionSuccess:()=>{r.success("Upgraded to Pro successfully.")}})},children:"Upgrade"}):(0,t.jsx)(A.Tooltip,{desktopOnly:!0,text:"You need additional permissions to upgrade your team",children:(0,t.jsx)($.Button,{disabled:!0,children:"Upgrade"})})}var H=e.i(3882007);function z(e){let{hasAnyBulkRedirects:i,teamPromise:s,isStaging:l=!1}=e,o=(0,c.use)(s),{can:u}=(0,x.default)(),d=u(j.Action.Update,j.Resource.Project),m=!(0,H.isBulkRedirectsAvailable)(o),f=(0,t.jsx)(A.Tooltip,{disableTriggers:d,text:"Additional permissions are needed to create redirects",children:(0,t.jsxs)(r.MenuContainer,{children:[(0,t.jsx)(a.MenuButton,{"aria-label":"Create Redirect",disabled:!d,type:"secondary",typeName:"button",children:"Create redirects"}),(0,t.jsxs)(n.Menu,{width:200,children:[(0,t.jsx)(O.BulkRedirectsCreateMenuItem,{isStaging:l}),(0,t.jsx)(D.BulkRedirectsUploadMenuItem,{isStaging:l})]})]})});return m?(0,t.jsxs)(M.EmptyState.Root,{icon:(0,t.jsx)(M.EmptyState.Icon,{icon:(0,t.jsx)(N.ArrowRight,{size:16}),size:32}),title:"Unlock project-level redirects",description:"Upgrade your plan to Pro to manage redirects at the project level.",children:[(0,t.jsx)(B,{}),(0,t.jsx)(L.Link,{external:!0,href:"/docs/redirects/bulk-redirects",variant:"secondary",children:"Learn more"})]}):l&&!i?(0,t.jsx)(M.EmptyState.Root,{description:"Pending redirects that have been added but not published to production yet will appear here.",icon:(0,t.jsx)(M.EmptyState.Icon,{icon:(0,t.jsx)(N.ArrowRight,{size:16}),size:24}),title:"No staging redirects",secondary:!0,className:"bg-background-100",children:f}):i?(0,t.jsx)(M.EmptyState.Root,{description:"No redirects found for your search query.",icon:(0,t.jsx)(M.EmptyState.Icon,{icon:(0,t.jsx)(N.ArrowRight,{size:16}),size:24}),title:"No redirects",children:f}):(0,t.jsx)(M.EmptyState.Root,{description:"Create redirects in your project to make sure every path can always be accessed.",icon:(0,t.jsx)(M.EmptyState.Icon,{icon:(0,t.jsx)(N.ArrowRight,{size:16}),size:24}),title:"No redirects",secondary:!0,className:"bg-background-100",children:f})}function V(e){let{hasAnyBulkRedirects:r,teamPromise:a,isStaging:n=!1}=e;return(0,t.jsx)(c.Suspense,{fallback:(0,t.jsx)(M.EmptyState.Root,{description:(0,t.jsx)(p.Skeleton,{width:250,height:20}),icon:(0,t.jsx)(M.EmptyState.Icon,{icon:(0,t.jsx)(N.ArrowRight,{size:16}),size:24}),title:(0,t.jsx)(p.Skeleton,{width:75,height:20}),secondary:!0,className:"bg-background-100",children:(0,t.jsx)(p.Skeleton,{width:80,height:40})}),children:(0,t.jsx)(z,{hasAnyBulkRedirects:r,teamPromise:a,isStaging:n})})}var W=e.i(431692),Z=e.i(3777872),q=e.i(3869281);function G(e){let{rows:r}=e,{selectedIds:a,toggleAll:n}=(0,W.useSelectedRedirects)(),i=r.map(e=>e.original.source),s=i.length>0&&i.every(e=>a.has(e)),l=i.some(e=>a.has(e));return(0,t.jsx)("div",{className:"flex w-full items-center justify-center",children:(0,t.jsx)(q.Checkbox,{checked:s,indeterminate:l&&!s,disabled:0===i.length,onChange:e=>n(i,e.target.checked)})})}function K(e){let{row:r}=e,{isSelected:a,toggleSelection:n}=(0,W.useSelectedRedirects)();return(0,t.jsx)("div",{className:"flex items-center justify-center",onClick:e=>e.stopPropagation(),children:(0,t.jsx)(q.Checkbox,{"aria-label":"Select redirect",checked:a(r.original.source),onChange:()=>n(r.original.source)})})}function J(e){let{searchParamsPromise:r,bulkRedirectsPromise:a,teamPromise:n,isStaging:i=!1}=e,s=(0,c.use)(r),{redirects:o,pagination:d,version:f}=(0,c.use)(a),p=o.length>0,{clearSelection:g}=(0,W.useSelectedRedirects)(),{isPageTransitioning:h,setIsPageTransitioning:S}=(0,Z.useBulkRedirectsContext)();(0,c.useEffect)(()=>{h&&S(!1)},[o]);let[x,j]=(0,c.useTransition)(),[v,y]=(0,c.useState)(s.page?Number(Array.isArray(s.page)?s.page[0]:s.page):void 0),[b,w]=(0,c.useState)(s.pageSize?Number(Array.isArray(s.pageSize)?s.pageSize[0]:s.pageSize):void 0),C=!i&&f?.redirectCount&&f.redirectCount<=5e4,[R,k]=(0,c.useState)(s.sortBy),[_,P]=(0,c.useState)("1"===s.sortDesc?"desc":"asc"),E=(0,c.useRef)(null),I=(0,c.useRef)(null),T=(0,c.useRef)(v),M=(0,c.useRef)(b),A=(0,c.useRef)(R),N=(0,c.useRef)(_),L=(0,c.useCallback)(e=>{C&&(g(),e?(k(e.id),P(e.desc?"desc":"asc")):(k(void 0),P(void 0)))},[g,C]);(0,c.useEffect)(()=>{let e=T.current!==v,t=M.current!==b,r=A.current!==R,a=N.current!==_;T.current=v,M.current=b,A.current=R,N.current=_,(e||t||r||a)&&(g(),j(()=>{let e=document.querySelector("form#bulk-redirects-form");e?.requestSubmit()}))},[v,b,R,_,g]);let O=ee({isStaging:i,version:f}),D=(0,c.useMemo)(()=>R?[{id:R,desc:"desc"===_}]:[{id:"source"}],[R,_]),$=(0,c.useMemo)(()=>o.map(e=>({...e,statusCode:e.statusCode??"308"}))??[],[o]);if(0===$.length)return(0,t.jsx)(V,{hasAnyBulkRedirects:p,teamPromise:n,isStaging:i});let U=C?[u.useSortBy,u.usePagination]:[u.usePagination];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.ShareDomCopy,{title:"Redirects",children:(0,t.jsx)(l.SonarTable,{columns:O,customPagination:{pageCount:d?.numPages??50,onNextPage:()=>{y(e=>Math.max(0,(e??0)+1))},onPrevPage:()=>{y(e=>Math.max(0,(e??1)-1))},onSetPageSize:e=>{w(e),y(0)}},defaultPageIndex:v,defaultPageSize:b??20,defaultSort:C?D:void 0,data:$,isLoading:x||h,manualSortBy:!0,onSortChange:L,plugins:U,showSearch:!1},"bulk-redirects-table")}),v&&v>0&&d?.numPages?(0,t.jsx)("input",{type:"hidden",name:"pageCount",value:d.numPages}):null,v&&v>0?(0,t.jsx)("input",{type:"hidden",name:"page",value:v,ref:E}):null,b?(0,t.jsx)("input",{type:"hidden",name:"pageSize",value:b,ref:I}):null,C&&R?(0,t.jsx)("input",{type:"hidden",name:"sortBy",value:R}):null,C&&"desc"===_?(0,t.jsx)("input",{type:"hidden",name:"sortDesc",value:"desc"===_?"1":"0"}):null]})}function Y(e){let{cell:r}=e;return(0,t.jsx)(d.StatusCodeBadge,{status:r.value})}function X(e){let{row:r,cell:a}=e,n=r.original.action;return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"truncate",children:a.value}),"+"===n?(0,t.jsx)(i.Badge,{variant:"green-subtle",className:"shrink-0",children:"Added"}):"-"===n?(0,t.jsx)(i.Badge,{variant:"red-subtle",className:"shrink-0",children:"Deleted"}):"~"===n?(0,t.jsx)(i.Badge,{variant:"amber-subtle",className:"shrink-0",children:"Edited"}):null]})}function Q(){return(0,t.jsx)(t.Fragment,{})}function ee(e){let{isStaging:i=!1,version:l}=e,u=(0,T.useCopyAction)(),d=(0,c.useCallback)(()=>l?.alias?{icon:(0,t.jsxs)("div",{className:"flex items-center justify-center text-blue-900",children:["Test ",(0,t.jsx)(P.External,{size:12})]}),label:"Test redirect",onClick:e=>{let t=e.value,r=`https://${l.alias}${t}`;window.open(r,"_blank","noopener,noreferrer")}}:null,[l?.alias]);return(0,c.useMemo)(()=>{let e=i?d():void 0,c=[u()];return e&&c.push(e),[{id:"selection",Header:G,Cell:K,disableSortBy:!0,disableGlobalFilter:!0,columnClassName:"w-[50px] min-w-[50px] max-w-[50px]",cellActions:[]},{Header:"Source",accessor:"source",disableGlobalFilter:!1,sortDescFirst:!1,Cell:X,cellActions:c},{Header:"Code",accessor:"statusCode",disableGlobalFilter:!1,sortDescFirst:!1,Cell:Y},{Header:"Destination",accessor:"destination",disableGlobalFilter:!1,sortDescFirst:!1,Cell:o.DefaultCell,cellActions:[u()]},{Header:Q,id:"moreActions",Cell:function(e){let{row:o}=e,c=o.original.action;return(0,t.jsx)("div",{className:"flex items-center justify-end",children:(0,t.jsxs)(r.MenuContainer,{children:[(0,t.jsx)(a.MenuButton,{"aria-label":"More Actions",className:"shrink-0",shape:"square",svgOnly:!0,typeName:"button",variant:"unstyled",children:(0,t.jsx)(s.MoreHorizontal,{})}),(0,t.jsx)(n.Menu,{children:i?(0,t.jsxs)(t.Fragment,{children:["-"===c?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y,{redirect:o.original,isStaging:i}),(0,t.jsx)(I,{redirect:o.original,version:l,isStaging:i})]}),(0,t.jsx)(_,{redirect:o.original,isStaging:i})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y,{redirect:o.original,isStaging:i}),(0,t.jsx)(C,{source:o.original.source,isStaging:i})]})})]})})},columnClassName:"justify-end text-end",disableSortBy:!0}]},[u,d,i,l])}e.s(["BulkRedirectsTable",0,function(e){let{searchParamsPromise:r,bulkRedirectsPromise:a,teamPromise:n}=e,i=(0,c.use)(r),s="staging"===i.environment,o=ee({isStaging:s});return(0,t.jsx)(c.Suspense,{fallback:(0,t.jsx)(l.SonarTable,{columns:o,customPagination:{...i.pageCount?{pageCount:Number(i.pageCount)}:{},onNextPage:()=>{},onPrevPage:()=>{},onSetPageSize:()=>{}},defaultPageIndex:i.page?Number(i.page):1,defaultPageSize:i.pageSize?Number(i.pageSize):20,defaultSort:[{id:"source"}],data:[],isLoading:!0,showSearch:!1,manualSortBy:!0,plugins:[u.useSortBy,u.usePagination]},"bulk-redirects-table"),children:(0,t.jsx)(J,{bulkRedirectsPromise:a,searchParamsPromise:r,teamPromise:n,isStaging:s})},`bulk-redirects-table-${JSON.stringify(i)}-${s?"staging":"production"}`)}],8447985)}]);

//# debugId=e39937c1-ffb2-dbee-5724-4a141af169cc
//# sourceMappingURL=6f72fdb78b08655c.js.map