;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="9009140b-8393-5ee6-f137-5741833eae00")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,8385183,e=>{"use strict";var t=e.i(5297527),s=e.i(4244280);let o=`${s.API_INTEGRATION_CONTROLLER}/categories`;function r(e){let s="tag_databases"===e.id?"storage":t.INTEGRATION_PROTOCOL_TYPES.find(t=>e.id.replace("tag_","")===t)??null;return{...e,protocol:s}}var i=e.i(277234),n=e.i(6269556),c=e.i(818351);e.s(["useIntegrationCategories",0,function(){let{isPreview:e}=(0,n.useMarketplaceNavigation)();return{...(0,c.useIsomorphicSWR)(e?`${o}?status=all`:o,async e=>(await (0,i.fetchAPI)(e)).map(r),{revalidateOnFocus:!1,revalidateOnReconnect:!1})}}],8385183)},5313122,e=>{"use strict";var t=e.i(4205214),s=e.i(8660982),o=e.i(8674454),r=e.i(6694387),i=e.i(4991687),n=e.i(8459493),c=e.i(57106),l=e.i(1918911),a=e.i(9722978),u=e.i(4004502),d=e.i(5927860),p=e.i(9668517),x=e.i(6048771),m=e.i(7849855),h=e.i(1919132),g=e.i(8020240);function y(e){return e===d.EnvTarget.Production?"Production":e===d.EnvTarget.Preview?"Preview":"Development"}function j(e){let{environments:s,className:o}=e,r=s?.length===3?"All Environments":s?.map(y).join(", ");return(0,t.jsx)("p",{className:`text-copy-13-mono text-gray-900 truncate ${(0,a.clsx)("whitespace-nowrap rounded bg-gray-200 px-1 text-sm",o)}`,title:r,children:r})}function f(e){let{projectConnections:s,teamOrUserSlug:a}=e;return(0,t.jsxs)(i.MenuContainer,{children:[(0,t.jsx)(r.MenuButton,{className:"geist-show-on-mobile",size:"small",type:"secondary",children:"Show Connections"}),(0,t.jsx)(r.MenuButton,{className:"geist-hide-on-mobile mx-0",size:"small",type:"tertiary",children:(0,t.jsx)(l.ChevronUpDown,{color:"gray-700"})}),(0,t.jsx)(o.Menu,{className:"min-h-[10dvh] max-w-full @md-page:min-h-0 @md-page:max-w-[480px]",width:"auto",children:s.map(e=>(0,t.jsx)(n.MenuItem,{Component:c.Link,"data-testid":(0,u.tid)("project-store","item"),href:`/${a?`${a}/`:""}${encodeURIComponent(e.name)}`,isLink:!0,children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 flex-1 min-w-20 max-w-full",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-1 flex-initial",children:[(0,t.jsx)(x.ProjectLogo,{deploymentId:e.latestDeployment,framework:e.framework,project:{id:e.projectId},size:18}),(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-gray-1000 truncate min-w-20 max-w-[90%]",title:e.name,children:e.name})]}),(0,h.isLogDrainInConnection)(e)?(0,t.jsx)(g.LogDrainConnection,{connection:e}):(0,t.jsx)(j,{environments:e.environments})]})},e.id))})]})}e.s(["ProjectConnectionsAssigned",0,function(e){let{projectConnections:o}=e,r=(0,p.useTeamSlug)(),{projectSlug:i,hasProject:n}=(0,m.useProjectSlug)(),{currentProjectConnection:l}=(0,s.useMemo)(()=>({currentProjectConnection:o.find(e=>e.name===i)}),[i,o]),d=o[0];return(0,t.jsxs)(t.Fragment,{children:[n&&l?(0,t.jsx)(j,{className:"geist-hide-on-mobile",environments:l.environments}):(0,t.jsx)(c.ButtonLink,{className:(0,a.clsx)("geist-hide-on-mobile m-0 -mx-1 h-6 min-w-20 bg-background-200 !px-1 text-sm","hover:!bg-gray-200 [&>svg]:-ml-1"),"data-testid":(0,u.tid)("project-store","item"),href:`/${r?`${r}/`:""}${encodeURIComponent(d.name)}`,size:"small",type:"tertiary",children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-1 flex-initial p-px",children:[(0,t.jsx)(x.ProjectLogo,{deploymentId:d.latestDeployment,framework:d.framework,project:{id:d.projectId},size:18}),(0,t.jsx)("p",{className:"text-[13px] leading-[18px] font-medium text-gray-1000 truncate",children:d.name})]})}),(0,t.jsx)(f,{projectConnections:o,teamOrUserSlug:r})]})}])},4677153,e=>{"use strict";var t=e.i(4205214),s=e.i(2504781),o=e.i(2713868),r=e.i(5468328),i=e.i(7897830),n=e.i(1414602),c=e.i(7849855),l=e.i(1919132);e.s(["ConnectProjectButton",0,function(e){let{resource:a,size:u,type:d}=e,{permissions:p,isLoading:x}=(0,n.useResourcePermissions)(),{openConnectProject:m,openConnectToAnotherProject:h}=(0,i.useResourceModals)({onSuccess:null}),{hasProject:g,projectSlug:y}=(0,c.useProjectSlug)(),j=a?.status==="uninstalled",f=!a||x||!p.update||a.capabilities?.projects===!1||j;return g&&y?f?(0,t.jsx)(r.Tooltip,{disableTriggers:p.update&&!j,text:j?"This resource is uninstalled and cannot be connected to projects":"You need additional permission to connect a Project.",children:(0,t.jsx)(s.Button,{disabled:!0,size:u,type:d,children:l.CONNECT_PROJECT_LABEL})}):(0,t.jsx)(o.SplitButton,{buttonProps:{type:d??"secondary",size:u,onClick:()=>{a&&m(a)}},menuButtonLabel:"Connect project options",menuProps:{width:240},menuItems:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.SplitButtonMenuItem,{title:"Connect to this project",menuItemProps:{onClick:()=>{a&&m(a)}}}),(0,t.jsx)(o.SplitButtonMenuItem,{title:"Connect to another project",menuItemProps:{onClick:()=>{a&&h(a)}}})]}),children:l.CONNECT_PROJECT_LABEL}):(0,t.jsx)(r.Tooltip,{disableTriggers:p.update&&!j,text:j?"This resource is uninstalled and cannot be connected to projects":"You need additional permission to connect a Project.",children:(0,t.jsx)(s.Button,{disabled:f,onClick:()=>{a&&m(a)},size:u,type:d,children:l.CONNECT_PROJECT_LABEL})})}])},9203481,2375948,e=>{"use strict";var t=e.i(4205214),s=e.i(5255926),o=e.i(5468328),r=e.i(9722978),i=e.i(57106),n=e.i(7218483),c=e.i(4004502),l=e.i(5677444),a=e.i(5819220),u=e.i(979715),d=e.i(6401841),p=e.i(762945),x=e.i(9429910),m=e.i(1414602),h=e.i(648779),g=e.i(7897830),y=e.i(5313122),j=e.i(4677153),f=e.i(7114720);e.i(3092247),e.s([],2375948);var C=e.i(7917902),R=e.i(7849855);function b(e){let{Footer:s,Info:o,createdAt:l,link:u,id:d,hasError:p,title:x,description:m,Icon:h,Badge:g}=e,y=(0,n.useAgo)(l,{formatYearsWeeksMonths:!0});return(0,t.jsxs)("div",{className:"min-w-0","data-resource-item":d,children:[(0,t.jsx)(i.Link,{className:"group block","data-testid":(0,c.tid)("store-entity",d),href:u,children:(0,t.jsxs)(a.Entity,{className:(0,r.clsx)("rounded-b-none rounded-t bg-background-100 transition-[background] duration-100 ease-in-out group-hover:bg-background-200",{"border-red-500":p}),gapSize:"small",thumbnail:(0,t.jsx)("div",{className:"mr-2 text-foreground",children:h}),children:[(0,t.jsx)(T,{description:(0,t.jsx)("span",{children:m}),title:(0,t.jsxs)("span",{className:"no-underline",children:[x,g]})}),o,l?(0,t.jsx)(T,{className:"ml-auto",description:(0,t.jsxs)("span",{title:`Created at ${new Date(l).toISOString()}`,children:["Created ",y]}),label:!0,right:!0,width:"auto"}):null]})}),s]})}function v(e){let{children:s,notification:o,className:i}=e;return(0,t.jsx)("div",{className:(0,r.clsx)("flex flex-row items-center gap-1.5 flex-initial h-14 rounded-b border border-t-0 border-solid px-4 py-3",{"border-gray-200 bg-background-200":o?.level!=="error","border-red-500 bg-red-100":o?.level==="error"},i),children:o?(0,t.jsx)(w,{notification:o}):s})}function w(e){let{notification:s}=e;return(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-2 @lg-page:gap-3 flex-initial",children:[(0,t.jsx)("p",{className:(0,r.clsx)("text-[13px] leading-[18px] font-medium","error"===s.level?"text-red-700":"warn"===s.level?"text-amber-900":"text-gray-900"),children:s.title}),(0,t.jsxs)(o.Tooltip,{text:s.message,children:["error"===s.level?(0,t.jsx)(d.Stop,{color:"red-700",size:20}):null,"warn"===s.level?(0,t.jsx)(p.Warning,{color:"amber-900",size:20}):null,"info"===s.level?(0,t.jsx)(x.InformationFill,{size:20}):null]})]})}function T(e){let{className:s,...o}=e;return(0,t.jsx)(u.EntityField,{className:(0,r.clsx)("@max-md-page:mt-0 @max-md-page:border-t-0",s),...o})}e.s(["ListItem",0,b,"ListItemFooter",0,v,"ResourceEntityItem",0,T,"ResourceItem",0,function(e){let{Info:s,item:o,Badge:i,resourceLinkFunc:n,showCreatedAt:c=!0,alwaysShowConnectButton:a=!1}=e,u=(0,l.useRouter)(),{openConnectProject:d}=(0,g.useResourceModals)({onSuccess:e=>{u.push(n(e))}}),{permissions:p}=(0,m.useResourcePermissions)(),{team:x}=(0,C.useAccount)(),{projectSlug:w}=(0,R.useProjectAndTeamSlug)(),T=o.billingPlan?.name,P=a||0===o.projectsMetadata.length;return(0,t.jsx)(b,{Badge:i,Footer:(0,t.jsx)(v,{className:(0,r.clsx)(P?"justify-end":"justify-start"),notification:o.notification,children:P?(0,t.jsxs)("div",{className:(0,r.clsx)("flex gap-2"),children:[(0,t.jsx)(j.ConnectProjectButton,{size:"small",resource:o,type:"secondary"}),x&&(0,t.jsx)(f.MarketplaceAddDrainButton,{resource:o,teamSlug:x.slug,projectSlug:w??void 0,size:"small",type:"secondary"})]}):(0,t.jsx)(y.ProjectConnectionsAssigned,{projectConnections:o.projectsMetadata})}),Icon:(0,t.jsx)(h.ProductIcon,{icon:o.product.iconUrl,size:"large"}),Info:s?(0,t.jsx)(s,{item:o}):void 0,createdAt:c?o.createdAt:void 0,description:T?`${o.product.name} - ${T}`:o.product.name,hasError:o.notification?.level==="error",id:o.id,link:n(o),title:o.name})},"ResourceItemPlaceholder",0,function(e){let{showRightSkeleton:o=!0}=e;return(0,t.jsxs)("div",{children:[(0,t.jsxs)(a.Entity,{className:"rounded-b-none rounded-t",gapSize:"small",thumbnail:(0,t.jsx)("div",{className:"flex flex-col items-center justify-start flex-initial mr-2",children:(0,t.jsx)(s.Skeleton,{height:36,rounded:!0,width:36})}),children:[(0,t.jsx)(T,{description:(0,t.jsx)(s.Skeleton,{boxHeight:22,height:12,vcenter:!0,width:60}),title:(0,t.jsx)(s.Skeleton,{boxHeight:22,height:14,vcenter:!0,width:"40%"})}),o?(0,t.jsx)(T,{right:!0,title:(0,t.jsx)(s.Skeleton,{className:"h-[18px] @md-page:h-[22px]",height:14,vcenter:!0,width:120})}):null]}),(0,t.jsx)(v,{})]})}],9203481)},8026771,e=>{"use strict";var t=e.i(4205214),s=e.i(8660982),o=e.i(8835183),r=e.i(6881349),i=e.i(2504781),n=e.i(1991452),c=e.i(569917),l=e.i(5677444),a=e.i(6357175),u=e.i(3798983),d=e.i(5074599);function p(e){return`Search provider or ${d.resourceTitle[e].toLowerCase()}â€¦`}function x(e){return null!=e}function m(){let e=(0,l.useSearchParams)();return{storeTag:e?.get("type")??"All",search:e?.get("search")??""}}e.s(["ResourceFilters",0,function(e){let{ConnectResourceButton:s,search:i,onSearchChanged:n,storeTagFilter:c,storeTags:l,onStoreTagFilterChanged:a,protocolType:u,actionButtons:d}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.SearchInput,{className:"[&>div:first-of-type]:flex-1",onChange:e=>{n(e.target.value.trim())},placeholder:p(u),value:i,width:"100%"}),(0,t.jsxs)(r.Combobox,{clearable:!1,onChange:e=>{e&&a(e)},value:c,children:[(0,t.jsx)(r.Combobox.Input,{disabled:!0}),(0,t.jsx)(r.Combobox.List,{children:l.map(e=>(0,t.jsx)(r.Combobox.Option,{value:e.value,children:e.label},e.value))})]}),s,d]})},"ResourceFiltersPlaceholder",0,function(e){let{createConnectAction:s,protocolType:n}=e,{storeTag:c}=m();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.SearchInput,{className:"[&>div:first-of-type]:flex-1",placeholder:p(n),width:"100%"}),(0,t.jsxs)(r.Combobox,{clearable:!1,value:c,children:[(0,t.jsx)(r.Combobox.Input,{disabled:!0}),(0,t.jsx)(r.Combobox.List,{children:(0,t.jsx)(r.Combobox.Option,{value:c,children:" "})})]}),"none"!==s?(0,t.jsx)(i.Button,{disabled:!0,type:"secondary",typeName:"button",children:u.createConnectStoreButtonLabel[s]}):null]})},"useResourceFilters",0,function(e,t){let o=(0,n.useRouter)(),{storeTag:r,search:i}=m(),[l,u]=(0,s.useState)("All"),p=t?r:l,[h,g]=(0,s.useState)(i),y=(0,a.useDebouncedValueWithTransition)(h,300),j=(0,s.useMemo)(()=>{let t=new Map;return e?.forEach(e=>{"integration"===e.type?t.set(e.product.integration.id,{value:e.product.integration.id,label:e.product.integration.name}):t.set(e.type,{value:e.type,label:(0,d.getProtocolTitleByResource)(e)})}),[{value:"All",label:"All"},...Array.from(t.values()).filter(x)]},[e]);return{filteredResources:(0,s.useMemo)(()=>e?.filter(e=>{if("All"!==p&&("integration"===e.type?e.product.integration.id!==p:e.type!==p))return!1;let t=y.toLowerCase();return!!(e.name.toLowerCase().includes(t)||e.id.includes(t))||"integration"===e.type&&e.product.name.toLowerCase().includes(t)})??null,[y,e,p]),search:h,onSearchChanged:e=>{g(e),t&&o.replace({query:{...o.query,search:e}},void 0,{shallow:!0,scroll:!1})},storeTagFilter:p,onStoreTagFilterChanged:e=>{t?o.replace({query:"All"===e?(0,c.omit)(o.query,"type"):{...o.query,type:e}},void 0,{shallow:!0,scroll:!1}):u(e)},storeTags:j}}])},680627,e=>{"use strict";var t=e.i(4205214),s=e.i(1717203),o=e.i(7557283);e.i(3182268);var r=e.i(7849855);e.i(8703064);var i=e.i(5154466);e.i(3134771);var n=e.i(1815854),c=e.i(6060673),l=e.i(3798983),a=e.i(2782729),u=e.i(6810699),d=e.i(5074599),p=e.i(8026771);e.s(["SelectResources",0,function(e){let{ConnectResourceButton:x,onClickConnectStoreModal:m,isStoreTagFilterFromQuery:h,protocolType:g}=e,{data:y}=(0,u.useResourceList)({protocolType:g}),{projectSlug:j}=(0,r.useProjectSlug)(),f=(0,c.useProject)(j),{can:C,isLoading:R}=(0,s.default)(),b={"edge-config":C(o.Action.Update,o.Resource.EdgeConfig),blob:C(o.Action.Create,o.Resource.Blob),integration:C(o.Action.Create,o.Resource.IntegrationResource)},v=y?.stores,{search:w,onSearchChanged:T,storeTagFilter:P,onStoreTagFilterChanged:S,storeTags:A,filteredResources:M}=(0,p.useResourceFilters)(v??null,h);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex flex-col @md-page:flex-row items-stretch justify-between gap-4 flex-initial",children:(0,t.jsx)(p.ResourceFilters,{ConnectResourceButton:x,onSearchChanged:T,onStoreTagFilterChanged:S,protocolType:g,search:w,storeTagFilter:P,storeTags:A})}),M&&0===M.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1 flex-initial min-h-52",children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",children:"No Results Found"}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900 text-center",children:`Your search for "${w}" did not return any results.`})]}):null,M&&M.length>0?(0,t.jsx)(i.SelectResourceCardList,{children:M.map(e=>{let s=e.projectsMetadata.some(e=>e.projectId===f.data?.id),o="integration"===e.type?{icon:{url:(0,a.getStoreIcon)(e),size:"large"}}:{Icon:(0,t.jsx)(n.SelectResourceStoreIcon,{iconSize:"large",type:e.type,useColor:b[e.type]})};return(0,t.jsx)(i.SelectResourceCard,{createdAt:e.createdAt,description:"storage"===g?l.storeTitleFull[e.type]:d.resourceTitle[g],isAlreadyConnected:s,isDisabled:!b[e.type],name:e.name,onClick:()=>m(e),tooltip:{isEnabled:!R&&!b[e.type],text:`You do not have permission to connect this ${(0,d.getProtocolTitleByResource)(e)}.`},...o},e.id)})}):null]})}])},1815574,e=>{"use strict";var t=e.i(4205214),s=e.i(5338940),o=e.i(3850869),r=e.i(2652226),i=e.i(5074599);e.s(["AdditionalResourcePermissionsRequired",0,function(e){let{protocolType:n}=e,{team:c}=(0,s.useTeam)();return(0,t.jsx)(r.default,{children:(0,t.jsx)(o.AdditionalPermissionsRequired,{resource:i.resourceTitle[n],team:c})})}])},4981413,4209381,1055938,e=>{"use strict";var t=e.i(4205214),s=e.i(3306538),o=e.i(57106),r=e.i(6838069);e.i(8703064);var i=e.i(6798946),n=e.i(2782729),c=e.i(4325157),l=e.i(5074599),a=e.i(1414602),u=e.i(6810699),d=e.i(8385183);function p(e){let{integrations:n,canCreate:c,disabled:a,showCreateButton:u,onClickProduct:d,protocolType:p}=e;if(0===n.length)return null;let x=l.resourceTitle[p],m={text:`You need additional permission to create a ${x}.`,isEnabled:!c};return(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-between flex-initial",children:[(0,t.jsx)("p",{className:"text-heading-16",children:(0,l.browseProductsTitle)(p)}),(0,t.jsx)(o.Link,{external:!0,href:`${r.MARKETPLACE_DOC_PAGE}/integrations/install-an-integration/product-integration`,target:"_blank",children:(0,t.jsx)("p",{className:"text-copy-14",children:"Learn more"})})]}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:n.map(e=>{let o=!!e.comingSoon,r=a||!c||!!e.comingSoon;if(0===e.products.length)return null;if(1===e.products.length){let n=e.products[0];return(0,t.jsx)(i.CreateResourceCard,{Badge:o?(0,t.jsx)(s.Badge,{className:"important:bg-transparent",size:"sm",variant:"gray-subtle",children:"Coming soon"}):null,description:n.shortDescription,icon:{url:n.iconUrl},isDisabled:r,isSelected:e.isSelected,name:n.name,onClick:()=>{d({product:n,integration:e,type:"integration"})},showCreateButton:u,tooltip:m},n.id)}return(0,t.jsx)(i.CreateResourceCollapsibleCard,{integration:e,isDisabled:a||!c,onClick:t=>{d({product:t,integration:e,type:"integration"})},selectedProductId:e.selectedProductId,showCreateButton:u,tooltip:m},e.id)})})]})}e.s(["BrowseProducts",0,function(e){let{onClickProduct:s,selectedProduct:x,showCreateButton:m=!1,protocolType:h}=e,{data:g}=(0,d.useIntegrationCategories)(),{permissions:y,isLoading:j}=(0,a.useResourcePermissions)(),{data:f}=(0,u.useResourceList)({protocolType:h}),{data:C}=(0,c.useMarketplaceIntegrations)({protocolType:h}),R=g?.find(e=>e.protocol===h);return C?(0,t.jsx)(p,{canCreate:y.create,disabled:j,integrations:C.map(e=>({...e,isSelected:x?.type==="integration"&&x.product.id===e.products[0].id,selectedProductId:x?.type==="integration"&&x.integration.id===e.id?x.product.id:void 0,comingSoon:(0,n.isIntegrationStoreDisabled)({integration:e,storesData:f})})),onClickProduct:s,protocolType:h,showCreateButton:m}):(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-between flex-initial",children:[(0,t.jsx)("p",{className:"text-heading-16",children:(0,l.browseProductsTitle)(h)}),(0,t.jsx)(o.Link,{external:!0,href:`${r.MARKETPLACE_DOC_PAGE}/integrations/install-an-integration/product-integration`,target:"_blank",children:(0,t.jsx)("p",{className:"text-copy-14",children:"Learn more"})})]}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:Array.from({length:R?.marketplaceIntegrationsCount??3}).map((e,s)=>(0,t.jsx)(i.CreateResourceCardPlaceholder,{showCreateButton:m},s))})]})}],4981413);var x=e.i(8660982),m=e.i(5677444),h=e.i(7897830);e.s(["useCreateResourceDeeplink",0,function(e,t){let s=(0,m.useRouter)(),{openCreateResource:o}=(0,h.useResourceModals)({onSuccess:e=>{s.push(t(e))}}),r=(0,m.useSearchParams)(),i=r?.get("productId")??null,{data:n}=(0,c.useMarketplaceIntegrations)({protocolType:e}),l=(0,x.useMemo)(()=>{if(!n)return null;for(let e of n)for(let t of e.products)if(t.id===i)return{integration:e,product:t};return null},[n,i]);(0,x.useEffect)(()=>{if(l){let{integration:e,product:t}=l;o({type:"integration",integration:e,product:t})}},[o,l])}],4209381),e.s(["EmptyResourcesState",0,function(e){let{title:s,subtitle:o,children:r,Icon:i}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-6 flex-initial rounded border border-solid border-gray-200 bg-background-200 px-4 py-8",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center justify-start gap-3 flex-initial",children:[i,(0,t.jsxs)("div",{className:"flex flex-col items-center justify-start gap-2 flex-initial",children:[s&&(0,t.jsx)("p",{className:"text-heading-20",children:s}),o&&(0,t.jsx)("p",{className:"text-copy-14 text-gray-900 text-center",children:o})]})]}),r]})}],1055938)},5551580,e=>{"use strict";var t=e.i(4205214),s=e.i(2504781),o=e.i(5255926),r=e.i(8660982),i=e.i(3798983),n=e.i(9203481),c=e.i(8026771);e.s(["ResourceListPlaceholder",0,function(e){let{protocolType:l}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)("div",{className:"flex flex-row items-stretch justify-between gap-4 flex-initial",children:(0,t.jsx)(r.Suspense,{fallback:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col @md-page:flex-row items-stretch justify-start gap-4 flex-initial",style:{width:"100%"},children:[(0,t.jsx)(o.Skeleton,{height:40,width:"100%"}),(0,t.jsx)(o.Skeleton,{className:"geist-hide-on-mobile",height:40,width:190}),(0,t.jsx)(o.Skeleton,{className:"geist-show-on-mobile",height:40,width:"100%"})]}),(0,t.jsx)(s.Button,{disabled:!0,type:"secondary",typeName:"button",children:i.createConnectStoreButtonLabel.connect})]}),children:(0,t.jsx)(c.ResourceFiltersPlaceholder,{createConnectAction:"connect",protocolType:l})})}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:Array.from({length:3}).map((e,s)=>(0,t.jsx)(n.ResourceItemPlaceholder,{},s))})]})}])},9691190,e=>{"use strict";var t=e.i(4205214),s=e.i(2504781),o=e.i(4030453),r=e.i(9307292),i=e.i(134877),n=e.i(5677444),c=e.i(6810699),l=e.i(7849855),a=e.i(7897830),u=e.i(5154466),d=e.i(4981413),p=e.i(5074599),x=e.i(1815574),m=e.i(4209381),h=e.i(1055938),g=e.i(8026771),y=e.i(9203481),j=e.i(5551580),f=e.i(680627),C=e.i(8544664);function R(e){let{ListItem:n,protocolType:a,resourceLinkFunc:u,Info:d,EmptyStateIcon:p,BrowserProductsEmptyState:y,includeMetadata:f,preloadedResources:R,actionButtons:T}=e,{hasProject:P,projectSlug:S}=(0,l.useProjectSlug)(),{data:A,error:M,hasResources:N}=(0,c.useResourceList)({projectSlug:S,protocolType:a,fallbackData:R?{stores:R}:void 0}),B=(0,c.useStoreListMetadataByType)({items:A?.stores??[],skip:!f}),{search:k,onSearchChanged:I,storeTagFilter:E,onStoreTagFilterChanged:L,storeTags:F,filteredResources:$}=(0,g.useResourceFilters)(A?B:null,!0);return(function(e){let{hasProject:t,projectSlug:s,teamSlug:o}=(0,l.useProjectAndTeamSlug)(),{data:r}=(0,c.useResourceList)({projectSlug:s??void 0,protocolType:e});(0,C.usePlaceholderCount)(`resourcePlaceholderCount:${e}:${o}${t?`:${s}`:""}`,r?.stores.length)}(a),(0,m.useCreateResourceDeeplink)(a,u),A&&$)?M&&(0,i.isAPIErrorForbidden)(M)?(0,t.jsx)(x.AdditionalResourcePermissionsRequired,{protocolType:a}):M?(0,t.jsxs)(h.EmptyResourcesState,{Icon:p,children:[(0,t.jsx)(o.Error,{children:"An error occurred while loading the list."}),(0,t.jsx)(s.Button,{onClick:()=>window.location.reload(),size:"small",type:"error",typeName:"button",children:"Try Again"})]}):N?0===A.stores.length&&P?(0,t.jsx)(v,{protocolType:a,resourceLinkFunc:u}):0===$.length?(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)("div",{className:"flex flex-row items-stretch justify-between gap-4 flex-initial",children:(0,t.jsx)(g.ResourceFilters,{actionButtons:T,ConnectResourceButton:(0,t.jsx)(w,{protocolType:a,resourceLinkFunc:u}),onSearchChanged:I,onStoreTagFilterChanged:L,protocolType:a,search:k,storeTagFilter:E,storeTags:F})}),(0,t.jsx)(h.EmptyResourcesState,{subtitle:`Your search for "${k}" did not return any results.`,title:"No Results Found"})]}):(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)("div",{className:"flex flex-col @md-page:flex-row items-stretch justify-between gap-4 flex-initial",children:(0,t.jsx)(g.ResourceFilters,{actionButtons:T,ConnectResourceButton:(0,t.jsx)(w,{protocolType:a,resourceLinkFunc:u}),onSearchChanged:I,onStoreTagFilterChanged:L,protocolType:a,search:k,storeTagFilter:E,storeTags:F})}),(0,t.jsx)(r.Virtuoso,{data:$,useWindowScroll:!0,initialItemCount:Math.min($.length,10),increaseViewportBy:600,itemContent:(e,s)=>(0,t.jsx)("div",{className:"pb-6",children:(0,t.jsx)(n,{Info:d,item:s,resourceLinkFunc:u})})})]}):y??(0,t.jsx)(b,{protocolType:a,resourceLinkFunc:u}):(0,t.jsx)(j.ResourceListPlaceholder,{protocolType:a})}function b(e){let{protocolType:s,resourceLinkFunc:o}=e,r=(0,n.useRouter)(),{openCreateResource:i}=(0,a.useResourceModals)({onSuccess:e=>{r.push(o(e))}});return(0,t.jsx)(h.EmptyResourcesState,{subtitle:(0,p.emptyResourcesStateSubtitle)(s),title:(0,p.emptyResourcesStateTitle)(s),children:(0,t.jsx)(u.SelectResourceCardListContainer,{children:(0,t.jsx)(d.BrowseProducts,{onClickProduct:e=>{e&&i(e)},protocolType:s,selectedProduct:void 0,showCreateButton:!0})})})}function v(e){let{protocolType:o,resourceLinkFunc:r}=e,i=(0,n.useRouter)(),{openConnectProject:c,openBrowseProducts:l}=(0,a.useResourceModals)({onSuccess:e=>{i.push(r(e))}});return(0,t.jsx)(h.EmptyResourcesState,{subtitle:`You can connect to existing ${p.resourceTitlePlural[o]} from this team, or
            create a new one and connect it to this project.`,title:`Connect to a ${p.resourceTitle[o]}`,children:(0,t.jsx)(u.SelectResourceCardListContainer,{children:(0,t.jsx)(f.SelectResources,{ConnectResourceButton:(0,t.jsx)(s.Button,{onClick:()=>{l("browse-new")},type:"default",typeName:"button",children:(0,p.connectResourceButtonLabel)(o)}),hasCreateConnectButton:!0,isStoreTagFilterFromQuery:!0,onClickConnectStoreModal:e=>{c(e)},protocolType:o})})})}function w(e){let{resourceLinkFunc:o,protocolType:r}=e,i=(0,n.useRouter)(),{openBrowseProducts:c}=(0,a.useResourceModals)({onSuccess:e=>{i.push(o(e))}}),{hasProject:u}=(0,l.useProjectSlug)();return u?(0,t.jsx)(s.Button,{onClick:()=>{c("browse-existing")},type:"secondary",typeName:"button",children:`Connect ${p.resourceTitle[r]}`}):null}e.s(["ResourceList",0,function(e){let{protocolType:s,resourceLinkFunc:o,Info:r}=e;return(0,t.jsx)(R,{Info:r,ListItem:y.ResourceItem,protocolType:s,resourceLinkFunc:o})},"ResourceListWithListItem",0,R])},7512194,e=>{"use strict";var t=e.i(4205214),s=e.i(8660982),o=e.i(7849855),r=e.i(39509),i=e.i(328065),n=e.i(3758860),c=e.i(6864621);let l={active:!1,modalKey:0,type:r.ResourceModalsActionTypes.ModalClosed,steps:[]};e.s(["ResourceModalsProviderBase",0,function(e){let{children:a,Modal:u,protocolType:d}=e,{showCreateDatabaseModal:p,setShowCreateDatabaseModal:x}=(0,c.useCreateDatabaseModal)(),{hasProject:m}=(0,o.useProjectSlug)(),h=(0,s.useCallback)(()=>{x(!1)},[x]),g=(0,s.useCallback)((e,t)=>(function(e){let{hasProject:t,onClose:s}=e;return(e,o)=>{if(!o.type.startsWith("open-")&&"animation-done"!==o.type&&"resource-updated"!==o.type&&e.type===r.ResourceModalsActionTypes.ModalClosed)throw Error(`Cannot handle action "${o.type}" without opening the modal`);switch(o.type){case`open-${r.ResourceModalsActionTypes.BrowseProducts}`:return{modalKey:e.modalKey,type:r.ResourceModalsActionTypes.BrowseProducts,steps:[r.ResourceModalsActionTypes.BrowseProducts,r.ResourceModalsActionTypes.CreateResource],active:!0};case`open-${r.ResourceModalsActionTypes.BrowseProductsOrSelectResources}`:return{modalKey:e.modalKey,type:r.ResourceModalsActionTypes.BrowseProductsOrSelectResources,steps:[r.ResourceModalsActionTypes.BrowseProductsOrSelectResources,r.ResourceModalsActionTypes.CreateResource,r.ResourceModalsActionTypes.CreateEnvs],tab:o.tab,active:!0};case`go-to-step-${r.ResourceModalsActionTypes.CreateResource}`:case`open-${r.ResourceModalsActionTypes.CreateResource}`:{let s=e.steps,i="integration"===o.resourceWithProduct.type&&(0,n.showProjectConnectionAfterResourceCreation)(o.resourceWithProduct.product),c="integration"===o.resourceWithProduct.type&&(0,n.supportsAnyDrainProtocol)(o.resourceWithProduct.product);if("open-create-resource"===o.type&&(s=(t||i)&&!c?[r.ResourceModalsActionTypes.CreateResource,r.ResourceModalsActionTypes.CreateEnvs]:[r.ResourceModalsActionTypes.CreateResource]),"go-to-step-create-resource"!==o.type||!i||s.includes(r.ResourceModalsActionTypes.CreateEnvs)||c||s.push(r.ResourceModalsActionTypes.CreateEnvs),0===s.length||s[0]===r.ResourceModalsActionTypes.CreateEnvs||s[0]===r.ResourceModalsActionTypes.DeleteEnvs)throw Error(`Invalid steps "${s.join(",")}" for action "${o.type}"`);let{resourceWithProduct:l}=o;return{modalKey:e.modalKey,type:r.ResourceModalsActionTypes.CreateResource,resourceWithProduct:l,backOrCancelLabel:s[0]===r.ResourceModalsActionTypes.CreateResource?"Cancel":"Go Back",steps:s,active:!0}}case`go-to-step-${r.ResourceModalsActionTypes.CreateEnvs}`:case`open-${r.ResourceModalsActionTypes.CreateEnvs}`:{let t=e.steps,s="Cancel";if("open-create-envs"===o.type?t=[r.ResourceModalsActionTypes.CreateEnvs]:e.type===r.ResourceModalsActionTypes.BrowseProductsOrSelectResources&&(s="Go Back"),0===t.length||t[0]===r.ResourceModalsActionTypes.CreateResource&&t[1]!==r.ResourceModalsActionTypes.CreateEnvs||t[0]===r.ResourceModalsActionTypes.BrowseProducts&&!(0,n.showProjectConnectionAfterResourceCreation)(e.resource)||t[0]===r.ResourceModalsActionTypes.DeleteEnvs)throw Error(`Invalid steps "${t.join(",")}" for action "${o.type}"`);return{backOrCancelLabel:s,modalKey:e.modalKey,type:r.ResourceModalsActionTypes.CreateEnvs,resource:o.resource,connection:"connection"in o?o.connection:void 0,forceProjectSelector:"forceProjectSelector"in o?o.forceProjectSelector:void 0,steps:t,active:!0}}case"browse-products-or-select-resources-switch-tabs":if(e.type!==r.ResourceModalsActionTypes.BrowseProductsOrSelectResources)throw Error('Cannot switch tabs outside of the "browse-stores-or-select-existing" step');return{modalKey:e.modalKey,steps:e.steps,type:e.type,tab:o.tab,active:!0};case"back":if(e.type===r.ResourceModalsActionTypes.CreateEnvs&&"Go Back"===e.backOrCancelLabel&&e.steps[0]===r.ResourceModalsActionTypes.BrowseProductsOrSelectResources)return{modalKey:e.modalKey,steps:e.steps,type:r.ResourceModalsActionTypes.BrowseProductsOrSelectResources,tab:"browse-existing",active:!0};if("create-resource"===e.type)switch(e.steps[0]){case r.ResourceModalsActionTypes.BrowseProductsOrSelectResources:return{modalKey:e.modalKey,steps:e.steps,type:r.ResourceModalsActionTypes.BrowseProductsOrSelectResources,tab:"browse-new",active:!0};case r.ResourceModalsActionTypes.BrowseProducts:return{modalKey:e.modalKey,steps:e.steps,type:r.ResourceModalsActionTypes.BrowseProducts,active:!0}}return s(),{...e,active:!1};case"close":return s(),{...e,active:!1};case"animation-done":return{...l,modalKey:e.modalKey+1};case"resource-updated":if(e.type===r.ResourceModalsActionTypes.ModalClosed)return e;return{...e,resource:o.resource,isConnected:o.isConnected};case"open-delete-envs":return{...e,active:!0,resource:o.resource,resourceId:o.resourceId,connections:o.connections,type:r.ResourceModalsActionTypes.DeleteEnvs,steps:[r.ResourceModalsActionTypes.DeleteEnvs]}}}})({hasProject:m,onClose:h})(e,t),[m,h]),[y,j]=(0,s.useReducer)(g,l);(0,s.useEffect)(()=>{p&&(m?j({type:"open-browse-products-or-select-resources",tab:"browse-new"}):j({type:"open-browse-products"}))},[p,j,m]);let f=(0,s.useMemo)(()=>({state:y,dispatch:j,protocolType:d}),[y,d]),C=(0,i.getResourceModalsContext)();return(0,t.jsxs)(C.Provider,{value:f,children:[u,a]})}])}]);

//# debugId=9009140b-8393-5ee6-f137-5741833eae00
//# sourceMappingURL=bec01e26be98fdd7.js.map