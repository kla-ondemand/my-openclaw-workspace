;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="7a923e95-bf5b-a7cb-1243-6dd84039e5a3")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3287497,e=>{"use strict";var t=e.i(4205214),a=e.i(8660982),i=e.i(175449),l=e.i(6891161),s=e.i(4585051),o=e.i(6881349),r=e.i(455575),d=e.i(4030453),n=e.i(4004502),c=e.i(277234),u=e.i(4244280),h=e.i(5338940),m=e.i(5140444),f=e.i(1434061),x=e.i(57106);(0,n.markLoadedForTest)("set-default-team-modal"),e.s(["SetDefaultTeamModal",0,function(){let{isNorthstar:e,user:n,mutate:b,isLoading:j}=(0,m.useUser)(),{teams:g,isLoading:p}=(0,h.useTeam)(),[T,y]=(0,a.useState)(),[C,v]=(0,a.useState)(),[I,S]=(0,a.useState)(!1),w=(0,a.useRef)(!1),A=(0,a.useCallback)(e=>{e&&y(e)},[]),k=(0,a.useCallback)(e=>{C&&v(void 0),S(!0),(0,c.fetchAPI)(u.API_USER,{method:"PATCH",body:JSON.stringify({defaultTeamId:e}),throwOnHTTPError:!0}).then(b).then(f.jwtKVStoreInitializeFetch).then(()=>{r.toasts.success("Your Default Team has been updated.")}).catch(e=>{e instanceof Error?v(e.message):v("An unknown error occurred. Please try again.")}).finally(()=>{S(!1),w.current=!0})},[C,b]),M=(0,a.useCallback)(()=>{T&&k(T)},[T,k]);return((0,a.useEffect)(()=>{n&&e&&g?.length===1&&!n.defaultTeamId&&!w.current&&k(g[0].id)},[g,k,n,e]),j||p||!n||!e||!g||g.length<=1||n.defaultTeamId||n.limited)?null:(0,t.jsxs)(l.Modal.Modal,{active:!0,onClickOutside:i.noop,children:[(0,t.jsxs)(l.Modal.Body,{children:[(0,t.jsx)(l.Modal.Header,{children:(0,t.jsx)(l.Modal.Title,{children:"Select your default team"})}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsxs)("p",{className:"text-copy-14",children:["Your default team will be used when you make a request through the API or CLI where you don't specify a particular team. It will also be the team selected when you navigate to the dashboard. Â ",(0,t.jsx)(x.Link,{external:!0,href:"/docs/accounts#default-team",variant:"highlight",children:"Learn More"})]}),(0,t.jsx)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial",children:(0,t.jsxs)(o.Combobox,{onChange:A,placeholder:"Select a Team",value:T,width:"100%",children:[(0,t.jsx)(o.Combobox.Input,{}),(0,t.jsx)(o.Combobox.List,{children:g.map(e=>(0,t.jsx)(o.Combobox.Option,{prefix:(0,t.jsx)(s.Avatar,{hash:e.avatar,size:24,teamId:e.id}),value:e.id,children:e.slug},e.id))})]})}),C?(0,t.jsx)(d.Error,{children:C}):null]})]}),(0,t.jsx)(l.Modal.Actions,{children:(0,t.jsx)(l.Modal.Action,{disabled:!T,fullWidth:!0,loading:I,onClick:M,children:"Save"})})]})}])},817800,e=>{e.n(e.i(3287497))}]);

//# debugId=7a923e95-bf5b-a7cb-1243-6dd84039e5a3
//# sourceMappingURL=cdfa7b6c047e7c1c.js.map