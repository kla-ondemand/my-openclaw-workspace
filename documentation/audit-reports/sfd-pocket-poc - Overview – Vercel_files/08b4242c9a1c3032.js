;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="7cacb74c-3afe-c27f-3d9d-0fba2da129a4")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,8188735,e=>{"use strict";var t=e.i(277234),n=e.i(4244280);async function i(e,i,r){return(0,t.fetchAPI)(`${(0,n.API_PROJECTS_VERSION)("v5")}/${encodeURIComponent(e)}${i?`?teamId=${i}`:""}`,{method:"PATCH",body:JSON.stringify(r),throwOnHTTPError:!0})}async function r(e,i,r){return(0,t.fetchAPI)(`${(0,n.API_PROJECTS_VERSION)("v9")}/${encodeURIComponent(e)}${i?`?teamId=${i}`:""}`,{method:"PATCH",body:JSON.stringify(r),throwOnHTTPError:!0})}e.s(["default",0,i,"updateProjectSettingsV9",0,r])},8488254,e=>{"use strict";var t=e.i(4205214),n=e.i(8660982),i=e.i(5677444),r=e.i(455575),o=e.i(5771992),a=e.i(6060673),s=e.i(5129431);let l=(0,n.createContext)({open:()=>{}});function c(e){let{openRef:l}=e,c=(0,i.useParams)(),{data:d}=(0,a.useProject)(c?.project),u=(0,r.useToasts)(),{data:m}=(0,o.default)({limit:5,projectId:d?.id||"",target:"production"}),{modal:p,open:g}=(0,s.default)(d||void 0);return l.current=(0,n.useCallback)(e=>{if(!m)return;let n=m.deployments.map(e=>({id:e.uid,...e}));u.removeToastByKey("save-and-redeploy"),u.success({key:"save-and-redeploy",text:(0,t.jsx)("span",{className:"hyphens-auto",children:`${e??""}${e?" ":""}A new deployment is needed for changes to take effect.`}),action:"Redeploy",onAction:()=>{g(n,{redirect:!1,copy:"You are about to create a new Deployment with the latest configuration from your Project Settings."})}})},[m,g,u]),p}e.s(["SaveAndRedeployProvider",0,function(e){let{children:i}=e,r=(0,n.useRef)(()=>{}),o=(0,n.useCallback)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.current(...t)},[]);return(0,t.jsxs)(l.Provider,{value:{open:o},children:[i,(0,t.jsx)(n.Suspense,{children:(0,t.jsx)(c,{openRef:r})})]})},"useSaveAndRedeployContext",0,function(){return(0,n.useContext)(l)}])},7482607,e=>{"use strict";var t=e.i(8488254);e.s(["useSaveAndRedeploy",0,function(){let{open:e}=(0,t.useSaveAndRedeployContext)();return{open:e}}])},5174113,e=>{"use strict";let t={on:{hobby:{duration:60,maxDuration:60,cpu:"standard_legacy"},pro:{duration:90,maxDuration:800,cpu:"standard"},enterprise:{duration:90,maxDuration:800,cpu:"standard"}},on_active_cpu:{hobby:{duration:300,maxDuration:300,cpu:"standard"},pro:{duration:300,maxDuration:800,cpu:"standard"},enterprise:{duration:300,maxDuration:800,cpu:"standard"}},off:{hobby:{duration:10,maxDuration:60,cpu:"standard_legacy"},pro:{duration:15,maxDuration:300,cpu:"standard"},enterprise:{duration:15,maxDuration:900,cpu:"standard"}}};e.s(["fluidConfig",0,t,"getDefaultConfig",0,(e,n,i)=>{let r=e??"hobby";return n?i?t.on_active_cpu[r]:t.on[r]:t.off[r]}])},3542742,e=>{"use strict";var t=e.i(4205214),n=e.i(8660982),i=e.i(6060673),r=e.i(1138941);let o=(0,n.createContext)(null);e.s(["FunctionResourceConfigProvider",0,function(e){let{children:a}=e,[s,l]=(0,n.useState)({}),c=(0,r.useProjectIdOrName)(),{data:d,isLoading:u,mutate:m}=(0,i.useProject)(c),p=(0,n.useMemo)(()=>({functionDefaultTimeout:s?.functionDefaultTimeout??d?.resourceConfig?.functionDefaultTimeout,functionDefaultMemoryType:s?.functionDefaultMemoryType??d?.resourceConfig?.functionDefaultMemoryType}),[s,d?.resourceConfig]);return(0,t.jsx)(o.Provider,{value:{resourceConfig:p,isProjectLoading:u,projectData:d,onRevalidateProject:m,onSetResourceConfigState:e=>{l(e)}},children:a})},"useFunctionResourceConfig",0,function(){let e=(0,n.useContext)(o);if(!e)throw Error("useFunctionResourceConfig must be used within a FunctionResourceConfigProvider");return e}])},1556740,e=>{"use strict";var t=e.i(4205214),n=e.i(8660982),i=e.i(5255926),r=e.i(1848296),o=e.i(4138437),a=e.i(3306538),s=e.i(9318197),l=e.i(8522580),c=e.i(9722978),d=e.i(7917902),u=e.i(3322724),m=e.i(57106),p=e.i(1717203),g=e.i(7557283),f=e.i(1853611),h=e.i(7780974),y=e.i(7482607),x=e.i(4396019),b=e.i(58194),j=e.i(8188735),v=e.i(5174113),C=e.i(7168496),w=e.i(185801),N=e.i(4670733),_=e.i(3542742);let P={standard_legacy:{memory:1,cpu:.6,label:"Basic",description:"Cost-effective option for lightweight apps and APIs"},standard:{memory:1.7,cpu:1,label:"Standard",description:"Predictable performance for production workloads"},performance:{memory:3,cpu:1.7,label:"Performance",description:"Increased performance for latency-sensitive applications and SSR workloads"}},S={standard:{memory:2,cpu:1,label:"Standard",description:"Predictable performance for production workloads"},performance:{memory:4,cpu:2,label:"Performance",description:"Increased performance for latency-sensitive applications and SSR workloads"}};e.s(["FunctionDefaultMemoryType",0,function(){let{projectData:A,isProjectLoading:k,onRevalidateProject:D,resourceConfig:E,onSetResourceConfigState:T}=(0,_.useFunctionResourceConfig)(),M=(0,u.useIsMobile)(),{team:I,isTeam:R}=(0,d.useAccount)(),L=I?.billing?.plan||"hobby",{open:B}=(0,y.useSaveAndRedeploy)(),[U,F]=(0,n.useState)(!1),[O,$]=(0,n.useState)(),{can:V,isLoading:z}=(0,p.default)(),Y=(0,n.useRef)(null),{deployment:H,isLoading:Q}=(0,x.useProjectProductionDeployment)(A?.id),{data:q,isLoading:G}=(0,b.useBuilds)(H??null),W=(0,C.isFluidEnabled)(A),K=(0,N.useNetCpuFunctionsFlag)(A?.id??""),Z=W&&K.isReady&&K.value,J=(0,n.useMemo)(()=>{if(!H||!q)return!1;for(let e of q.builds){let t=e.config.vercelConfig?.functions;if(null!=t&&"object"==typeof t){for(let[e,n]of Object.entries(t))if(void 0!==n.memory)return!0}}return!1},[H,q]),X=(0,n.useMemo)(()=>{if(void 0===R||!A)return;let e=I?.billing?.plan??"hobby";return A.resourceConfig?.functionDefaultMemoryType?A.resourceConfig.functionDefaultMemoryType:R&&"hobby"!==e||Z?"standard":"standard_legacy"},[R,I?.billing?.plan,A,Z]);(0,n.useEffect)(()=>{X&&X!==Y.current&&(Y.current=X,T({...A?.resourceConfig,functionDefaultMemoryType:X}))},[X,E?.functionDefaultMemoryType,A?.resourceConfig,T]);let ee=k||z||Q||G,et=V(g.Action.Update,g.Resource.Project),en=!ee&&"hobby"!==L&&et,ei=en&&E?.functionDefaultMemoryType!==X,er=async()=>{if(A&&E?.functionDefaultMemoryType){F(!0);try{await (0,j.default)(A.id,I?.id,{resourceConfig:{functionDefaultMemoryType:E.functionDefaultMemoryType}}),f.analytics.track(h.VercelActivityAction.ProjectSettingsUpdated,{projectId:A.id,teamId:I?.id??"",name:"function-cpu",value:E.functionDefaultMemoryType},{send_to:{data_warehouse_legacy:!0}}),await D(),B("Updated Function CPU setting successfully.")}catch(t){await e.A(7826398).then(e=>{let{errorToString:n}=e;$(n(t))})}finally{F(!1)}}},eo=Object.keys(P),ea=W?eo.filter(e=>"standard_legacy"!==e):eo,es=Z?S.standard:P.standard_legacy;return(0,t.jsxs)(w.ProjectSettingsFieldset,{description:"",disabled:!en,error:O,highlightNote:!ee&&!et,note:ee?(0,t.jsx)(i.Skeleton,{height:32,width:200}):"hobby"===L?(0,t.jsxs)("p",{className:"text-copy-14",children:["This feature is available on the"," ",(0,t.jsx)(m.Link,{external:!0,href:"/pricing",type:"highlight",children:"Pro plan"})," "]}):et?(0,t.jsxs)("p",{className:"text-copy-14",children:["Learn more about"," ",(0,t.jsx)(m.Link,{external:!0,href:"/docs/functions/configuring-functions/memory",type:"highlight",children:"Function CPU"})," ","and"," ",(0,t.jsx)(m.Link,{external:!0,href:"/docs/functions/configuring-functions/memory#pricing",type:"highlight",children:"Pricing"})]}):(0,t.jsx)("p",{className:"text-copy-14",children:"You need additional permissions to manage your project's CPU setting."}),onSave:er,saveDisabled:!ei,saveLoading:U,title:"Function CPU",children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsxs)("p",{className:"text-copy-14",children:["This controls the maximum amount of CPU utilization your Vercel Functions can use while executing. Standard is optimal for most frontend workloads.",Z?null:(0,t.jsxs)(t.Fragment,{children:[" ","You can override this per function using the"," ",(0,t.jsx)(m.Link,{external:!0,href:"/docs/functions/configuring-functions/memory#setting-custom-function-memory-size",type:"highlight",children:(0,t.jsx)("code",{children:"vercel.json"})})," ","file."]})]}),(0,t.jsx)("p",{className:"text-copy-14",children:"A new Deployment is required for your changes to take effect."})]}),(0,t.jsx)(s.Spacer,{y:.5}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial w-full",children:["hobby"===L?(0,t.jsx)(l.Note,{children:(0,t.jsxs)("p",{className:"text-copy-14",children:["You currently have"," ",(0,t.jsxs)(a.Badge,{capitalize:!1,size:"sm",variant:"blue-subtle",children:[es.cpu," vCPU"]})," ","and"," ",(0,t.jsxs)(a.Badge,{capitalize:!1,size:"sm",variant:"blue-subtle",children:[es.memory," GB Memory"]})," ","on the Hobby plan. Upgrade to get faster CPU and more memory."]})}):null,(0,t.jsx)(r.RadioGroup,{onChange:e=>{T({...E,functionDefaultMemoryType:e})},value:E?.functionDefaultMemoryType??(0,v.getDefaultConfig)(L,(0,C.isFluidEnabled)(A),Z).cpu,children:(0,t.jsx)("div",{className:(0,c.clsx)("flex flex-col items-stretch justify-start flex-initial",M?"gap-2":"gap-4"),children:ea.map(e=>{let{memory:n,cpu:l,label:d,description:u}=Z?S[e]:P[e],m=l<=1;return(0,t.jsx)(i.Skeleton,{show:ee,children:(0,t.jsx)(o.Card,{className:(0,c.clsx)("border p-0 pl-4",{"border-solid border-[var(--ds-blue-700)]":E?.functionDefaultMemoryType===e}),gap:2,padding:4,secondary:E?.functionDefaultMemoryType===e,children:(0,t.jsx)(r.RadioGroup.Item,{className:"items-center",fullWidth:!0,value:e,children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-between flex-initial p-4 pl-2",children:[(0,t.jsxs)("div",{className:(0,c.clsx)("flex items-stretch justify-start flex-initial",M?"flex-col":"flex-row"),children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",children:d}),(0,t.jsxs)("div",{className:(0,c.clsx)("flex flex-row items-stretch justify-start flex-initial",M?"mb-1 mt-1":""),children:[(0,t.jsx)(s.Spacer,{x:+!M}),(0,t.jsxs)(a.Badge,{className:"w-fit p-2 normal-case",size:"sm",variant:E?.functionDefaultMemoryType===e?"blue-subtle":"gray-subtle",children:[l," vCPU",m?"":"s"]}),(0,t.jsx)(s.Spacer,{x:M?.25:.5}),(0,t.jsxs)(a.Badge,{className:"w-fit p-2",size:"sm",variant:E?.functionDefaultMemoryType===e?"blue-subtle":"gray-subtle",children:[n," GB Memory"]})]})]}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:u})]})})},e)},e)})})}),!ee&&en&&J?(0,t.jsx)(l.Note,{className:"mt-4 pl-4",fill:!0,type:"warning",children:(0,t.jsxs)("p",{className:"text-copy-14 text-inherit p-1 pl-2",children:["The current production deployment has custom overrides in"," ",(0,t.jsx)(m.Link,{external:!0,href:"/docs/functions/configuring-functions/memory#setting-custom-function-memory-size",type:"highlight",children:(0,t.jsx)("code",{children:"vercel.json"})}),","," ",Z?"which gets ignored.":"which takes priority over this setting."]})}):void 0]})]})},"LAMBDA_DEFAULT_MEMORY_SIZE_TEMPLATE",0,P,"LAMBDA_DEFAULT_MEMORY_SIZE_TEMPLATE_ACTIVE_CPU",0,S])},4884125,e=>{"use strict";e.s(["BUILD_MACHINES",0,{standard:{memory:8,cpu:4,label:"Standard performance",description:"Cost-effective option for lightweight apps and APIs"},enhanced:{memory:16,cpu:8,label:"Enhanced performance",description:"Increased compute, ideal for large applications"},turbo:{memory:60,cpu:30,label:"Turbo performance",description:"Optimized for Turbopack builds which take advantage of multiple cores"}}])},2301565,e=>{"use strict";e.s(["CONCURRENCY_MODE_DESCRIPTIONS",0,{immediate:"Skip the queue for all builds",perBranch:"New deployments within a branch are queued",disabled:"Builds are queued, maximum of one at a time"},"CONCURRENCY_MODE_LABELS",0,{immediate:"Immediate",perBranch:"Per Branch",disabled:"Disabled"},"CONCURRENCY_MODE_TITLES",0,{immediate:"Run all builds immediately",perBranch:"Run up to one build per branch",disabled:"Disable on-demand concurrent builds"},"DEPLOYMENT_CONCURRENCY_MODE_LABELS",0,{immediate:"Enabled",perBranch:"Per Branch",skippedQueue:"Skipped Queue",disabled:"Disabled"},"getDeploymentConcurrencyMode",0,function(e,t){let n,i;if(t?.resourceConfig){if("SKIP_QUEUE"===t.resourceConfig.elasticConcurrency)return"skippedQueue";n=!!t.resourceConfig.elasticConcurrency,i=t.resourceConfig.buildQueue?.configuration}else n=!!e?.resourceConfig?.elasticConcurrencyEnabled,i=e?.resourceConfig?.buildQueue?.configuration;return n?"WAIT_FOR_NAMESPACE_QUEUE"===i?"perBranch":"immediate":"disabled"},"getProjectConcurrencyMode",0,function(e){if(!e)return"disabled";let t=!!e.resourceConfig?.elasticConcurrencyEnabled,n=e.resourceConfig?.buildQueue?.configuration;return t?"WAIT_FOR_NAMESPACE_QUEUE"===n?"perBranch":"immediate":"disabled"}])},5720918,e=>{"use strict";e.s(["getDeploymentConfiguration",0,function(e){let{project:t,deployment:n}=e;if(!t)return null;let i={skewProtectionMaxAge:t.skewProtectionMaxAge??null,deploymentProtection:(t.ssoProtection||t.passwordProtection)?.deploymentType??null,nodeVersion:t.nodeVersion,elasticConcurrencyEnabled:t.resourceConfig?.elasticConcurrencyEnabled,buildQueue:t.resourceConfig?.buildQueue,buildMachineType:t.resourceConfig?.buildMachineType},r=t.nodeVersion;n.projectSettings?.nodeVersion&&(n.gitSource?r=n.projectSettings.nodeVersion:n.nodeVersion||(r=n.projectSettings.nodeVersion));let o=r;return(n.nodeVersion&&(o=n.nodeVersion),n.config?.version)?{deploymentConfig:{...n.config,nodeVersion:o},projectConfig:{...i,nodeVersion:r}}:{projectConfig:{...i,nodeVersion:r}}}])},5566974,e=>{"use strict";var t=e.i(4205214),n=e.i(1553931),i=e.i(9722978),r=e.i(1265647),o=e.i(7432042),a=e.i(3306538),s=e.i(2504781),l=e.i(5255926),c=e.i(5468328),d=e.i(8660982),u=e.i(1853611),m=e.i(7780974),p=e.i(1781243),g=e.i(9138164),f=e.i(9386557),h=e.i(7807066),y=e.i(8761240),x=e.i(9096446),b=e.i(9429910);e.i(6483798);var j=e.i(8287059),v=e.i(57106),C=e.i(5677444),w=e.i(2940029),N=e.i(5720918),_=e.i(5338940),P=e.i(4884125),S=e.i(5298575),A=e.i(850302),k=e.i(8042625),D=e.i(277234);function E(e){let{projectId:t,teamId:n}=e;return(0,A.default)(["/api/deployment-settings-recommendation-dismissals",n,t],async e=>{let[i]=e;return await (0,D.fetchAPI)(`${i}${(0,k.encode)({projectId:t,teamId:n})}`,{method:"GET",throwOnHTTPError:!0})})}var T=e.i(3643299),M=e.i(1988648),I=e.i(1173672),R=e.i(8091742);let L=[{id:"fluid-compute",title:"Faster functions at a lower cost",message:"Run multiple invocations on a single function instance, reducing idle compute time and lowering costsâ€‹.",resolveUrl:e=>{let{teamSlug:t,projectSlug:n}=e;return`/${t}/${n}/settings/functions#fluid-compute`},shouldShow:e=>{let{deploymentConfig:t}=e;return!t?.functionType||"fluid"!==t.functionType},trackingSection:"fluid",priority:10},{id:"prioritize-production-builds",title:"Skip Build Queues for Production",message:"Production deployments build immediately while preview builds wait in queue.",resolveUrl:e=>{let{teamSlug:t,projectSlug:n}=e;return`/${t}/${n}/settings/build-and-deployment#prioritize-production-builds`},shouldShow:e=>{let{project:t}=e;return!t?.productionDeploymentsFastLane&&!t?.resourceConfig?.elasticConcurrencyEnabled},trackingSection:"prioritize-production-builds",groupId:"build-queues",priority:5},{id:"concurrent-builds",title:"Build Multiple Deployments Simultaneously",message:"Never wait for a queued build.",resolveUrl:e=>{let{teamSlug:t,projectSlug:n}=e;return`/${t}/${n}/settings/build-and-deployment#on-demand-concurrent-builds`},shouldShow:e=>{let{project:t}=e;return!t?.resourceConfig?.elasticConcurrencyEnabled},trackingSection:"on-demand-concurrent-builds",groupId:"build-queues",priority:10},{id:"build-machine",title:"Get builds up to 40% faster",message:"Switch to a bigger build machine.",resolveUrl:e=>{let{teamSlug:t,projectSlug:n}=e;return`/${t}/${n}/settings/build-and-deployment#build-machine`},shouldShow:e=>{let{buildMachineForDisplay:t}=e;return"standard"===t},trackingSection:"build-machine",priority:10},{id:"skew-protection",title:"Prevent Frontend-Backend Mismatches",message:"Automatically sync client and server versions to avoid deployment conflicts.",resolveUrl:e=>{let{teamSlug:t,projectSlug:n}=e;return`/${t}/${n}/settings/advanced#skew-protection`},shouldShow:e=>{let{project:t}=e;return!t?.skewProtectionMaxAge},trackingSection:"skew-protection",priority:5},{id:"rolling-releases",title:"Progressive deployment rollouts",message:"Ship to a fraction of users first, compare metrics, then promote when ready.",resolveUrl:e=>{let{teamSlug:t,projectSlug:n}=e;return`/${t}/${n}/settings/build-and-deployment#rolling-releases`},shouldShow:e=>{let{project:t,team:n}=e;return!t?.rollingRelease&&(n?.billing?.plan==="pro"||n?.billing?.plan==="enterprise")},trackingSection:"rolling-releases",priority:5},{id:"deployment-protection",title:"Secure Preview Deployments",message:"Require authentication before anyone can view your preview and production sites.",resolveUrl:e=>{let{teamSlug:t,projectSlug:n}=e;return`/${t}/${n}/settings/deployment-protection#vercel-authentication`},shouldShow:e=>{let{project:t}=e;return!t?.ssoProtection?.deploymentType&&!t?.passwordProtection?.deploymentType},trackingSection:"vercel-authentication",priority:5},{id:"microfrontends",title:"Create Smaller Applications with Microfrontends",message:"Split large applications into smaller ones to improve build times.",resolveUrl:e=>{let{teamSlug:t,projectSlug:n}=e;return`/${t}/${n}/settings/microfrontends`},shouldShow:e=>{let{deployment:t,project:n,team:i}=e,r=t?.readyStateAt||t?.ready;if(!i||!r||!t?.buildingAt||n?.microfrontends?.enabled)return!1;let o=i.billing?.plan==="pro"&&"unbundled"!==i.billing.planIteration||i.billing?.plan==="enterprise",a=r-t.buildingAt>9e5;return o&&a},trackingSection:"microfrontends",priority:5},{id:"custom-domains",title:"Find a Custom Domain",message:"Purchase a domain. Fast, at-cost & private.",resolveUrl:()=>"/domains",shouldShow:async e=>{let{deployment:t,project:n,team:i}=e;if(!t||!n||!i)return!1;let r=n.microfrontends?.groupIds??n.microfrontendsConfig?.groupIds;if((r?.length??0)>0)return!1;try{let[e,r]=await Promise.all([(0,D.default)((0,M.getDashboardDeploymentDomainsEndpoint)({deploymentId:t.id,teamSlug:i.slug??""}),{throwOnHTTPError:!0}),(0,D.default)((0,I.getProjectProductionDeploymentKey)({projectIdOrName:n.name,teamId:i.slug}),{throwOnHTTPError:!0})]),o=!!(t&&r.deployment?.id===t.id),a=(0,R.filterAutoAssignedDomains)(i,e.aliases),s=e.aliases.length!==a.length;return o&&!s}catch(e){return!1}},trackingSection:"custom-domains",priority:5}];var B=e.i(9041876),U=e.i(1556740);function F(e,t,n){let i=n?.resourceConfig;if(i){let e=i.buildMachine?.purchaseType;return"enhanced"===e||"turbo"===e?e:(0,B.getDefaultBuildMachine)(t)}return(0,B.getProjectBuildMachine)(e,t)}function O(e){if(e&&e.deploymentConfig)return e.deploymentConfig.isUsingActiveCPU?"performance"===e.deploymentConfig.functionMemoryType?U.LAMBDA_DEFAULT_MEMORY_SIZE_TEMPLATE_ACTIVE_CPU.performance:U.LAMBDA_DEFAULT_MEMORY_SIZE_TEMPLATE_ACTIVE_CPU.standard:U.LAMBDA_DEFAULT_MEMORY_SIZE_TEMPLATE[e.deploymentConfig.functionMemoryType]}var $=e.i(2301565),$=$,V=$;let z={all:"All Deployments",preview:"Pre-Production Deployments",prod_deployment_urls_and_all_previews:"(Legacy) Standard Protection",all_except_custom_domains:"Standard Protection"};function Y(e){let{disabled:r,isLoading:o,children:a,titleContent:s,inlineConfig:c,className:d}=e;return(0,t.jsx)(n.Root,{className:(0,i.clsx)(d,{"bg-background-200":r}),disabled:r||o,type:"multiple",children:(0,t.jsxs)(n.Item,{value:"configuration",children:[(0,t.jsx)(n.Trigger,{className:(0,i.clsx)("ease flex h-12 w-full items-center justify-between border-0 border-t border-gray-alpha-400 bg-transparent px-4 transition-all duration-200 disabled:text-gray-900",{"cursor-pointer":!r,"cursor-not-allowed":r}),children:(0,t.jsx)("span",{className:"flex items-center w-full gap-2",children:o?(0,t.jsx)(l.Skeleton,{height:16,width:160}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.ChevronRight,{className:"ease-[ease] transition-transform duration-200 [[data-state=open]_&]:rotate-90",color:"gray-900"}),(0,t.jsxs)("span",{className:"flex items-center w-full gap-2",children:[(0,t.jsx)("span",{className:"font-medium text-label-14 text-gray-1000",children:"Deployment Settings"}),s&&(0,t.jsx)("span",{className:(0,i.clsx)("ease transition-all duration-200","[[data-state=open]_&]:translate-y-0.5 [[data-state=open]_&]:scale-[0.99] [[data-state=open]_&]:opacity-0"),children:s})]}),c?(0,t.jsx)("span",{className:(0,i.clsx)("ease transition-all duration-200","[[data-state=open]_&]:translate-y-0.5 [[data-state=open]_&]:scale-[0.99] [[data-state=open]_&]:opacity-0"),children:c}):null]})})}),(0,t.jsx)(n.Content,{className:" overflow-hidden will-change-[height] [[data-state=closed]_&]:animate-content-close [[data-state=open]_&]:animate-content-open ",children:a})]})})}function H(e){let{className:n}=e;return(0,t.jsx)(Y,{className:n,disabled:!0})}function Q(e){let{count:n}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Badge,{variant:"blue-subtle",icon:(0,t.jsx)(b.InformationFill,{color:"blue-700"}),className:"@md-page:hidden"}),(0,t.jsx)(a.Badge,{variant:"blue-subtle",className:"hidden @md-page:inline-flex",children:(0,t.jsxs)("span",{className:"font-sans font-medium",children:[n," Recommendation",1===n?"":"s"]})})]})}function q(){return(0,t.jsx)(a.Badge,{variant:"amber-subtle",icon:(0,t.jsx)(f.WarningFill,{color:"amber-700"}),children:(0,t.jsxs)("span",{className:"font-medium font-sans hidden @md-page:inline",children:[(0,t.jsx)("span",{className:"normal-case",children:"Node.js"})," version override"]})})}function G(e){let{text:n="Enabled"}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.CheckCircleFill,{color:"blue-700"}),(0,t.jsx)("span",{className:"group-hover:underline",children:n})]})}function W(e){let{Icon:n,text:i="Disabled"}=e;return(0,t.jsxs)(t.Fragment,{children:[n||(0,t.jsx)(p.CrossCircleFill,{color:"gray-900"}),(0,t.jsx)("span",{className:"group-hover:underline",children:i})]})}function K(){return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(g.SettingsGear,{color:"gray-900"}),(0,t.jsx)("span",{className:"group-hover:underline",children:"Manage"})]})}function Z(e){let{Icon:n,children:r,className:o,...a}=e;return(0,t.jsxs)("span",{className:(0,i.clsx)("text-label-14 flex flex-row items-center gap-2 whitespace-nowrap text-gray-900",o),...a,children:[n,r]})}function J(e){let{children:n,...i}=e;return(0,t.jsx)(Z,{Icon:(0,t.jsx)(y.CheckCircleFill,{color:"blue-700"}),...i,children:n})}function X(e){let{children:n,Icon:i,...r}=e;return(0,t.jsx)(Z,{Icon:i||(0,t.jsx)(p.CrossCircleFill,{color:"gray-900"}),...r,children:n})}function ee(e){let{recommendations:n,teamSlug:i,projectSlug:r}=e,o=(0,d.useRef)(new Set);(0,d.useEffect)(()=>{n.forEach(e=>{o.current.has(e.id)||(o.current.add(e.id),u.analytics.track("deployment_overview_recommendation_viewed",{recommendationId:e.id,legacy_action:m.VercelActivityAction.DeploymentOverviewRecommendationImpression},{send_to:{data_warehouse_legacy:!0,product_analytics:!0}}))})},[n]);let{data:a,mutate:l}=E({projectId:r,teamId:i}),{trigger:c}=function(e){let{projectId:t,teamId:n}=e;return(0,S.default)(["/api/deployment-settings-recommendation-dismissals",n,t],async(e,i)=>{let[r]=e,{arg:o}=i;return await (0,D.fetchAPI)(r,{method:"PATCH",body:{teamId:n,projectId:t,recommendationId:o},throwOnHTTPError:!0})})}({projectId:r,teamId:i});return 0===n.length?null:(0,t.jsxs)("section",{className:"flex flex-col gap-3 px-10 py-4 border-t",children:[(0,t.jsx)("h3",{className:"font-medium text-heading-14",children:"Recommendations"}),(0,t.jsx)("div",{className:"grid grid-cols-1 @lg-page:grid-cols-3 gap-3 align-stretch",children:n.map(e=>{let n;return(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)(v.Link,{href:((n=new URL(e.resolveUrl({teamSlug:i,projectSlug:r}),window.location.origin)).searchParams.has("source")||n.searchParams.set("source","recommendation-card"),n.pathname+n.search+n.hash),onClick:()=>{u.analytics.track("deployment_overview_recommendation_clicked",{recommendationId:e.id,legacy_action:m.VercelActivityAction.DeploymentOverviewRecommendationClick},{send_to:{data_warehouse_legacy:!0,product_analytics:!0}}),u.analytics.track("deployment_overview_config_clicked",{section:e.trackingSection,isRecommendation:!0,legacy_action:m.VercelActivityAction.DeploymentOverviewConfigClick},{send_to:{data_warehouse_legacy:!0,product_analytics:!0}})},className:"block h-full px-4 py-3 group material-small hover:border-gray-500",children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("div",{className:"font-medium text-label-14 text-gray-1000",children:e.title}),(0,t.jsx)("div",{className:"text-gray-900 text-label-14 text-pretty",children:e.message})]})}),(0,t.jsx)(s.Button,{className:"absolute z-10 hidden group-focus-within:block group-hover:block -top-2 -right-2","aria-label":"Dismiss notification",type:"secondary",shape:"circle",svgOnly:!0,size:"tiny",tabIndex:0,onClick:()=>{l([...a??[],e.id],{populateCache:!0,revalidate:!1,rollbackOnError:!0}),c(e.id),u.analytics.track("deployment_overview_recommendation_dismissed",{recommendationId:e.id,legacy_action:m.VercelActivityAction.DeploymentOverviewRecommendationDismissal},{send_to:{data_warehouse_legacy:!0,product_analytics:!0}})},children:(0,t.jsx)(x.CrossSmall,{})})]},e.id)})})]})}e.s(["DeploymentConfiguration",0,function(e){let{project:n,deployment:i,className:l}=e,{teamSlug:p="",project:g=""}=(0,C.useParams)()??{},{team:h}=(0,_.useTeam)(),y=!h?.billing?.plan||"hobby"===h.billing.plan,x=(0,j.useOpenUpgradeModal)(),b=(0,N.getDeploymentConfiguration)({deployment:i,project:n}),{data:S,isLoading:k}=function(e){let{project:t,deployment:n,team:i}=e,{teamSlug:r="",project:o=""}=(0,C.useParams)()??{},{data:a,isLoading:s}=E({projectId:o,teamId:r}),l=(0,N.getDeploymentConfiguration)({deployment:n,project:t}),c=(0,A.default)(l&&i&&t&&n?["deployment-config-recommendations",n.id]:null,async()=>{if(!l||!i||!t||!n)return[];let e=(await Promise.all(L.map(async e=>({recommendation:e,shouldShow:await e.shouldShow({deployment:n,project:t,deploymentConfig:l.deploymentConfig,buildMachineForDisplay:F(t,i,l.deploymentConfig),memoryType:O(l),isHobby:!i?.billing?.plan||"hobby"===i.billing.plan,team:i})})))).map(e=>e.shouldShow?e.recommendation:null).filter(e=>null!==e);return Object.entries((0,T.groupBy)(e,e=>e.groupId??"default")).reduce((e,t)=>{let[n,i]=t;if("default"===n)return e.concat(i);let r=i.toSorted((e,t)=>t.priority-e.priority);return e.concat(r[0])},[]).toSorted((e,t)=>t.priority-e.priority)}),u=(0,d.useMemo)(()=>s?void 0:c.data?.filter(e=>!a?.includes(e.id)),[a,c.data,s]);return{...c,data:u,isLoading:c.isLoading||s}}({project:n,deployment:i,team:h}),D=O(b),M=F(n,h,b?.deploymentConfig),I=(0,$.getDeploymentConcurrencyMode)(n,b?.deploymentConfig);function R(e){return()=>{u.analytics.track("deployment_overview_config_clicked",{section:e,legacy_action:m.VercelActivityAction.DeploymentOverviewConfigClick},{send_to:{data_warehouse_legacy:!0,product_analytics:!0}})}}let[B,U]=(0,d.useMemo)(()=>{let[e,...t]=P.BUILD_MACHINES[M].label.split(" ");return[e,t.join(" ")]},[M]);if(!b)return(0,t.jsx)(H,{className:l});let{deploymentConfig:Z,projectConfig:et}=b,en=Z?.nodeVersion&&Z.nodeVersion!==et.nodeVersion;return(0,t.jsxs)(Y,{className:l,titleContent:(0,t.jsxs)("div",{className:"flex gap-2",children:[en?(0,t.jsx)(q,{}):null,S&&S.length>0&&!k?(0,t.jsx)(r.motion.div,{initial:{opacity:0},animate:{opacity:1},children:(0,t.jsx)(Q,{count:S.length})}):null]}),inlineConfig:S&&0===S.length&&!k?(0,t.jsxs)(r.motion.div,{className:"hidden flex-row items-center gap-3 @lg-page:flex",initial:{opacity:0},animate:{opacity:1},children:[Z&&"fluid"===Z.functionType?(0,t.jsx)(J,{children:"Fluid Compute"}):(0,t.jsx)(X,{children:"Fluid Compute"}),et.deploymentProtection?(0,t.jsx)(J,{children:"Deployment Protection"}):(0,t.jsx)(X,{Icon:(0,t.jsx)(f.WarningFill,{color:"amber-800"}),children:"Deployment Protection"}),et.skewProtectionMaxAge?(0,t.jsx)(J,{children:"Skew Protection"}):(0,t.jsx)(X,{children:"Skew Protection"}),y?(0,t.jsx)(X,{children:"Cold Start Prevention"}):(0,t.jsx)(J,{children:"Cold Start Prevention"})]}):null,children:[(0,t.jsx)(ee,{recommendations:S??[],teamSlug:p,projectSlug:g}),(0,t.jsxs)("section",{className:"flex flex-col gap-3 px-10 py-4 border-t bg-background-200",children:[(0,t.jsx)("h3",{className:"font-medium text-heading-14",children:"Build Settings"}),(0,t.jsxs)("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(250px,1fr))] @lg-page:grid-cols-3 gap-3",children:[(0,t.jsx)(w.Attribute,{title:"On-Demand Concurrent Builds",children:(0,t.jsx)(w.Attribute.Item,{children:(0,t.jsx)(v.Link,{className:"group contents",href:`/${p}/${g}/settings/build-and-deployment#on-demand-concurrent-builds`,onClick:R("on-demand-concurrent-builds"),children:"disabled"===I?(0,t.jsx)(W,{text:V.DEPLOYMENT_CONCURRENCY_MODE_LABELS[I]}):(0,t.jsx)(G,{text:V.DEPLOYMENT_CONCURRENCY_MODE_LABELS[I]})})})}),(0,t.jsx)(w.Attribute,{title:"Build Machine",children:(0,t.jsx)(w.Attribute.Item,{children:(0,t.jsx)(v.Link,{className:"group contents",href:`/${p}/${g}/settings/build-and-deployment#build-machine`,onClick:R("build-machine"),children:M?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"group-hover:underline",children:[B,(0,t.jsxs)("span",{className:"hidden @xl-page:inline",children:[" ",U]})]}),(0,t.jsxs)(a.Badge,{size:"sm",variant:"blue-subtle",capitalize:!1,children:[P.BUILD_MACHINES[M].cpu," vCPU",P.BUILD_MACHINES[M].cpu<=1?"":"s"]}),(0,t.jsxs)(a.Badge,{size:"sm",variant:"blue-subtle",capitalize:!1,children:[P.BUILD_MACHINES[M].memory," GB Memory"]})]}):(0,t.jsx)(K,{})})})}),(0,t.jsx)(w.Attribute,{title:"Prioritize Production Builds",children:(0,t.jsx)(w.Attribute.Item,{children:(0,t.jsx)(v.Link,{className:"group contents",href:`/${p}/${g}/settings/build-and-deployment#prioritize-production-builds`,onClick:R("prioritize-production-builds"),children:n?.productionDeploymentsFastLane?(0,t.jsx)(G,{}):(0,t.jsx)(W,{})})})})]})]}),(0,t.jsxs)("section",{className:"flex flex-col gap-3 px-10 py-4 border-t bg-background-200 rounded-b-md",children:[(0,t.jsx)("h3",{className:"font-medium text-heading-14",children:"Runtime Settings"}),(0,t.jsxs)("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(250px,1fr))] @lg-page:grid-cols-3 gap-3",children:[(0,t.jsx)(w.Attribute,{title:"Fluid Compute",children:(0,t.jsx)(w.Attribute.Item,{className:"capitalize",children:(0,t.jsx)(v.Link,{className:"group contents",href:`/${p}/${g}/settings/functions#fluid-compute`,onClick:R("fluid"),children:Z?"fluid"===Z.functionType?(0,t.jsx)(G,{}):(0,t.jsx)(W,{}):(0,t.jsx)(K,{})})})}),(0,t.jsx)(w.Attribute,{title:"Function CPU",children:(0,t.jsx)(w.Attribute.Item,{children:(0,t.jsx)(v.Link,{className:"group contents",href:`/${p}/${g}/settings/functions#function-cpu`,onClick:R("function-cpu"),children:D?(0,t.jsxs)(t.Fragment,{children:["Basic"===D.label&&Z?.functionType==="fluid"?null:(0,t.jsx)("span",{className:"group-hover:underline",children:D.label}),(0,t.jsxs)(a.Badge,{size:"sm",variant:"blue-subtle",capitalize:!1,children:[D.cpu," vCPU",D.cpu<=1?"":"s"]}),(0,t.jsxs)(a.Badge,{size:"sm",variant:"blue-subtle",capitalize:!1,children:[D.memory," GB Memory"]})]}):(0,t.jsx)(K,{})})})}),Z?.nodeVersion?(0,t.jsx)(w.Attribute,{title:"Node.js Version",children:(0,t.jsx)(w.Attribute.Item,{children:(0,t.jsx)(v.Link,{className:"group contents",href:`/${p}/${g}/settings/build-and-deployment#node.js-version`,onClick:R("node-js-version"),children:en?(0,t.jsx)(c.Tooltip,{text:"Project Setting overridden by package.json",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.WarningFill,{color:"amber-800"}),(0,t.jsxs)("span",{className:"group-hover:underline",children:[(0,t.jsx)("span",{children:Z.nodeVersion})," ",(0,t.jsx)("span",{className:"text-gray-900 line-through",children:et.nodeVersion})]})]})}):(0,t.jsx)("span",{className:"group-hover:underline",children:Z.nodeVersion})})})}):null,(0,t.jsx)(w.Attribute,{title:"Deployment Protection",children:(0,t.jsx)(w.Attribute.Item,{children:(0,t.jsx)(v.Link,{className:"group contents",href:`/${p}/${g}/settings/deployment-protection#vercel-authentication`,onClick:R("vercel-authentication"),children:et.deploymentProtection?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(G,{text:z[et.deploymentProtection]})}):(0,t.jsx)(W,{Icon:(0,t.jsx)(f.WarningFill,{color:"amber-800"})})})})}),(0,t.jsx)(w.Attribute,{title:"Skew Protection",children:(0,t.jsx)(w.Attribute.Item,{children:(0,t.jsx)(v.Link,{className:"group contents",href:`/${p}/${g}/settings/advanced#skew-protection`,onClick:R("skew-protection"),children:et.skewProtectionMaxAge?(0,t.jsx)(G,{text:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:"group-hover:underline",children:"Enabled"}),(0,t.jsx)("span",{className:"text-gray-900 group-hover:underline",children:(0,o.default)(1e3*et.skewProtectionMaxAge,{long:!0})})]})}):(0,t.jsx)(W,{})})})}),(0,t.jsx)(w.Attribute,{title:"Cold Start Prevention",children:(0,t.jsx)(w.Attribute.Item,{children:y?(0,t.jsx)(s.Button,{className:"group [&>span]:p-0 [&>span]:flex [&>span]:items-center [&>span]:gap-2",variant:"unstyled",onClick:()=>{R("cold-start-prevention"),x({teamHint:p,source:"deployment-configuration-cold-start-prevention"})},children:(0,t.jsx)(W,{})}):(0,t.jsx)(G,{})})}),Z?.secureComputePrimaryRegion?(0,t.jsx)(w.Attribute,{title:"Secure Compute",children:(0,t.jsx)(w.Attribute.Item,{children:(0,t.jsx)(v.Link,{className:"group",href:`/${p}/~/settings/secure-compute`,onClick:R("secure-compute"),children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("span",{className:"group-hover:underline",children:"Primary"}),(0,t.jsx)(a.Badge,{className:"text-label-13-mono mx-1 !lowercase",size:"sm",variant:"gray-subtle",children:Z.secureComputePrimaryRegion})]}),Z.secureComputeFallbackRegion?(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("span",{className:"group-hover:underline",children:"Fallback"}),(0,t.jsx)(a.Badge,{className:"text-label-13-mono mx-1 !lowercase",size:"sm",variant:"gray-subtle",children:Z.secureComputeFallbackRegion})]}):null]})})})}):null]})]})]})},"DeploymentConfigurationRoot",0,Y,"DeploymentConfigurationSkeleton",0,function(e){let{className:n}=e;return(0,t.jsx)(Y,{className:n,isLoading:!0})}],5566974)},1298796,e=>{"use strict";var t=e.i(4205214),n=e.i(9722978),i=e.i(7137884),r=e.i(8517043);e.s(["DeploymentCardContainer",0,function(e){let{children:i,variant:r="default"}=e;return(0,t.jsx)("div",{className:(0,n.clsx)("relative material-base isolate !rounded-md","after:absolute after:-inset-px after:bottom-0 after:z-[-2] after:block after:rounded-md after:bg-gradient-to-b after:from-gray-300 after:from-40% after:to-90% after:content-['']","before:absolute before:inset-0 before:bottom-px before:z-[-1] before:block before:rounded-md before:content-['']",{"before:bg-background-100 after:to-gray-200":"light"===r,"before:bg-background-200 after:to-gray-300":"default"===r,"before:bg-red-300 after:to-red-400":"error"===r,"before:bg-amber-300 after:to-amber-400":"warning"===r}),children:i})},"DeploymentCardStatusBar",0,function(e){let{variant:o="default",children:a,...s}=e;return(0,t.jsxs)(r.Fieldset,{className:(0,n.clsx)("relative w-full rounded-b-[7px] rounded-t-none shadow-none",{"bg-background-100":"light"===o,"bg-background-200":"default"===o,"bg-red-300 text-red-900":"error"===o,"bg-amber-200 text-amber-900":"warning"===o}),...s,children:["default"!==o&&"light"!==o?(0,t.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:"error"===o?"repeating-linear-gradient(-45deg, transparent, transparent 16px, var(--ds-red-400) 16px, var(--ds-red-400) 32px)":"repeating-linear-gradient(-45deg, transparent, transparent 16px, var(--ds-amber-400) 16px, var(--ds-amber-400) 32px)",maskImage:"linear-gradient(to left, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 30%)"}}):null,(0,t.jsx)(i.FieldsetContent,{className:"flex w-full items-center justify-between bg-transparent px-4 py-3 @md-page:py-0 @md-page:pl-4 @md-page:pr-2",children:(0,t.jsx)("div",{className:"space-between text-copy-14 flex w-full flex-col items-start gap-x-2 gap-y-4 @md-page:h-12 @md-page:flex-row @md-page:items-center",children:a})})]})},"DeploymentCardStatusBarLeft",0,function(e){let{children:i,className:r}=e;return(0,t.jsx)("div",{className:(0,n.clsx)("flex min-h-[44px] w-full items-center @lg-page:min-h-full",r),children:i})},"DeploymentCardStatusBarRight",0,function(e){let{children:n}=e;return(0,t.jsx)("div",{className:"w-full shrink-0 @md-page:ml-auto @md-page:w-auto @md-page:text-right",children:n})},"getStatusBarVariant",0,function(e){let{productionDeploymentIsStale:t,upcomingDeployment:n,isLoading:i}=e;return i?"default":t?"warning":n?.aliasError?"error":"default"}])}]);

//# debugId=7cacb74c-3afe-c27f-3d9d-0fba2da129a4
//# sourceMappingURL=a726669e4b2b56f9.js.map