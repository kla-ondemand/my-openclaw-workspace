;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="5c5b321c-b039-f0c5-7d39-a8223d04b10d")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2327170,7713429,e=>{"use strict";var t=e.i(4205214),a=e.i(6420219),r=e.i(3954609),s=e.i(8161149),i=e.i(8459493),l=e.i(8735244),n=e.i(5232300),o=e.i(6318858),c=e.i(3487134),d=e.i(8664271),u=e.i(6357175),m=e.i(8835183),p=e.i(8042625),h=e.i(277234),x=e.i(9668517),g=e.i(850302);function f(){let{search:e,options:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,x.useTeamSlug)();return(0,g.default)(a?function(e){let{teamSlug:t,search:a}=e;return`/api/dashboard/projects-filters${(0,p.encode)({teamId:t,...a?{search:a.query,type:a.type}:void 0})}`}({teamSlug:a,search:e}):null,e=>(0,h.fetchAPI)(e),{revalidateOnFocus:!1,...t,revalidateIfStale:!1})}e.s(["useDashboardProjectFilters",0,f],7713429);var j=e.i(2695633),v=e.i(8660982),y=e.i(6698404),w=e.i(3322724),b=e.i(7027445);function N(e){let{item:a,onClick:r,isSelected:s}=e,{key:{gitType:l,gitOwner:n,gitRepo:c}}=a,d=`https://${l}.${"bitbucket"===l?"org":"com"}/${n}/${c}`;return(0,t.jsx)(i.MenuItem,{onClick:r,children:(0,t.jsxs)("div",{className:"flex w-full flex-row items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex min-w-0 flex-row items-center gap-1.5",children:[(0,t.jsx)(j.GitLogo,{className:"shrink-0",gitType:l}),(0,t.jsxs)("span",{className:"truncate",children:[n,"/",c]})]}),s?(0,t.jsx)(o.Check,{color:"gray-900",className:"shrink-0"}):null]})},d)}function k(e){let{item:a,onClick:r,isSelected:s}=e,{key:{name:l}}=a;return(0,t.jsx)(i.MenuItem,{onClick:r,children:(0,t.jsxs)("div",{className:"flex w-full flex-row items-center justify-between gap-2",children:[(0,t.jsx)("div",{className:"flex min-w-0 flex-row items-center gap-1.5",children:(0,t.jsx)("span",{className:"truncate",children:l})}),s?(0,t.jsx)(o.Check,{color:"gray-900",className:"shrink-0"}):null]})})}function S(e){let{type:r,queryKey:i,queryDefinition:o,MenuItemComponent:c,placeholder:d,limit:p=10,serialize:h,deserialize:x,initialData:g}=e,[j,y,{currentValue:b}]=(0,u.useDebounceState)("",300),N=(0,w.useIsMobile)(),{actions:k}=(0,n.useMenu)(),S=(0,v.useRef)(void 0),[C,I]=(0,a.useQueryState)(i,o),{data:P,isLoading:M}=f({search:j?{query:j,type:r}:void 0}),L=(0,v.useMemo)(()=>{if(!P?.[r]&&!g?.length)return;let e=P?.[r]?.map(e=>({...e,serialized:h(e.key),fromSearch:!0}))??[];if(!j)for(let t of g??[]){let a=h(t),r=e.find(e=>e.serialized===a);r?(r.count+=1,r.fromSearch=!1):e.push({key:t,serialized:a,count:1,fromSearch:!1})}let t=e.sort((e,t)=>e.fromSearch!==t.fromSearch?e.fromSearch?1:-1:t.count-e.count),a=C?e.find(e=>e.serialized===C)??(()=>{let e=x(C);if(e)return{key:e,serialized:C,count:0}})():void 0;return a?[a,...t.filter(e=>e.serialized!==a.serialized).slice(0,p-1)]:t.slice(0,p)},[P,r,g,j,C,p,h,x]);L&&P?.[r]&&(S.current=L);let D=!P?.[r]&&S.current?S.current:L;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("li",{className:"mx-px mb-2",children:(0,t.jsx)(m.SearchInput,{autoFocus:!N,clearable:!1,loading:j.length>0&&M,onChange:e=>y(e.target.value),placeholder:`Search ${d}â€¦`,suffixStyling:!1,value:b})}),D?D.map(e=>(0,t.jsx)(c,{item:e,isSelected:e.serialized===C,onClick:()=>{(0,v.startTransition)(async()=>{await I(e.serialized===C?null:e.serialized)}),k.setOpen(!1)}},e.serialized)):null,D&&0===D.length?(0,t.jsx)(s.EmptyState.Root,{border:!1,description:"No Results"}):null,P?.[r]||S.current?null:(0,t.jsx)("div",{className:"flex w-full items-center justify-center py-4",children:(0,t.jsx)(l.Spinner,{})})]})}e.s(["ProjectsGroupFilterItem",0,function(e){let{onClick:s}=e,[l]=(0,a.useQueryState)("mfe",r.teamOverviewSearchParams.mfe);return(0,t.jsx)(i.MenuItem,{onClick:s,prefix:(0,t.jsx)(c.Microfrontends,{}),suffix:l?(0,t.jsx)(o.Check,{color:"gray-900"}):null,children:"Microfrontend"})},"ProjectsGroupFilterMenu",0,function(){return(0,t.jsx)(S,{type:"groups",queryKey:"mfe",queryDefinition:r.teamOverviewSearchParams.mfe,placeholder:"microfrontends",MenuItemComponent:k,limit:10,...r.mfeFilter})},"ProjectsRepositoryFilterItem",0,function(e){let{onClick:s}=e,[l]=(0,a.useQueryState)("repo",r.teamOverviewSearchParams.repo);return(0,t.jsx)(i.MenuItem,{onClick:s,prefix:(0,t.jsx)(d.Repositories,{}),suffix:l?(0,t.jsx)(o.Check,{color:"gray-900"}):null,children:"Repository"})},"ProjectsRepositoryFilterMenu",0,function(){let e=(0,y.useTeamOverviewState)(e=>e.projectRepos);return(0,t.jsx)(S,{type:"repos",queryKey:"repo",queryDefinition:r.teamOverviewSearchParams.repo,placeholder:"repositories",MenuItemComponent:N,initialData:e,...r.repositoryFilter})},"ProjectsV0Filter",0,function(){let[e,s]=(0,a.useQueryState)("v0",r.teamOverviewSearchParams.v0),{actions:l}=(0,n.useMenu)(),c=e=>{l.setOpen(!1),(0,v.startTransition)(async()=>{await s(e)})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.MenuItem,{prefix:(0,t.jsx)(b.LogoV0,{}),suffix:!1===e?(0,t.jsx)(o.Check,{color:"gray-900"}):null,onClick:()=>c(!1===e&&null),children:"Hide v0 projects"}),(0,t.jsx)(i.MenuItem,{prefix:(0,t.jsx)(b.LogoV0,{}),suffix:!0===e?(0,t.jsx)(o.Check,{color:"gray-900"}):null,onClick:()=>c(!0!==e||null),children:"Show only v0 projects"})]})}],2327170)},9798117,e=>{"use strict";var t=e.i(4205214),a=e.i(8674454),r=e.i(6694387),s=e.i(4991687),i=e.i(5326905),l=e.i(8459493),n=e.i(940143),o=e.i(5232300),c=e.i(6318858),d=e.i(4756166),u=e.i(6420219),m=e.i(8660982),p=e.i(3954609),h=e.i(2327170),x=e.i(7713429),g=e.i(7750276);function f(e){let{prefetch:a,onClose:r}=e,{state:s}=(0,o.useMenu)();return(0,m.useEffect)(()=>{s.open||r()},[r,s.open]),s.open||a?(0,t.jsx)(j,{}):null}function j(){return(0,x.useDashboardProjectFilters)(),null}function v(){let[{sort:e},a]=(0,u.useQueryStates)(p.teamOverviewSearchParams),{actions:r}=(0,o.useMenu)();return(0,t.jsxs)(n.MenuSection,{title:"Sort by",children:[(0,t.jsx)(l.MenuItem,{suffix:e?null:(0,t.jsx)(c.Check,{color:"gray-900"}),onClick:()=>{r.setOpen(!1),(0,m.startTransition)(async()=>{await a({sort:null})})},children:"Activity"}),(0,t.jsx)(l.MenuItem,{suffix:"name"===e?(0,t.jsx)(c.Check,{color:"gray-900"}):null,onClick:()=>{r.setOpen(!1),(0,m.startTransition)(async()=>{await a({sort:"name"})})},children:"Name"})]})}e.s(["ProjectsFiltersMenu",0,function(e){let{projectViewMenuItems:l}=e,[o,c]=(0,m.useState)(void 0),[u,p]=(0,m.useState)(!1),x=(0,m.useMemo)(()=>"repositories"===o?(0,t.jsx)(h.ProjectsRepositoryFilterMenu,{}):"groups"===o?(0,t.jsx)(h.ProjectsGroupFilterMenu,{}):null,[o]),{value:j}=(0,g.useEntitlement)("v0-team-seats");return(0,t.jsxs)(s.MenuContainer,{closeOnSelect:!1,children:[(0,t.jsx)(r.MenuButton,{svgOnly:!0,type:"secondary",size:"medium","aria-label":"Filter and Sort Projects",shape:"square",onMouseEnter:()=>{p(!0)},children:(0,t.jsx)(d.ListFilter,{})}),(0,t.jsx)(a.Menu,{width:280,children:x||(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.MenuSection,{title:"Filter by",children:[(0,t.jsx)(h.ProjectsRepositoryFilterItem,{onClick:()=>c("repositories")}),(0,t.jsx)(h.ProjectsGroupFilterItem,{onClick:()=>c("groups")})]}),(0,t.jsx)(i.MenuDivider,{}),(0,t.jsx)(v,{}),j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.MenuDivider,{}),(0,t.jsx)(n.MenuSection,{title:"Preferences",children:(0,t.jsx)(h.ProjectsV0Filter,{})})]}),l]})}),(0,t.jsx)(f,{prefetch:u,onClose:()=>{c(void 0)}})]})}])},8662297,e=>{"use strict";var t=e.i(9171423),a=e.i(4244280);let r=async e=>{let{scopeId:r,viewPreference:s,favoritesViewPreference:i,recentsViewPreference:l}=e;r&&await (0,t.fetchApi)(a.API_USER,{method:"PATCH",body:{scopeId:r,viewPreference:s,favoritesViewPreference:i,recentsViewPreference:l}})};e.s(["updatePreferredScopeAndDashboardView",0,r])},6779607,e=>{"use strict";var t=e.i(4205214),a=e.i(8660982),r=e.i(5677444),s=e.i(8662297);function i(e,t){let i=(0,r.useSearchParams)(),l=i?.get("view")==="list"?"list":t??"grid",[n,o]=(0,a.useState)(i?.get("sort")==="name"?"name":"default"),[c,d]=(0,a.useState)(l);(0,a.useEffect)(()=>{i?.has("sort")?o("name"===i.get("sort")?"name":"default"):o("default"),i?.has("view")&&d("list"===i.get("view")?"list":"grid")},[i]);let u=(0,a.useCallback)(t=>{e&&((0,s.updatePreferredScopeAndDashboardView)({scopeId:e,viewPreference:"list"===t?"list":"cards"}),d("list"===t?"list":"grid"))},[e]);return{sort:n,view:c,setSort:o,setView:d,saveViewPreferences:u}}var l=e.i(5326905),n=e.i(8459493),o=e.i(940143),c=e.i(8923565),d=e.i(5232300),u=e.i(6420219),m=e.i(3954609),p=e.i(6318858),h=e.i(2762633),x=e.i(9550268);e.s(["ProjectViewMenuItems",0,function(e){let{initialValue:r,ownerId:s}=e,[{view:c="grid"},g]=(0,u.useQueryStates)(m.teamOverviewSearchParams),{view:f,saveViewPreferences:j}=i(s,c??r??void 0),{actions:v}=(0,d.useMenu)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.MenuDivider,{className:"@lg-page:hidden"}),(0,t.jsxs)(o.MenuSection,{title:"View",className:"@lg-page:hidden",children:[(0,t.jsx)(n.MenuItem,{prefix:(0,t.jsx)(h.GridSquare,{}),suffix:"grid"===f?(0,t.jsx)(p.Check,{color:"gray-900"}):null,onClick:()=>{j("grid"),v.setOpen(!1),(0,a.startTransition)(async()=>{await g({view:"grid"})})},children:"Grid View"}),(0,t.jsx)(n.MenuItem,{prefix:(0,t.jsx)(x.ListUnordered,{}),suffix:"list"===f?(0,t.jsx)(p.Check,{color:"gray-900"}):null,onClick:()=>{j("list"),v.setOpen(!1),(0,a.startTransition)(async()=>{await g({view:"list"})})},children:"List View"})]})]})},"ProjectViewSwitch",0,function(e){let{initialValue:a,ownerId:r}=e,[{view:s="grid"},l]=(0,u.useQueryStates)(m.teamOverviewSearchParams),{view:n,saveViewPreferences:o}=i(r,s??a??void 0);return(0,t.jsxs)(c.Switch,{className:"hidden @lg-page:flex",children:[(0,t.jsx)(c.Switch.Control,{checked:"grid"===n,icon:(0,t.jsx)(h.GridSquare,{}),label:"grid",onChange:()=>{o("grid"),l({view:"grid"})}}),(0,t.jsx)(c.Switch.Control,{checked:"list"===n,icon:(0,t.jsx)(x.ListUnordered,{}),label:"list",onChange:()=>{o("list"),l({view:"list"})}})]})}],6779607)},6091627,e=>{"use strict";var t=e.i(2144405),a=e.i(4205214),r=e.i(5257834),s=e.i(7780974),i=e.i(1853611),l=e.i(1295503);e.s(["ClientCreateMenuItem",0,function(e){let{href:n,trackingTarget:o,label:c,testid:d,onClick:u}=e,m=()=>{i.analytics.track(s.VercelActivityAction.AddNewMenuItemClicked,{target:o},{send_to:{data_warehouse_legacy:!0}}),u?.()};return"true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH?n?(0,a.jsx)(l.ActionMenuLink,{"data-testid":d,href:n,onClick:m,children:c}):(0,a.jsx)(l.ActionMenuItem,{"data-testid":d,onClick:m,children:c}):(0,a.jsx)(r.MenuLink,{"data-testid":d,href:n,onClick:m,shouldOnClickWhenLink:!0,children:c})}])},7818323,e=>{"use strict";var t=e.i(4205214),a=e.i(4004502);e.i(6483798);var r=e.i(8287059),s=e.i(6091627);e.s(["CreateTeamMenuItemClient",0,function(){let e=(0,r.useOpenUpgradeModal)();return(0,t.jsx)(s.ClientCreateMenuItem,{label:"Team",onClick:()=>{e({source:"add-new",forceCreateTeam:!0,trialBehavior:"choose"})},testid:(0,a.tid)("dashboard","team","add"),trackingTarget:"team"})}])},2943367,e=>{"use strict";var t=e.i(4205214),a=e.i(8660982),r=e.i(3954609),s=e.i(6420219),i=e.i(2504781),l=e.i(8674454),n=e.i(6694387),o=e.i(4991687),c=e.i(9096446),d=e.i(3487134),u=e.i(5614970),m=e.i(2327170);function p(e){let{label:a,prefix:r,onDismiss:s,MenuContent:d}=e;return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)(o.MenuContainer,{children:[(0,t.jsx)(n.MenuButton,{className:"!pl-2 !pr-1",prefix:r,type:"secondary",size:"small",shape:"rounded",suffix:(0,t.jsx)("div",{className:"size-6"}),children:a}),(0,t.jsx)(l.Menu,{width:280,children:(0,t.jsx)(d,{})})]}),(0,t.jsx)(i.Button,{svgOnly:!0,"aria-label":"Remove Filter",className:"absolute right-1 top-1",onClick:s,type:"tertiary",shape:"circle",size:"tiny",children:(0,t.jsx)(c.CrossSmall,{color:"gray-1000"})})]})}e.s(["ProjectFiltersPills",0,function(){let[{repo:e,mfe:i},l]=(0,s.useQueryStates)(r.teamOverviewSearchParams);if(!e&&!i)return null;let n=e?r.repositoryFilter.deserialize(e):void 0,o=i?r.mfeFilter.deserialize(i):void 0;return(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[n?(0,t.jsx)(p,{label:`${n.gitOwner}/${n.gitRepo}`,prefix:(0,t.jsx)(u.default,{gitType:n.gitType,width:16,height:16}),onDismiss:()=>{(0,a.startTransition)(async()=>{await l({repo:null})})},MenuContent:m.ProjectsRepositoryFilterMenu}):null,o?(0,t.jsx)(p,{label:o.name,prefix:(0,t.jsx)(d.Microfrontends,{}),onDismiss:()=>{(0,a.startTransition)(async()=>{await l({mfe:null})})},MenuContent:m.ProjectsGroupFilterMenu}):null]})}])},9388656,e=>{"use strict";e.s(["linkClassName",0,"min-w-0 text-inherit no-underline hover:underline [&>svg]:align-middle [&:not(:hover)>svg]:hidden [&>svg]:ml-1"])},5286689,4352669,e=>{"use strict";var t=e.i(4205214),a=e.i(8459493),r=e.i(6613731),s=e.i(9267266);function i(e){let{project:i}=e,{productionDeployment:l,domain:n}=i,o=function(e){if(!(!e||e.includes("*")))try{return new URL(`https://${e}`).href}catch{return}}(n),c=(0,s.useShouldVisitWithTheToolbar)(l);return o&&c?(0,t.jsx)(a.MenuItem,{className:"no-underline",href:(0,r.wrapURLWithFeedback)(o,{via:"team-dashboard-project-menu",isProduction:!0}),isLink:!0,children:"Visit with Toolbar"}):null}var l=e.i(5468328),n=e.i(8660982),o=e.i(1717203),c=e.i(7557283),d=e.i(9694629),u=e.i(5756088);function m(e){let{project:r}=e,s=(0,d.useOpenTransferModal)(),{preload:i,enablePreload:m}=(0,d.usePreloadTransferModal)(),{can:p}=(0,o.default)({projectIdOrName:r.name}),h=p(c.Action.Create,c.Resource.ProjectTransferOut);return(0,n.useEffect)(()=>{h&&!i&&m()},[h,i,m]),(0,t.jsx)(a.MenuItem,{innerMenuItemClassName:"no-underline !event-pointers-auto",onClick:()=>s({preselectedProjects:[r],source:"dashboard-transfer-menu-item"}),suffix:h?void 0:(0,t.jsx)(u.LockClosed,{}),disabled:!h,style:{textDecoration:"none"},children:h?"Transfer Project":(0,t.jsx)(l.Tooltip,{style:{textDecoration:"none"},text:"You need additional permissions to transfer this project.",children:"Transfer Project"})})}var p=e.i(1265647),h=e.i(9543208),x=e.i(387079),g=e.i(7681632);function f(e){let{isFavorite:a}=e,r=(0,g.shuffle)(v),s=(0,g.shuffle)(j);return(0,t.jsxs)(p.motion.div,{className:"group -mx-2 flex h-full w-[calc(100%+16px)] items-center justify-between px-2",children:[a?"Remove":"Add"," Favorite",(0,t.jsx)("span",{"aria-hidden":!0,style:{height:16},children:a?(0,t.jsx)(x.StarFill,{color:"gray-900"}):(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(h.Star,{color:"gray-900"}),(0,t.jsx)("div",{className:"absolute -left-1 -top-1 block size-6",children:y.map((e,a)=>(0,t.jsx)("div",{className:"absolute size-1.5 text-[--color]",style:{"--starting-position-x":`${e.start.position.x}px`,"--starting-position-y":`${e.start.position.y}px`,"--starting-scale":e.start.scale,"--ending-position-x":`${e.end.position.x}px`,"--ending-position-y":`${e.end.position.y}px`,"--ending-scale":e.end.scale,"--color":e.color,"--delay":`${s[a]}ms`,"--duration":`${r[a]}ms`},children:(0,t.jsx)(w,{className:"block translate-x-[--starting-position-x] translate-y-[--starting-position-y] scale-[--starting-scale] transition-transform ease-out group-hover:translate-x-[--ending-position-x] group-hover:translate-y-[--ending-position-y] group-hover:scale-[--ending-scale] group-hover:delay-0 group-hover:duration-100"})},a))})]})})]})}let j=[0,50,80,100,120],v=[150,180,200,260,340],y=[{delay:0,color:"var(--ds-purple-700)",start:{position:{x:6,y:6},scale:0},end:{position:{x:1,y:1},scale:1}},{delay:100,color:"var(--ds-amber-700)",start:{position:{x:13,y:6},scale:0},end:{position:{x:16,y:0},scale:.7}},{delay:100,color:"var(--ds-pink-700)",start:{position:{x:2,y:13},scale:0},end:{position:{x:0,y:13},scale:.5}},{delay:50,color:"var(--ds-teal-700)",start:{position:{x:9,y:15},scale:0},end:{position:{x:9,y:18},scale:.7}},{delay:200,color:"var(--ds-blue-700)",start:{position:{x:15,y:12},scale:0},end:{position:{x:18,y:13},scale:.5}}];function w(e){let{className:a}=e;return(0,t.jsx)("svg",{className:a,fill:"none",height:"6",viewBox:"0 0 6 6",width:"6",xmlns:"http://www.w3.org/2000/svg",style:{transitionDuration:"var(--duration)",transitionDelay:"var(--delay)"},children:(0,t.jsx)("path",{d:"M2.5 0.5V0H3.5V0.5C3.5 1.60457 4.39543 2.5 5.5 2.5H6V3V3.5H5.5C4.39543 3.5 3.5 4.39543 3.5 5.5V6H3H2.5V5.5C2.5 4.39543 1.60457 3.5 0.5 3.5H0V3V2.5H0.5C1.60457 2.5 2.5 1.60457 2.5 0.5Z",fill:"currentColor"})})}var b=e.i(1613936),N=e.i(9668517),k=e.i(8674454),S=e.i(6694387),C=e.i(4991687),I=e.i(5326905),P=e.i(940143),M=e.i(7027445),L=e.i(8876434),D=e.i(8172689),A=e.i(4597921);let F=(0,n.createContext)(()=>Promise.resolve([]));function T(){return(0,n.useContext)(F)}F.displayName="ProjectsMutateContext",e.s(["ProjectsMutateContextProvider",0,function(e){let{children:a,mutate:r}=e;return(0,t.jsx)(F.Provider,{value:r,children:a})},"useProjectsMutateContext",0,T],4352669);var R=e.i(6159310),z=e.i(3097514),O=e.i(250828),E=e.i(1853611),$=e.i(7780974);function V(e){let{project:r}=e,{isFavorite:s,removeFavorite:i,addFavorite:l}=function(e){let{addFavorite:t,removeFavorite:a,favorites:r}=(0,n.useContext)(_);return{addFavorite:()=>t(e),removeFavorite:()=>a(e),isFavorite:r.includes(e)}}(r.id),o=T();return(0,t.jsx)(a.MenuItem,{onClick:()=>{o(e=>{let[t,...a]=e??[];if(!t)return e;let{favorites:i=[]}=t,l=s?i.filter(e=>e.id!==r.id):[...i,r];return[{...t,favorites:l},...a]},{revalidate:!1}),(s?i():l()).finally(()=>{o()})},children:(0,t.jsx)(f,{isFavorite:s},r.id)})}function U(e){let{project:r}=e,s=(0,N.useTeamSlug)(),{can:i}=(0,o.default)({projectIdOrName:r.name}),n=(0,R.useLink)();if(!s||!r.link||"github"!==r.link.type)return null;let d=`https://github.com/${r.link.org}/${r.link.repo}`,m=i(c.Action.Create,c.Resource.Project),p=n("/new/[teamSlug]/import",{search:{s:d,"project-name":`${r.link?.org}-${r.link?.repo}`}}),h=(0,t.jsx)(a.MenuItem,{innerMenuItemClassName:"!pointer-events-auto no-underline",href:p,disabled:!m,isLink:m,suffix:m?null:(0,t.jsx)(u.LockClosed,{}),children:m?"Import Directory":(0,t.jsx)(l.Tooltip,{className:"no-underline",text:"You need additional permissions to create projects.",children:"Import Directory"})});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I.MenuDivider,{}),(0,t.jsxs)(P.MenuSection,{title:"Repository",children:[h,(0,t.jsx)(a.MenuItem,{isLink:!0,href:d,children:"View Git Repository"})]})]})}let _=(0,n.createContext)({addFavorite:()=>Promise.resolve(),removeFavorite:()=>Promise.resolve(),favorites:[]});_.displayName="ContextMenuContext",e.s(["ContextMenuContextProvider",0,function(e){let{children:a,teamId:r}=e,{addFavoriteAsync:s,removeFavoriteAsync:i,favorites:l}=(0,b.useFavoriteProjectsAndSpaces)(),o=(0,n.useMemo)(()=>({addFavorite:e=>s({projectId:e,teamId:r}),removeFavorite:e=>i({projectId:e,teamId:r}),favorites:l.filter(e=>e.teamId===r).map(e=>e.projectId)}),[s,l,i,r]);return(0,t.jsx)(_.Provider,{value:o,children:a})},"ProjectContextMenu",0,function(e){let{project:r}=e,s=(0,R.useLink)(),{name:o,productionDeployment:c}=r,d=(0,A.useServerFlag)("open-in-v0-dash-and-toolbar",!1),u=(0,A.useServerFlag)("open-in-v0-non-v0-projects",!1),p=d&&(r.v0||u),h=(0,z.getOpenInV0Url)(r,s),x=(0,t.jsxs)("span",{className:"flex flex-row items-center justify-start gap-1 flex-initial",children:[(0,t.jsx)("span",{children:"Open in"}),(0,t.jsx)(M.LogoV0,{})]});return(0,t.jsxs)(C.MenuContainer,{children:[(0,t.jsx)(S.MenuButton,{type:"tertiary",svgOnly:!0,"aria-label":"Project Menu",size:"small",shape:"square",children:(0,t.jsx)(L.MoreHorizontal,{})}),(0,t.jsxs)(k.Menu,{width:200,children:[(0,t.jsx)(V,{project:r}),p&&"hidden"!==h.status?(0,t.jsx)(a.MenuItem,{innerMenuItemClassName:"!pointer-events-auto no-underline",disabled:"disabled"===h.status,isLink:"visible"===h.status,href:"visible"===h.status?h.openInV0Url:void 0,target:"_blank",shouldOnClickWhenLink:!0,onClick:()=>{E.analytics.track($.VercelActivityAction.OpenInV0Clicked,{source:"project-card-context-menu"},{send_to:{data_warehouse_legacy:!0}})},children:"disabled"===h.status?(0,t.jsx)(l.Tooltip,{className:"no-underline",text:h.disabledTooltipContent,children:x}):(0,t.jsx)(O.OpenInV0ImpressionTracker,{source:"project-card-context-menu",children:x})}):null,(0,t.jsx)(i,{project:r}),(0,t.jsx)(a.MenuItem,{className:"no-underline",disabled:!c,href:s("/[teamSlug]/[project]/logs",{params:{project:o}}),prefetch:!1,isLink:!!c,children:"View Logs"}),(0,t.jsx)(a.MenuItem,{className:"no-underline",href:s("/[teamSlug]/[project]/settings/domains",{params:{project:o}}),isLink:!0,children:"Manage Domains"}),(0,t.jsx)(m,{project:r}),(0,t.jsx)(a.MenuItem,{className:"no-underline",href:s("/[teamSlug]/[project]/settings",{params:{project:o}}),isLink:!0,children:"Settings"}),r.link?(0,t.jsx)(D.ErrorBoundary,{fallback:null,children:(0,t.jsx)(n.Suspense,{fallback:null,children:(0,t.jsx)(U,{project:r})})}):null]})]})}],5286689)},1107069,e=>{"use strict";var t=e.i(4205214),a=e.i(2560270),r=e.i(2504781),s=e.i(6143247),i=e.i(57106);e.s(["ProjectsHeading",0,function(e){let{title:l,onClick:n,expanded:o,className:c,attachment:d,href:u}=e,m="text-label-14 font-medium text-gray-1000",p=u&&!n?(0,t.jsx)(i.Link,{href:u,className:(0,s.cn)(m,"w-fit hover:underline"),children:l}):(0,t.jsx)("span",{className:m,children:l});return n?(0,t.jsx)(r.Button,{type:"tertiary","data-section-heading":!0,size:"small",className:(0,s.cn)("h-8 [&>span]:px-0",c),onClick:n,width:"fit-content",prefix:(0,t.jsx)(a.ChevronDown,{className:(0,s.cn)("transition-transform duration-200 ease-in-out",{"-rotate-90":!o})}),children:p}):(0,t.jsxs)("div",{"data-section-heading":!0,className:(0,s.cn)("flex h-8 flex-row items-center gap-0.5 px-1.5 justify-between",c),children:[p,d]})}])},8644057,e=>{"use strict";var t=e.i(4205214),a=e.i(2573136),r=e.i(6420219),s=e.i(3954609),i=e.i(9388656),l=e.i(6143247),n=e.i(2689512),o=e.i(8660982),c=e.i(6159310);function d(e){let{project:a}=e;return(0,t.jsx)(o.Suspense,{fallback:(0,t.jsx)(n.ProjectAvatarSkeleton,{}),children:(0,t.jsx)(c.DashboardLink,{route:"/[teamSlug]/[project]",params:{project:a.name},prefetch:!1,className:"h-8",children:(0,t.jsx)(n.ProjectAvatar,{project:a,skipSkeleton:!0})})})}var u=e.i(4004502);e.i(9623499);var m=e.i(5576066),p=e.i(109803);function h(e){let{project:a}=e,{domain:r}=a;return r?r.includes("*")?(0,t.jsx)("span",{className:"text-label-14 h-5 max-w-full truncate leading-5 text-gray-900",children:r}):(0,t.jsxs)(m.Link,{className:(0,l.cn)(i.linkClassName,"text-label-14 text-gray-900 h-5 truncate w-fit leading-5 max-w-full"),target:"_blank",prefetch:!1,href:`https://${r}`,children:[r,(0,t.jsx)(p.External,{size:14})]}):(0,t.jsx)("span",{className:"h-5 max-w-full truncate leading-5 text-gray-900",children:"No Production Deployment"})}var x=e.i(9481787),g=e.i(5614970),f=e.i(8529990),j=e.i(7218483),v=e.i(9668517);let y=(0,e.i(9334638).withNewIcon)(`<path d="M4 6.25V14.25" stroke="currentColor" stroke-width="1.5" stroke-linecap="square" stroke-linejoin="round"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.5 12C10.5 12.8284 11.1716 13.5 12 13.5C12.8284 13.5 13.5 12.8284 13.5 12C13.5 11.1716 12.8284 10.5 12 10.5C11.1716 10.5 10.5 11.1716 10.5 12ZM9.079 12.6869C9.38957 14.0127 10.5795 15 12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.6293 9 9.47333 9.91924 9.1149 11.1749C8.05096 10.9929 7.0611 10.4857 6.28769 9.71231C5.51428 8.9389 5.0071 7.94904 4.82513 6.8851C6.08076 6.52667 7 5.37069 7 4C7 2.34315 5.65685 1 4 1C2.34315 0.999999 1 2.34315 1 4C1 5.42051 1.98728 6.61042 3.3131 6.921C3.51279 8.37102 4.18025 9.72619 5.22703 10.773C6.2738 11.8197 7.62898 12.4872 9.079 12.6869ZM2.5 4C2.5 4.82843 3.17157 5.5 4 5.5C4.82843 5.5 5.5 4.82843 5.5 4C5.5 3.17157 4.82843 2.5 4 2.5C3.17157 2.5 2.5 3.17157 2.5 4Z" fill="currentColor"/>`);var w=e.i(1112630),b=e.i(9009020),N=e.i(5677444),k=e.i(6850581),S=e.i(6882489),C=e.i(5072965);function I(e){let{project:a}=e,r=(0,v.useTeamSlug)(),{name:s,link:n,productionDeployment:o}=a;if(!n){if(a.v0)return null;let e=(0,x.getDashboardHref)(`/${s}/settings/git`,r??void 0);return(0,t.jsx)(m.Link,{className:(0,l.cn)(i.linkClassName,"text-label-14 text-blue-900 h-5"),href:e,prefetch:!1,children:"Connect Git Repository"})}let c=(0,f.getGitInfoFromDeployment)(o);if(!c)return(0,t.jsx)("span",{className:"text-label-14 h-5 text-gray-700",children:"No Production Deployment"});let{id:d=""}=o??{},u=(0,x.getDashboardHref)(`/${s}/${d.replace("dpl_","")}`,r??void 0),[p]=c.commitMessage.split("\n");return(0,t.jsx)(m.Link,{className:(0,l.cn)(i.linkClassName,"text-label-14 text-gray-1000 font-medium truncate h-5"),href:u,prefetch:!1,children:p})}function P(e){let{project:a}=e,r=(0,v.useTeamSlug)(),{name:s,link:n,productionDeployment:o,updatedAt:c}=a,d=!!n,u=(0,f.getGitInfoFromDeployment)(o),p=new URL(`/${s}/deployments`,"https://vercel.com");d&&u&&p.searchParams.set("filterBranch",u.commitRef);let h=(0,x.getDashboardHref)(`${p.pathname}${p.search}`,r??void 0),g=(0,j.useAgo)(o?.createdAt??c),b=n?.productionBranch===u?.commitRef?" on":" from";return(0,t.jsxs)("div",{className:"flex h-5 flex-row items-center gap-1",children:[(0,t.jsxs)("span",{className:"text-label-14 flex-none text-gray-900",suppressHydrationWarning:!0,children:[(0,t.jsx)(k.RelativeTimeCard,{date:o?.createdAt??c,className:"relative z-10",side:"bottom",children:(0,t.jsx)("span",{suppressHydrationWarning:!0,children:g})}),d&&u?b:null]}),d&&u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y,{color:"gray-900",className:"flex-none"}),(0,t.jsx)(m.Link,{className:(0,l.cn)(i.linkClassName,"text-label-13-mono text-gray-900 truncate"),href:h,prefetch:!1,children:u.commitRef})]}):null,o?.deploymentIsStale?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-label-14 flex-none text-gray-900",children:"via"}),(0,t.jsx)(w.RotateClockwise,{size:14,color:"gray-1000",className:"flex-none"}),(0,t.jsx)("span",{className:"text-label-14 flex-none text-gray-1000",children:"Instant Rollback"})]}):null]})}let M=(0,b.createSerializer)(s.teamOverviewSearchParams);function L(e){let{project:a,className:i}=e,n=(0,N.usePathname)(),[c,d]=(0,r.useQueryStates)(s.teamOverviewSearchParams),{link:u}=a,p=(0,o.useMemo)(()=>{if(!u)return;let e=(0,S.getProjectLinkParts)(u);return{repoPath:(0,S.formatProjectLink)(u),href:s.repositoryFilter.serialize({gitType:u.type,gitOwner:e.org,gitRepo:e.repo})}},[u]),h=(0,o.useMemo)(()=>{if(!p)return"";let e=M({...c,repo:p.href});return`${n}${e}`},[p,c,n]);return u?(0,t.jsxs)(m.Link,{className:(0,l.cn)("flex min-w-0 flex-none flex-row items-center gap-0.5 rounded-full bg-gray-300 p-0.5 pr-1.5 w-fit",i),href:h,prefetch:!1,onClick:e=>{e.metaKey||e.shiftKey||e.ctrlKey||(e.preventDefault(),(0,o.startTransition)(async()=>{await d({repo:p?.href},{history:"push"})}))},...(0,C.createTrackingAttributes)({type:"filter",resource:"repo",source:"repo-pill"}),children:[(0,t.jsx)(g.default,{gitType:u.type,width:14,height:14,className:"m-0.5 shrink-0"}),(0,t.jsx)("span",{className:"text-label-12 truncate font-medium",children:p?.repoPath})]}):null}var D=e.i(3114048),A=e.i(5286689),F=e.i(7027445),T=e.i(7749291),R=e.i(4597921),z=e.i(3097514),O=e.i(250828),E=e.i(1853611),$=e.i(7780974);function V(e){let{project:a}=e;return(0,t.jsx)(o.Suspense,{fallback:null,children:(0,t.jsx)(U,{project:a})})}function U(e){let{project:a}=e,r=(0,c.useLink)(),s=(0,R.useServerFlag)("open-in-v0-dash-and-toolbar",!1),{productionDeployment:i,v0:l}=a;if(!l)return null;let n=i?.meta,o=(0,z.getOpenInV0Url)(a,r),d=null;return(s&&"visible"===o.status?d=o.openInV0Url:n?.v0BlockId&&n?.v0ChatId&&(d=`https://v0.app/chat/${n.v0ChatId}?b=${n.v0BlockId}`),d)?(0,t.jsx)(O.OpenInV0ImpressionTracker,{source:"project-card-badge",children:(0,t.jsxs)(m.Link,{className:"group flex items-center hover:text-gray-1000 font-medium min-w-0 flex-none flex-row gap-1 rounded-full bg-transparent hover:bg-gray-400 py-0.5 px-1.5 w-fit border border-gray-400 hover:border-gray-500 text-gray-900 text-label-12",href:d,prefetch:!1,"aria-label":"Open in v0",onClick:()=>{E.analytics.track($.VercelActivityAction.OpenInV0Clicked,{source:"project-card-badge"},{send_to:{data_warehouse_legacy:!0}})},children:[(0,t.jsx)(F.LogoV0,{size:18}),(0,t.jsx)(T.ExternalSmall,{className:"hidden group-hover:block",size:16})]})}):null}var _=e.i(5468328),B=e.i(3627160),H=e.i(7017723),G=e.i(6060673);function q(e){let{project:a}=e,r=(0,H.useIsImpersonating)(),{data:s}=(0,G.useProject)(r?a.id:null,{config:{revalidateOnFocus:!1}});return r&&s?.customerSupportCodeVisibility?(0,t.jsx)(_.Tooltip,{delay:!1,text:"Source Code Access enabled for support",children:(0,t.jsx)("span",{className:"inline-flex h-6 w-6 cursor-pointer items-center justify-center rounded-full bg-amber-200 text-amber-900",children:(0,t.jsx)(B.Code,{size:14})})}):null}var W=e.i(7173923);function K(e){let{projects:a}=e;return(0,t.jsx)("ul",{className:"material-small m-0 flex flex-col divide-solid p-0 divide-x-0 divide-y divide-gray-alpha-400",children:a.map(e=>(0,t.jsx)(Y,{project:e},e.id))})}function Y(e){let{project:a}=e;return(0,t.jsxs)("li",{className:"relative flex flex-col gap-4 p-4 leading-5 @xl-page:flex-row @xl-page:items-center [&_a]:z-10 [&_button]:z-10",children:[(0,t.jsx)(c.DashboardLink,{className:"absolute inset-0",prefetchStrategy:"hover",route:"/[teamSlug]/[project]",params:{project:a.name}}),(0,t.jsxs)("div",{className:"mr-24 flex min-w-0 flex-row gap-4 @xl-page:mr-0 @xl-page:w-[calc(25%+48px)]",children:[(0,t.jsx)("div",{className:"flex flex-none items-center",children:(0,t.jsx)(d,{project:a})}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col justify-between gap-0.5",children:[(0,t.jsx)(c.DashboardLink,{prefetchStrategy:"hover",route:"/[teamSlug]/[project]",params:{project:a.name},className:(0,l.cn)(i.linkClassName,"text-label-14 font-medium text-gray-1000 h-5 w-fit max-w-full"),"data-testid":(0,u.tid)("projects","link"),children:(0,t.jsx)(W.TruncateMiddle,{children:a.name})}),(0,t.jsx)(h,{project:a})]})]}),(0,t.jsxs)("div",{className:"order-2 flex min-w-0 flex-1 flex-col justify-between gap-0.5 @xl-page:order-1",children:[a.link||!a.v0?(0,t.jsx)(I,{project:a}):(0,t.jsx)(V,{project:a}),(0,t.jsx)(P,{project:a})]}),(0,t.jsxs)("div",{className:"flex h-5 w-fit items-center gap-2 order-1",children:[(0,t.jsx)(L,{project:a,className:"@xl-page:max-w-40"}),a.link&&a.v0&&(0,t.jsx)(V,{project:a})]}),(0,t.jsxs)("div",{className:"absolute right-4 top-[21px] order-1 flex shrink-0 flex-row items-center gap-4 @xl-page:static",children:[(0,t.jsx)(q,{project:a}),(0,t.jsx)(D.ProjectAlert,{project:a}),(0,t.jsx)(A.ProjectContextMenu,{project:a})]})]})}function Q(e){let{projects:a}=e;return(0,t.jsx)("ul",{className:"m-0 grid grid-cols-[repeat(auto-fill,minmax(330px,1fr))] gap-6 p-0",children:a.map(e=>(0,t.jsx)(Z,{project:e},e.id))})}function Z(e){let{project:a}=e;return(0,t.jsxs)("li",{className:"material-small relative flex flex-col gap-3 p-4 leading-5 hover:border-gray-500 [&_a]:z-10 [&_button]:z-10",children:[(0,t.jsx)(c.DashboardLink,{className:"absolute inset-0",prefetchStrategy:"hover",route:"/[teamSlug]/[project]",params:{project:a.name}}),(0,t.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[(0,t.jsx)(d,{project:a}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col justify-between gap-0.5",children:[(0,t.jsx)(c.DashboardLink,{prefetchStrategy:"hover",route:"/[teamSlug]/[project]",params:{project:a.name},className:(0,l.cn)(i.linkClassName,"text-label-14 font-medium text-gray-1000 h-5 w-fit max-w-full"),"data-testid":(0,u.tid)("projects","link"),children:(0,t.jsx)(W.TruncateMiddle,{children:a.name})}),(0,t.jsx)(h,{project:a})]}),(0,t.jsx)(q,{project:a}),(0,t.jsx)(D.ProjectAlert,{project:a}),(0,t.jsx)(A.ProjectContextMenu,{project:a})]}),(0,t.jsxs)("div",{className:"flex h-5 w-fit items-center gap-2",children:[(0,t.jsx)(L,{project:a,className:"max-w-48"}),!a.link&&a.v0&&(0,t.jsx)(V,{project:a})]}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-col justify-between gap-0.5",children:[a.link||!a.v0?(0,t.jsx)(I,{project:a}):(0,t.jsx)("div",{className:"h-5"}),(0,t.jsx)(P,{project:a})]})]})}var X=e.i(1107069),J=e.i(6698404),ee=e.i(776537),et=e.i(8662297),ea=e.i(6395478),er=e.i(4352669),es=e.i(6591520),ei=e.i(2504781),el=e.i(3748432);let en=(0,e.i(3115981).default)(()=>e.A(6835232).then(e=>e.EmptyProjects),{loadableGenerated:{modules:[4905110]}});function eo(e){let{data:a,userPreferences:r,ContentComponent:s,hideFavorites:i,ownerId:l}=e,{projects:n,favorites:c}=a,[d,u]=(0,o.useState)(r?.favoritesView??!1);return(0,t.jsxs)("div",{className:"flex flex-col gap-4 @smd-page:gap-3",children:[i?null:(0,t.jsx)(t.Fragment,{children:c.length>0?(0,t.jsxs)("div",{className:"flex flex-col gap-4 @smd-page:gap-3",children:[(0,t.jsx)(X.ProjectsHeading,{title:"Your Favorites",onClick:()=>{(0,et.updatePreferredScopeAndDashboardView)({scopeId:l,favoritesViewPreference:d?"closed":"open"}),u(e=>!e)},expanded:d}),d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s,{projects:c}),(0,t.jsx)("div",{className:"my-3 h-px w-full bg-gray-alpha-400"})]}):null]}):(0,t.jsx)(X.ProjectsHeading,{title:"Projects"})}),(0,t.jsx)(el.NavigationMarker,{phase:"content",label:"ProjectsContentContainer",children:(0,t.jsx)(s,{projects:n})})]})}e.s(["ProjectsContent",0,function(e){let{userPreferences:i,ownerId:l}=e;(0,J.useTeamOverviewStoreSync)();let[{sort:n,repo:c,mfe:d,v0:u,view:m}]=(0,r.useQueryStates)(s.teamOverviewSearchParams),p=(0,J.useTeamOverviewState)(e=>e.setIsSearchingProjects),h=(0,J.useTeamOverviewState)(e=>e.setProjectRepos),x=(0,es.useTeamOverviewDebouncedSearch)(),g=m||(i?.view==="cards"?"grid":i?.view)||"grid";!function(e){let{view:t}=e,a=(0,v.useTeamSlug)();(0,o.useEffect)(()=>{a&&(document.cookie=`_vc_view=${t}; path=/${a}; max-age=31536000; SameSite=Lax; Secure`)},[a,t])}({view:g});let f=!!(x||c||d),j=f?"slim":"full",y=(0,a.useDashboardProjects)({...function(e){let{search:t,sort:a,repo:r,mfe:i,v0:l}=e;return{search:t?.substring(0,100)||void 0,limit:12,sort:a||void 0,favorites:!0,repoUrl:r||void 0,mfeGroupId:i?s.mfeFilter.deserialize(i)?.id:void 0,v0:l??void 0}}({search:x,sort:n,repo:c,mfe:d,v0:u}),laggyKey:j,options:{revalidateIfStale:!1}});return((0,o.useEffect)(()=>{p(!!x&&y.isLoading)},[x,y.isLoading,p]),(0,o.useEffect)(()=>{!y.isShowingStale&&y.projects.length&&h(y.projects.map(e=>{let{link:t}=e;if(t?.type==="github"&&t.org)return{gitType:t.type,gitOwner:t.org,gitRepo:t.repo}}).filter(Boolean))},[h,y.isShowingStale,y.projects]),!y.initialDataLoaded||y.isShowingStale&&(y.staleKey!==j||0===y.projects.length))?(0,t.jsx)(ea.ProjectsSkeleton,{view:g,hasFilters:!!(d||c),hasSearch:!!x}):0===y.projects.length?x||c||d?(0,t.jsx)(ee.NoResultsProjects,{search:x}):(0,t.jsxs)("div",{className:"flex flex-col gap-4 @smd-page:gap-3",children:[(0,t.jsx)(X.ProjectsHeading,{title:"Projects"}),(0,t.jsx)("div",{className:"material-small pb-12 pt-6",children:(0,t.jsx)(en,{})})]}):(0,t.jsxs)(er.ProjectsMutateContextProvider,{mutate:y.mutate,children:[(0,t.jsx)(el.NavigationMarker,{phase:"content",label:"ProjectsContent",children:(0,t.jsx)(eo,{data:y,userPreferences:i,ContentComponent:"grid"===g?Q:K,hideFavorites:f,ownerId:l})}),y.hasMore?(0,t.jsx)(ei.Button,{width:"100%",loading:y.isLoadingMore,disabled:y.isLoadingMore,type:"secondary",className:"mt-6",onClick:()=>{y.loadMore()},children:"Show More"}):null]})}],8644057)},390520,e=>{"use strict";var t=e.i(4205214),a=e.i(2504781),r=e.i(1136434),s=e.i(6143247),i=e.i(8660982);let l=(0,i.createContext)({isExpanded:!1,setIsExpanded:()=>{}});l.displayName="SidebarExpandedContext",e.s(["ProjectsSidebarContainer",0,function(e){let{children:n,ssrSwitch:o}=e,[c,d]=(0,i.useState)(!1),u=(0,i.useMemo)(()=>({isExpanded:c,setIsExpanded:d}),[c]);return(0,t.jsxs)("div",{className:(0,s.cn)("group/container relative flex flex-col","@max-smd-page:[&:not(:has([value=usage]:checked)):not(:has([value=alerts]:checked)):not(:has([data-section=recents][data-has-more]))_[data-more-control]]:hidden","@max-smd-page:[&:has([value=usage]:checked):not(:has([data-section=usage][data-has-more]))_[data-more-control]]:hidden","@max-smd-page:[&:has([value=alerts]:checked):not(:has([data-section=alerts][data-has-more]))_[data-more-control]]:hidden","@max-smd-page:[&:has([data-alerts-active])_[value=alerts]+div]:text-red-900"),"data-sidebar-container":!0,children:[(0,t.jsxs)("div",{className:(0,s.cn)("relative flex flex-col","@max-smd-page:material-small @max-smd-page:min-h-[208px] @max-smd-page:overflow-hidden","@smd-page:gap-6 @smd-page:w-[320px] @lg-page:w-[404px]","@max-smd-page:[&:not(:has([value=usage]:checked))_[data-section=usage]]:hidden","@max-smd-page:[&:not(:has([value=recents]:checked))_[data-section=recents]]:hidden","@max-smd-page:[&:not(:has([value=alerts]:checked))_[data-section=alerts]]:hidden",{"@max-smd-page:max-h-[208px]":!c},"@max-smd-page:[&_[data-section-heading]]:hidden"),children:[o,(0,t.jsx)(l.Provider,{value:u,children:n}),c?null:(0,t.jsx)("div",{"data-more-control":!0,className:"z-1 absolute inset-x-0 bottom-0 h-4 w-full bg-gradient-to-b from-[hsla(var(--ds-background-200-value),0)_0%] to-[hsla(var(--ds-background-200-value),1)_100%] @smd-page:hidden"})]}),(0,t.jsx)(a.Button,{"data-more-control":!0,className:"z-[2] absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 @smd-page:hidden",svgOnly:!0,"aria-label":"Show More",type:"secondary",shape:"circle",size:"small",passthroughOnClick:e=>{e.stopPropagation(),d(e=>!e)},children:(0,t.jsx)(r.ChevronDownSmall,{className:(0,s.cn)("transition-transform duration-200 ease-in-out",{"-rotate-180":c})})})]})},"useSidebarExpandedContext",0,function(){return(0,i.useContext)(l)}])},7654643,e=>{"use strict";var t=e.i(4205214),a=e.i(8042625),r=e.i(2686817),s=e.i(215852),i=e.i(1107069);function l(e){let{children:a,hasMore:r}=e;return(0,t.jsxs)("div",{className:"flex flex-col @max-smd-page:flex-1 @smd-page:gap-3","data-section":"recents","data-has-more":!!r||void 0,children:[(0,t.jsx)(i.ProjectsHeading,{title:"Recent Previews",className:"@max-smd-page:px-4 @max-smd-page:pt-4"}),(0,t.jsx)("ul",{"data-section-content":!0,className:"m-0 flex flex-col divide-solid p-0 divide-x-0 divide-y divide-gray-alpha-400 @smd-page:material-small @max-smd-page:flex-1",children:a})]})}var n=e.i(8660982),o=e.i(1853611),c=e.i(7780974),d=e.i(2627304),u=e.i(7674801),m=e.i(5018193),p=e.i(5787344),h=e.i(8529990),x=e.i(9375869);function g(e){let t=e.automaticAliases?.find(e=>e.includes("-git-"))??e.url;t.startsWith("http")||(t=`https://${t}`);let a=t.replace(/^https?:\/\//,"");return{url:t,displayUrl:a}}let f={github:u.LogoGithub,"github-limited":u.LogoGithub,gitlab:m.LogoGitlab,bitbucket:p.LogoBitbucketColor};var j=e.i(8216525),v=e.i(3907048),y=e.i(4844919),w=e.i(7628870),b=e.i(5071474),N=e.i(1138941),k=e.i(6613731),S=e.i(5298575),C=e.i(277234),I=e.i(7917902),P=e.i(593207),M=e.i(7218483),L=e.i(57106),D=e.i(3306538),A=e.i(2504781),F=e.i(8674454),T=e.i(6694387),R=e.i(4991687),z=e.i(5326905),O=e.i(8459493),E=e.i(8522580),$=e.i(5255926),V=e.i(8735244),U=e.i(5468328),_=e.i(2560270),B=e.i(7807066),H=e.i(3627160),G=e.i(6942035),q=e.i(7749291),W=e.i(4345845),K=e.i(5376191),Y=e.i(8876434),Q=e.i(6198010),Z=e.i(5883567),X=e.i(6107899),J=e.i(198667),ee=e.i(6685186),et=e.i(6143247),ea=e.i(7432042),er=e.i(850302),es=e.i(390520);function ei(e){var r,s;let i,l,{entity:d,teamSlug:u}=e,m=(r="preview",{onClick:(0,n.useCallback)(e=>{let t=e.target.closest("a");if(null!==t){let e=t.dataset.trackingLinkLocation,a=t.dataset.trackingLinkType;o.analytics.track(c.VercelActivityAction.RecentsEntityClick,{type:r,linkLocation:e,linkType:a,href:t.href},{send_to:{data_warehouse_legacy:!0}})}},[r])}),{prMetadata:p,items:v}=d.payload,N=v[0],{url:P,displayUrl:M}=g(N.deployment),F=(0,h.getGitInfoFromDeployment)(N.deployment),O=(s=N.deployment,i=(0,x.useDeploymentLink)(s),(l=(0,h.getGitInfoFromDeployment)(s))?l.prId&&l.prUrl?{type:"pull-request",provider:l.type,url:l.prUrl,id:l.prId}:p?.number?{type:"pull-request",provider:l.type,url:function(e,t){switch(e.type){case"github":case"github-limited":return`https://github.com/${e.viaFork?e.orgNamespace:e.repoNamespace}/${e.repoName}/pull/${t}`;case"bitbucket":return`https://bitbucket.org/${e.repoNamespace}/${e.repoName}/pull-requests/${t}`;case"gitlab":return`https://gitlab.com/${e.repoNamespace}/${e.repoName}/-/merge_requests/${t}`}}(l,p.number),id:p.number}:""!==l.refUrl?{type:"branch",provider:l.type,url:l.refUrl}:{type:"commit",provider:l.type,url:l.commitUrl}:{type:"cli",url:`${i}/source`}),$=("provider"in O?f[O.provider]:void 0)??H.Code,[W,Z]=(0,n.useState)(!1),ea=(0,es.useSidebarExpandedContext)(),{trigger:ei}=function(e){let{eventId:t}=e,{user:r,team:s}=(0,I.useAccount)(),i=function(e){let{type:t,teamSlug:r,limit:s=7}=e;return`/api/recents${(0,a.encode)({type:t,teamId:r,limit:s})}`}({type:e.type,teamSlug:s?.slug??r?.username});async function l(e){let a=new URLSearchParams;s&&a.set("teamId",s.id),await (0,C.fetchAPI)(`/recents/${t}?${a.toString()}`,{method:"DELETE"})}return(0,S.default)(i,l,{optimisticData:e=>e?.filter(e=>e.eventId!==t)??[]})}(d);(0,n.useEffect)(()=>{ea.isExpanded||Z(!1)},[ea.isExpanded]);let ex=1===d.payload.totalItems?N:void 0,ef=ex?.deployment,ej=(0,x.useDeploymentLink)(ef,ex?.project.name),ev=(0,k.useWrappedToolbarAuthLinkHandler)({via:"recents-preview",deployment:ex?.deployment.previewCommentsEnabled?ex.deployment:void 0}),[ey,ew]=(0,n.useState)(!1),eb=d.payload.items.length<d.payload.totalItems,eN=(0,er.default)(ey&&eb?`/api/recents/hydrate-preview/${d.eventId}${(0,a.encode)({teamId:u})}`:null,async e=>(await (0,C.fetchAPI)(e)).payload.items,{shouldRetryOnError:!1,revalidateIfStale:!1,revalidateOnFocus:!1}),ek=p?.title??F?.commitRef,eS=F?.commitMessage&&ek!==F.commitMessage?F.commitMessage:void 0,eC=ek?(0,t.jsxs)("span",{className:(0,et.cn)("text-label-14 font-medium truncate",{"text-label-14-mono":!p?.title}),title:[ek,eS].join(" / ").trim(),children:[ek,eS?(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:eS}):null]}):(0,t.jsx)("span",{className:"text-label-14 truncate font-medium",title:P,children:M}),eI=(0,t.jsx)(eo,{"aria-label":`View ${"pull-request"===O.type?"Pull Request":"Source"}`,isLink:!0,href:O.url,prefix:(0,t.jsx)($,{}),preview:(0,t.jsxs)(t.Fragment,{children:["cli"===O.type?"View source code":null,"pull-request"===O.type?(0,t.jsxs)("span",{children:[String(O.id).length<=5?"View":null," #",O.id," on ",w.ORIGINS[O.provider]]}):null,"commit"===O.type||"branch"===O.type?`View source on ${w.ORIGINS[O.provider]}`:null,"cli"===O.type?null:(0,t.jsx)(q.ExternalSmall,{className:"ml-1"})]}),children:"pull-request"===O.type?"Pull Request":"Source"}),eP=(0,t.jsx)(eo,{"aria-label":"Remove recent",onClick:()=>void ei(),prefix:(0,t.jsx)(G.Cross,{}),preview:"Remove from Recents",children:"Remove"}),eM=ex?"div":A.Button;return(0,t.jsxs)("li",{className:"flex flex-col",...m,children:[(0,t.jsxs)("div",{className:"group relative flex flex-col",children:[(0,t.jsxs)(eM,{className:(0,et.cn)("p-4",ex?"flex flex-row gap-4 [&_a]:z-10":"*:flex *:flex-row *:gap-4 *:p-0"),variant:"unstyled",onMouseOver:()=>{ew(!0)},...ex?void 0:{passthroughOnClick:e=>{e.target instanceof HTMLElement&&e.target.closest("a")||(ew(!0),(0,ee.awaitPaint)().then(()=>{Z(e=>!e),W||ea.setIsExpanded(!0)}))}},children:[(0,t.jsxs)("div",{className:"flex min-w-0 flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2 text-gray-1000",children:[(0,t.jsx)(eh,{entity:d,teamSlug:u}),eC]}),(0,t.jsxs)("div",{className:"flex h-5 flex-row items-center gap-1",children:[ex?(0,t.jsx)(D.Badge,{className:"text-gray-900 hover:text-gray-1000 hover:bg-gray-100",variant:"pill",size:"sm",icon:(0,t.jsx)(X.PreviewEye,{}),children:"Preview"}):(0,t.jsxs)(D.Badge,{className:"text-gray-900 *:gap-0 hover:text-gray-1000 hover:bg-gray-100",variant:"pill",size:"sm",icon:W?(0,t.jsx)(_.ChevronDown,{}):(0,t.jsx)(B.ChevronRight,{}),children:[d.payload.totalItems>9?"9+":d.payload.totalItems," ","Project",d.payload.totalItems>1?"s":""]}),(0,t.jsx)(L.Link,{className:"z-10 flex","aria-label":`View ${"pull-request"===O.type?"Pull Request":"Source"}`,"data-tracking-link-location":"entity","data-tracking-link-type":O.type,href:O.url,children:(0,t.jsx)(D.Badge,{className:"h-5 text-gray-900 hover:text-gray-1000 hover:bg-gray-100",variant:"pill",size:"sm",icon:(0,t.jsx)($,{}),children:"pull-request"===O.type?`#${O.id}`:"Source"})}),ef?(0,t.jsx)(L.Link,{className:"flex","aria-label":`View ${ex.prMetadata?"Latest Deployment":"Deployment"}`,href:ej,prefetchStrategy:"hover",children:(0,t.jsx)(U.Tooltip,{"aria-hidden":!0,forceHide:!em.has(ef.readyState),text:(0,t.jsx)(ep,{deployment:ef}),children:(0,t.jsx)(D.Badge,{className:(0,et.cn)({"font-mono":"READY"===ef.readyState,"text-gray-900 hover:text-gray-1000":"pill"===eu(ef.readyState)}),variant:eu(ef.readyState),size:"sm",icon:em.has(ef.readyState)?(0,t.jsx)(V.Spinner,{color:"var(--ds-amber-900)",size:12}):(0,t.jsx)(j.DeploymentStatus,{className:"flex h-5 flex-row items-center mx-0.5 *:size-2",deployment:ef}),children:"READY"===ef.readyState?(0,b.default)(ef).hash:(0,y.default)(ef.readyState.toLowerCase())})})}):null]})]}),(0,t.jsx)("div",{className:"w-6 shrink-0"})]}),(0,t.jsxs)(R.MenuContainer,{children:[(0,t.jsx)(T.MenuButton,{"aria-label":"Preview Menu",className:"absolute right-4 top-1/2 z-10 -translate-y-1/2",shape:"square",size:"tiny",type:"tertiary",svgOnly:!0,children:(0,t.jsx)(Y.MoreHorizontal,{})}),ex?(0,t.jsx)(ed,{item:ex,teamSlug:u,gitMenuItem:eI,removeMenuItem:eP}):(0,t.jsxs)(en,{width:200,previewContainerClassName:"text-gray-900",defaultPreview:(0,t.jsxs)(t.Fragment,{children:["Updated ",eg(Date.parse(d.createdAt))]}),children:[(0,t.jsx)(eo,{prefix:W?(0,t.jsx)(K.Minus,{}):(0,t.jsx)(Q.Plus,{}),onClick:()=>{Z(e=>!e)},preview:W?"Hide projects":`Show ${d.payload.totalItems} projects`,children:W?"Hide projects":"Show projects"}),eI,(0,t.jsx)(z.MenuDivider,{}),eP]})]}),ex?(0,t.jsx)(L.Link,{className:"absolute inset-0 block",href:P,tab:!0,"data-tracking-link-location":"title","data-tracking-link-type":"preview",...ev}):null]}),W&&eN.error&&!eN.data?(0,t.jsx)(E.Note,{type:"error",className:"m-4 mt-0",size:"small",children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2",children:["Failed to load recents.",(0,t.jsx)(A.Button,{"aria-label":"Try again",className:"!text-inherit",onClick:()=>{eN.mutate()},size:"small",svgOnly:!0,type:"tertiary",children:eN.isLoading?(0,t.jsx)(V.Spinner,{}):(0,t.jsx)(J.RefreshClockwise,{color:"currentColor"})})]})}):null,W&&!eN.error?(0,t.jsx)("ul",{className:"m-0 flex flex-col p-4 pt-0",children:eN.isLoading&&!eN.data?d.payload.payloadItems.map(e=>(0,t.jsx)(el,{},e.deploymentId)):eN.data?.map(e=>(0,t.jsx)(ec,{item:e,teamSlug:u},e.deployment.id))}):null]})}function el(){return(0,t.jsxs)("li",{className:"flex h-8 min-w-0 flex-row items-center gap-1.5 rounded-sm p-2 pr-1 hover:bg-gray-100 [:where(&:nth-child(odd))]:bg-background-200",children:[(0,t.jsx)($.Skeleton,{rounded:!0,width:16,height:16}),(0,t.jsx)("div",{className:"flex min-w-0 flex-1 flex-row",children:(0,t.jsx)($.Skeleton,{height:16,width:80})}),(0,t.jsx)($.Skeleton,{height:20,pill:!0,width:70}),(0,t.jsx)($.Skeleton,{height:20,pill:!0,width:80}),(0,t.jsx)($.Skeleton,{height:24,width:24})]})}function en(e){let{children:a,defaultPreview:r,className:s,previewContainerClassName:i,...l}=e;return(0,t.jsxs)(F.Menu,{...l,className:(0,et.cn)(s,"relative group/menu"),children:[(0,t.jsx)(z.MenuDivider,{className:"mt-11",children:(0,t.jsx)("div",{className:(0,et.cn)("absolute left-2 top-2 flex h-9 flex-row items-center p-2 group-has-[[data-selected]]/menu:hidden",i),children:r})}),a]})}function eo(e){let{preview:a,innerMenuItemClassName:r,previewContainerClassName:s="text-gray-900",children:i,...l}=e;return(0,t.jsxs)(O.MenuItem,{...l,innerMenuItemClassName:(0,et.cn)("group/item",r),children:[i,(0,t.jsx)("div",{className:(0,et.cn)("absolute left-2 top-2 hidden h-9 flex-row items-center p-2 group-[&[data-selected]]/item:flex",s),children:a})]})}function ec(e){let{item:a,teamSlug:r}=e,{deployment:s,project:i,prMetadata:l}=a,{url:n}=g(s),o=(0,x.useDeploymentLink)(s,i.name),c=(0,N.useProjectUrl)(i)??"",{hash:d}=(0,b.default)(s),u=(0,k.useWrappedToolbarAuthLinkHandler)({via:"recents-preview",deployment:s.previewCommentsEnabled?s:void 0});return(0,t.jsxs)("li",{className:"flex h-8 min-w-0 flex-row items-center gap-1 rounded-sm p-2 pr-1 hover:bg-gray-100 [:where(&:nth-child(odd))]:bg-background-200",children:[(0,t.jsx)(ex,{deploymentId:s.id,projectId:i.id,size:16,teamSlug:r}),(0,t.jsx)("div",{className:"flex min-w-0 flex-1 flex-row",children:(0,t.jsx)(L.Link,{className:"label-12 h-5 truncate leading-5 hover:underline",href:c,prefetch:!1,children:i.name})}),(0,t.jsx)(L.Link,{"aria-label":"View preview deployment","data-tracking-link-location":"entity","data-tracking-link-type":"preview",href:n,...u,children:(0,t.jsx)(D.Badge,{className:"text-gray-900 hover:text-gray-1000",variant:"pill",size:"sm",icon:(0,t.jsx)(X.PreviewEye,{}),children:"Preview"})}),(0,t.jsx)(L.Link,{"aria-label":`View ${l?"Latest Deployment":"Deployment"}`,href:o,prefetchStrategy:"hover",className:"flex",children:(0,t.jsx)(U.Tooltip,{"aria-hidden":!0,forceHide:!em.has(s.readyState),text:(0,t.jsx)(ep,{deployment:s}),children:(0,t.jsx)(D.Badge,{className:(0,et.cn)("h-5 pl-1.5 *:gap-1",{"font-mono text-gray-900 hover:text-gray-1000":"READY"===s.readyState}),variant:eu(s.readyState),size:"sm",icon:em.has(s.readyState)?(0,t.jsx)(V.Spinner,{color:"var(--ds-amber-900)",size:12}):(0,t.jsx)(j.DeploymentStatus,{className:"flex h-5 flex-row items-center *:size-2 ml-0",deployment:s}),children:"READY"===s.readyState?d:(0,y.default)(s.readyState.toLowerCase())})})}),(0,t.jsxs)(R.MenuContainer,{children:[(0,t.jsx)(T.MenuButton,{"aria-label":"Preview Menu",shape:"square",size:"tiny",type:"tertiary",svgOnly:!0,children:(0,t.jsx)(Y.MoreHorizontal,{size:12})}),(0,t.jsx)(ed,{item:a,teamSlug:r})]})]})}function ed(e){let{item:a,teamSlug:r,gitMenuItem:s,removeMenuItem:i}=e,{deployment:l,project:n,prMetadata:o,createdAt:c,type:d}=a,{url:u}=g(l),m=(0,x.useDeploymentLink)(l,n.name),p=(0,N.useProjectUrl)(n)??"",{hash:f}=(0,b.default)(l),v=!!o,y=function(e,t){if(!t?.commitRef)return null;let a=new URL(`${e}/deployments`,"https://vercel.com");return a.searchParams.set("filterBranch",t.commitRef),`${a.pathname}${a.search}`}(p,(0,h.getGitInfoFromDeployment)(l)),w=(0,k.useWrappedToolbarAuthLinkHandler)({via:"recents-preview",deployment:l.previewCommentsEnabled?l:void 0});return(0,t.jsxs)(en,{width:200,previewContainerClassName:"text-gray-900",defaultPreview:(0,t.jsxs)(t.Fragment,{children:["deployment-created"===(d??"preview")?"Authored":"Preview visited"," ",eg(Date.parse(c))]}),children:[(0,t.jsx)(eo,{"aria-label":"View latest preview deployment",href:u,isLink:!0,prefix:(0,t.jsx)(X.PreviewEye,{}),...w,preview:(0,t.jsxs)(t.Fragment,{children:["View latest Preview",(0,t.jsx)(q.ExternalSmall,{className:"ml-1"})]}),children:"Preview"}),s,(0,t.jsx)(eo,{"aria-label":`View ${v?"Latest Deployment":"Deployment"}`,href:m,isLink:!0,prefetchStrategy:"hover",preview:(0,t.jsxs)("div",{className:"flex flex-row gap-1",children:["Inspect",(0,t.jsx)(j.DeploymentStatus,{className:"ml-1",deployment:l}),(0,t.jsx)("span",{className:"text-gray-1000",children:f})]}),prefix:(0,t.jsx)(j.DeploymentStatus,{className:"size-4 justify-center",deployment:l}),children:v?"Latest Deployment":"Deployment"}),y?(0,t.jsx)(eo,{"aria-label":"View branch deployments",href:y,prefetchStrategy:"hover",isLink:!0,prefix:(0,t.jsx)(W.GitBranch,{}),preview:"View branch deployments",children:"Branch Deployments"}):null,(0,t.jsx)(eo,{"aria-label":"View project",href:p,isLink:!0,prefetchStrategy:"hover",prefix:(0,t.jsx)(ex,{projectId:n.id,size:16,deploymentId:l.id,teamSlug:r}),preview:`View ${n.name}`,children:"Project"}),i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z.MenuDivider,{}),i]}):null]})}function eu(e){switch(e){case"BUILDING":case"DELETED":case"INITIALIZING":case"UPLOADING":case"DEPLOYING":return"amber-subtle";case"ERROR":return"red-subtle";default:return"pill"}}let em=new Set(["INITIALIZING","BUILDING","UPLOADING","DEPLOYING"]);function ep(e){let{deployment:a}=e,r=(0,M.useAge)(a.buildingAt||void 0,{includeSeconds:!0});return(0,t.jsxs)("div",{children:["Duration: ",r]})}function eh(e){let{entity:a,teamSlug:r}=e,s=a.payload.totalItems>3,i=a.payload.payloadItems.slice(0,s?2:3).map(e=>{let{projectId:a,deploymentId:s}=e;return(0,t.jsx)(ex,{deploymentId:s,projectId:a,teamSlug:r},s)});return(0,t.jsxs)("div",{className:"flex h-5 flex-row items-center *:-ml-1 [&>:nth-child(1)]:ml-0",children:[(0,t.jsx)(v.CreatorAvatar,{deployment:a.payload.items[0].deployment,size:20}),i,s?(0,t.jsx)(Z.PlusCircle,{className:"relative rounded-full border border-solid border-background-100 bg-background-100",color:"gray-600",size:20}):null]})}function ex(e){let{teamSlug:r,projectId:s,deploymentId:i,size:l=20}=e;return(0,t.jsx)(d.AvatarWithError,{className:"cursor-pointer bg-background-100 flex items-center",priority:!0,size:l,style:{flexBasis:l},tooltipProps:{className:"relative z-[2]",text:"There was an issue rendering your favicon"},url:function(e){let{deploymentId:t,projectId:r,teamSlug:s}=e;return`/api/v0/deployments/${t}/favicon${(0,a.encode)({teamId:s,project:r})}`}({teamSlug:r,projectId:s,deploymentId:i})})}function eg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ago";return(0,P.ago)(Date.now()-e,{justNowLabel:"Now",justNowThreshold:(0,ea.default)("10s"),suffix:t})}var ef=e.i(8161149);e.s(["RecentsList",0,function(e){let{teamSlug:i}=e,d=(0,n.useRef)(!1),{data:u=[]}=(0,s.useIsomorphicSuspenseSWR)((0,r.swrRequest)(`/api/recents${(0,a.encode)({type:"preview",teamId:i,limit:7})}`),async(e,t)=>(await t(e)).filter(e=>e.payload.items.length>0),{revalidateIfStale:!1,revalidateOnFocus:!0});return((0,n.useEffect)(()=>{d.current||(d.current=!0,o.analytics.track(c.VercelActivityAction.RecentsImpression,{length:u.length},{send_to:{data_warehouse_legacy:!0}}))},[u.length]),u.length)?(0,t.jsxs)(l,{hasMore:u.length>2,children:[u.map(e=>(0,t.jsx)(ei,{entity:e,teamSlug:i},e.eventId)),1===u.length?(0,t.jsx)("li",{className:"text-label-12 flex h-20 flex-row items-center justify-center text-balance p-4 text-center text-gray-700 @smd-page:hidden",children:"Preview deployments that you have recently visited or created will appear here."}):null]}):(0,t.jsx)(l,{hasMore:!1,children:(0,t.jsx)(ef.EmptyState.Root,{className:"flex flex-1 flex-row items-center border-0 p-6 *:flex-1 *:gap-4 @max-smd-page:mt-px [&_p]:max-w-none",icon:(0,t.jsx)(ef.EmptyState.Icon,{icon:(0,t.jsx)(X.PreviewEye,{}),size:32}),description:"Preview deployments that you have recently visited or created will appear here."})})}],7654643)},4915059,e=>{"use strict";var t=e.i(4205214),a=e.i(4905664),r=e.i(1107069),s=e.i(2504781),i=e.i(8161149),l=e.i(6159310),n=e.i(8660982),o=e.i(6143247),c=e.i(1136434),d=e.i(9584456),u=e.i(2259296),m=e.i(9386557);e.i(6483798);var p=e.i(8287059),h=e.i(2686817),x=e.i(215852),g=e.i(9388656),f=e.i(5072965),j=e.i(1853611),v=e.i(7780974),y=e.i(4331397),w=e.i(2689376),b=e.i(9129382);let N=(0,e.i(2993788).createUnitFormatter)({style:"short"}),k=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),S=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:2,minimumFractionDigits:2});function C(e){let{project:a,currencyType:r}=e;return(0,t.jsx)("li",{className:"flex flex-row rounded-sm [@media(hover:hover){&:hover}]:!bg-gray-100 [:where(&:nth-child(odd))]:bg-background-200 [:where(&:nth-child(odd))]:transition-colors [:where(&:nth-child(odd))]:delay-150 [:where(&:nth-child(odd))]:duration-200 group-has-[li:hover]:[:where(&:nth-child(odd))]:bg-transparent group-has-[li:hover]:[:where(&:nth-child(odd))]:delay-0 group-has-[li:hover]:[:where(&:nth-child(odd))]:duration-0",children:(0,t.jsxs)(l.DashboardLink,{className:"items-center flex h-8 min-w-0 flex-1 flex-row gap-1.5 p-2",route:"/[teamSlug]/~/usage",search:{projectId:a.id},prefetch:!1,...(0,f.createTrackingAttributes)({section:"usage-widget",element:"row",type:"project"}),children:[(0,t.jsx)(w.Gauge,{value:100*a.percent,size:"tiny",colors:{primary:"var(--ds-blue-700)",secondary:"var(--ds-gray-alpha-400)"},className:"shrink-0 *:size-4"}),(0,t.jsx)("span",{className:"text-label-14 min-w-0 flex-1 truncate leading-4",children:a.name}),(0,t.jsx)("span",{className:"text-label-12 shrink-0 font-medium tabular-nums text-gray-900",children:"USD"===r?`${S.format(a.value)}`:`${k.format(a.value)} MIUs`})]})})}function I(e){let{item:a}=e,r=a.chartKey?l.DashboardLink:"div",s=a.chartKey?{route:"/[teamSlug]/~/usage/[chartKey]",params:{chartKey:a.chartKey},prefetch:!1,...(0,f.createTrackingAttributes)({section:"usage-widget",element:"row",type:"sku"})}:void 0;return(0,t.jsx)("li",{className:"flex flex-row rounded-sm [:where(&:nth-child(odd))]:bg-background-200 [:where(&:nth-child(odd))]:transition-colors [:where(&:nth-child(odd))]:delay-150 [:where(&:nth-child(odd))]:duration-200 overflow-hidden [@media(hover:hover){&:hover}]:!bg-gray-100 group-has-[li:hover]:[:where(&:nth-child(odd))]:bg-transparent group-has-[li:hover]:[:where(&:nth-child(odd))]:delay-0 group-has-[li:hover]:[:where(&:nth-child(odd))]:duration-0",children:(0,t.jsxs)(r,{className:"items-center flex h-8 min-w-0 flex-1 flex-row gap-1.5 p-2",...s,children:[(0,t.jsx)("span",{className:"text-label-14 min-w-0 flex-1 truncate leading-4",children:a.title}),(0,t.jsx)("span",{className:"text-label-14 text-xs shrink-0 font-medium tabular-nums leading-4 text-gray-900",children:a.total})]})})}function P(e){let{item:a,hideGauge:r,isHobby:s,isUpgradeHovered:i,isLink:n,className:c}=e,{unit:d}=a,u="string"==typeof d?e=>b.formatters[d](e,"display"):e=>N(e,d??null),m=void 0!==a.percentage?(0,t.jsx)(w.Gauge,{value:a.percentage,size:"tiny",colors:s?{0:"var(--ds-blue-700)",75:"var(--ds-amber-700)",100:"var(--ds-red-700)"}:{primary:"var(--ds-blue-700)",secondary:"var(--ds-gray-alpha-400)"},className:"shrink-0 *:size-4"}):(0,t.jsx)("div",{className:"size-4 shrink-0"}),p=s&&void 0!==a.nextPlanLimit&&a.nextPlanLimit!==a.limit,h=n?l.DashboardLink:"div",x=n?{route:a.chartKey?"/[teamSlug]/~/usage/[chartKey]":"/[teamSlug]/~/usage",params:{chartKey:a.chartKey},prefetch:!1,...(0,f.createTrackingAttributes)({section:"usage-widget",element:"row",type:"sku"})}:void 0;return(0,t.jsx)("li",{className:(0,o.cn)("flex flex-row rounded-sm [:where(&:nth-child(odd))]:bg-background-200 [:where(&:nth-child(odd))]:transition-colors [:where(&:nth-child(odd))]:delay-150 [:where(&:nth-child(odd))]:duration-200 overflow-hidden group-has-[li:hover]:[:where(&:nth-child(odd))]:bg-transparent group-has-[li:hover]:[:where(&:nth-child(odd))]:delay-0 group-has-[li:hover]:[:where(&:nth-child(odd))]:duration-0",n&&"[@media(hover:hover){&:hover}]:!bg-gray-100",c),children:(0,t.jsxs)(h,{className:"items-center flex h-8 min-w-0 flex-1 flex-row gap-1.5 p-2",...x,children:[r?null:m,(0,t.jsx)("span",{className:"text-label-14 min-w-0 flex-1 truncate leading-4",children:a.title}),(0,t.jsx)("span",{className:(0,o.cn)("text-label-14 text-xs shrink-0 font-medium tabular-nums leading-4 text-gray-900",{"-mr-1.5":p&&a.nextPlanLimit}),children:a.price?S.format(a.price):(0,t.jsxs)(t.Fragment,{children:[0===a.value&&a.limit?0:u(a.value),a.limit?" / ":null,a.limit?(0,t.jsxs)("span",{className:(0,o.cn)({"relative transition-colors duration-300":p,"text-gray-600 duration-500":p&&i}),children:[u(a.limit),p?(0,t.jsx)("span",{className:(0,o.cn)("absolute inset-x-0 top-[calc(50%-1px)] block h-[2px] bg-gray-500 transition-transform duration-300 origin-left scale-x-0",{"scale-x-100 duration-300":i})}):null]}):null]})}),p&&a.nextPlanLimit?(0,t.jsx)("span",{className:(0,o.cn)("relative max-w-0 text-xs font-medium tabular-nums leading-4 text-blue-900 opacity-0 duration-300 shrink-0 transition-width whitespace-nowrap",{"opacity-100 duration-1000 max-w-40":i}),children:(0,t.jsx)("span",{className:"pl-1.5",children:u(a.nextPlanLimit)})}):null]})})}var M=e.i(4726513),L=e.i(4723202),D=e.i(1717203),A=e.i(7557283),F=e.i(9059293),T=e.i(7917902),R=e.i(675543);let z=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),O=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:2,minimumFractionDigits:2});function E(e){let{cycle:r,plan:s,planIteration:i,isTrialing:n,isBlocked:c,hasExceededLimits:u}=e,p="pro"===s&&"plus"===i,h=Math.max((0,a.differenceInDays)(r.end,Date.now()),1),x=`${h} day${h>1?"s":""} remaining in cycle`,j=null;if("hobby"===s&&(c?(x=(0,t.jsxs)("span",{className:"flex flex-row items-center gap-1 text-red-900",children:["Paused",(0,t.jsx)(d.StopFill,{})]}),j="Upgrade to resume service"):x=u?(0,t.jsxs)("span",{className:"flex flex-row items-center gap-1",children:["Exceeded free resources",(0,t.jsx)(m.WarningFill,{color:"amber-700"})]}):"Last 30 days"),p&&n){let e=(0,F.days)(r.end-Date.now());x=`${e} day${e>1?"s":""} remaining of Pro trial`}return(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[(0,t.jsx)(l.DashboardLink,{className:(0,o.cn)(g.linkClassName,"text-label-14 m-0 font-medium leading-6"),route:"/[teamSlug]/~/usage",prefetchStrategy:"hover",...(0,f.createTrackingAttributes)({section:"usage-widget",element:"header"}),children:x}),j?(0,t.jsx)("span",{className:(0,o.cn)("text-label-12 font-medium text-gray-900",p?"hidden @smd-page:block font-normal text-sm leading-4":""),children:j}):null]})}function $(e){let{data:a,showUpgrade:r,teamId:i,trackingData:l}=e,n=(0,p.useOpenUpgradeModal)(),o=(0,y.usePreloadUpgradeModal)();return r?(0,t.jsx)(s.Button,{className:"!h-6 !px-2 *:text-label-12 *:px-0 *:font-medium",size:"small",onMouseOver:o,onClick:()=>{n({teamHint:i,source:"team-overview-usage-widget",onConversionSuccess:()=>{j.analytics.track(v.VercelActivityAction.UsageWidgetUpgradeCompleted,l,{send_to:{data_warehouse_legacy:!0}})}}),j.analytics.track(v.VercelActivityAction.UsageWidgetUpgradeClicked,l,{send_to:{data_warehouse_legacy:!0}})},children:"Upgrade"}):a?"byCredit"===a.type?(0,t.jsx)(V,{data:a}):"byProject"===a.type?(0,t.jsx)(U,{data:a}):null:null}function V(e){let{data:a}=e;return"byCredit"!==a.type?null:(0,t.jsx)("div",{className:"flex flex-row gap-2 items-center",children:(0,t.jsx)(l.DashboardButtonLink,{className:"!h-6 text-label-12 m-0 font-medium",type:"secondary",route:"/[teamSlug]/~/settings/billing",prefetchStrategy:"hover",size:"small",...(0,f.createTrackingAttributes)({section:"usage-widget",element:"header"}),children:"Billing"})})}function U(e){let{data:a}=e,r=a.includedAllocation||a.onDemandCharges,s=(a.includedAllocation?.used??0)+(a.onDemandCharges??0),i=a.includedAllocation?.total?s/a.includedAllocation.total:void 0,l=a.includedAllocation?.type;return r?(0,t.jsxs)("span",{className:"text-label-12 shrink-0 font-medium text-gray-900",children:["USD"===l?O.format(s):`${z.format(s)} MIUs`,i?` (${Math.round(100*i)}%)`:""]}):null}e.s(["UsageWidget",0,function(e){var a;let{teamSlug:d}=e,m=(0,x.useIsomorphicSuspenseSWR)((0,h.swrRequest)(`/api/usage-summary?teamId=${d}`),{revalidateOnFocus:!1,refreshInterval:6e5,ssr:{timeout:2e3}}),p=(0,l.useLink)(),{team:g}=(0,T.useAccount)(),f=g?.billing?.plan==="pro"&&"plus"===g.billing.planIteration,j=g?.billing?.status==="trialing"&&f,{can:v,isLoading:y}=(0,D.default)(),[w,b]=(0,n.useState)(!1),{data:N,...k}=m.data,S=N?.type==="byCredit"?1:3,F=N?"byCredit"===(a=N).type?a.skus?a.skus.length:+!!a.usage[0]?.creditsApplied:a.usage?.length??0:0,z=F>S,O=N?.type==="bySKU"&&N.usage.some(e=>e.percentage&&e.percentage>100),V=N?.type==="bySKU"?N.usage[0]:void 0,{showUpgradeAction:U}=(0,R.useProTrialShowUpgradeAction)();return v(A.Action.Read,A.Resource.Usage)||y?(0,t.jsxs)("div",{className:"relative flex flex-col @smd-page:gap-3","data-section":"usage","data-has-more":!!z||void 0,children:[(0,t.jsx)(r.ProjectsHeading,{title:"Usage",className:"@max-smd-page:px-4 @max-smd-page:pt-4",href:p("/[teamSlug]/~/usage")}),(0,t.jsxs)("div",{"data-section-content":!0,className:(0,o.cn)("relative @smd-page:material-small gap-4 py-4 flex flex-col transition-[max-height] duration-200 ease-in-out overflow-hidden min-h-[180px]",w?"@smd-page:max-h-[999px]":"@smd-page:max-h-[180px]",N?.type==="byCredit"&&"gap-2"),children:[F>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2 h-6 px-4",children:[(0,t.jsx)(E,{...k,hasExceededLimits:O,isTrialing:j}),(0,t.jsx)($,{data:N,showUpgrade:"hobby"===k.plan||U,teamId:k.teamId,trackingData:{hasExceededLimit:O,isPaused:k.isBlocked,topSku:V?.id,topSkuName:V?.title,topSkuPercent:V?.percentage}})]}),N?.type==="byCredit"?(0,t.jsxs)("div",{className:"px-2 space-y-2",children:[(0,t.jsx)(M.CreditUsage,{currency:N.currency??N.usage[0].currency,creditsApplied:N.usage[0].creditsApplied,creditsAllocated:N.usage[0].creditsAllocated,balance:Number(N.usage[0].currentBalance),isTrialing:j}),(0,t.jsx)("ul",{className:"group flex flex-col p-0",children:N.skus?.map(e=>(0,t.jsx)(I,{item:e},e.id))})]}):(0,t.jsx)("ul",{className:"group m-0 flex flex-col px-2",children:N?.usage?.map(e=>"byProject"===N.type?(0,t.jsx)(C,{project:e,currencyType:N.includedAllocation?.type},e.id):"bySKU"===N.type?(0,t.jsx)(P,{isLink:!0,item:e,hideGauge:"enterprise"===k.plan||f,isHobby:"hobby"===k.plan},e.id):null)})]}):(0,t.jsx)("div",{children:(0,t.jsx)(i.EmptyState.Root,{paddingX:0,paddingY:0,className:"flex h-36 items-center justify-center border-0 *:gap-4",icon:(0,t.jsx)(i.EmptyState.Icon,{icon:(0,t.jsx)(u.ChartBarMiddle,{}),size:32}),description:"No usage this cycle"})}),w||!z?null:(0,t.jsx)("div",{className:"absolute inset-x-0 -bottom-px h-4 w-full bg-gradient-to-b from-[hsla(var(--ds-background-200-value),0)_0%] to-[hsla(var(--ds-background-200-value),1)_100%] @max-smd-page:hidden z-[2] pointer-events-none"})]}),z?(0,t.jsx)(s.Button,{className:"z-[2] absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 @max-smd-page:hidden",svgOnly:!0,"aria-label":"Show More Usage",type:"secondary",shape:"circle",size:"tiny",onClick:()=>b(e=>!e),children:(0,t.jsx)(c.ChevronDownSmall,{className:(0,o.cn)("transition-transform duration-200 ease-in-out",{"-rotate-180":w})})}):null]}):(0,t.jsxs)("div",{className:"relative flex flex-col @smd-page:gap-3","data-section":"usage","data-has-more":!!z||void 0,children:[(0,t.jsx)(r.ProjectsHeading,{title:"Usage",className:"@max-smd-page:px-4 @max-smd-page:pt-4",href:p("/[teamSlug]/~/usage")}),(0,t.jsx)("div",{"data-section-content":!0,className:(0,o.cn)("relative @smd-page:material-small p-4 gap-4 flex flex-col justify-center transition-[max-height] duration-200 ease-in-out overflow-hidden min-h-[180px]",w?"@smd-page:max-h-[408px]":"@smd-page:max-h-[180px]"),children:(0,t.jsx)(i.EmptyState.Root,{paddingX:0,paddingY:0,className:"flex h-24 items-center justify-center border-0 *:gap-4",icon:(0,t.jsx)(i.EmptyState.Icon,{icon:(0,t.jsx)(u.ChartBarMiddle,{}),size:32}),description:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center",children:["You don't have the required permission to view team usage.",(0,t.jsx)(L.RequestRoleButton,{teamRole:"MEMBER"})]})})})]})}],4915059)},5987740,e=>{"use strict";var t=e.i(4205214),a=e.i(198667),r=e.i(1107069),s=e.i(8851095),i=e.i(6159310);e.s(["UsageError",0,function(){let{retry:e}=(0,s.useError)(),l=(0,i.useLink)();return(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsx)(r.ProjectsHeading,{title:"Usage",href:l("/[teamSlug]/~/usage")}),(0,t.jsx)("button",{className:"material-small grid h-[180px] cursor-pointer place-content-center bg-background-200 p-2 text-gray-900 hover:text-gray-1000 focus-visible:text-gray-1000",onClick:e,type:"button",children:(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,t.jsx)("span",{className:"text-copy-14",children:"Failed to load usage"}),(0,t.jsx)(a.RefreshClockwise,{})]})})]})}])},1875605,e=>{"use strict";var t=e.i(4205214),a=e.i(8660982),r=e.i(6143247),s=e.i(1107069),i=e.i(2504781),l=e.i(1136434),n=e.i(6159310);function o(e){let{children:o,large:c,headerAttachment:d,activeBorder:u}=e,[m,p]=(0,a.useState)(!1),[h,x]=(0,a.useState)(!1),g=(0,a.useRef)(null),f=(0,a.useRef)(null),j=(0,a.useMemo)(()=>c?162:112,[c]),v=(0,n.useLink)();return(0,a.useEffect)(()=>{let e=g.current,t=f.current;if(!e||!t)return;let a=()=>{x(t.scrollHeight>j)};a();let r=new ResizeObserver(a);return r.observe(t),()=>r.disconnect()},[o,j]),(0,t.jsxs)("div",{className:"relative flex flex-col @smd-page:gap-3","data-section":"alerts","data-has-more":!!h||void 0,"data-alerts-active":!!u||void 0,children:[(0,t.jsx)(s.ProjectsHeading,{title:"Alerts",className:"@max-smd-page:px-4 @max-smd-page:pt-4",attachment:d,href:v("/[teamSlug]/~/observability/alerts")}),(0,t.jsxs)("div",{"data-section-content":!0,className:(0,r.cn)("relative @smd-page:material-small gap-4 flex flex-col transition-[max-height] duration-200 ease-in-out overflow-hidden border-0 p-0",m?"@smd-page:max-h-[300px]":"@smd-page:max-h-[120px]",u&&"@smd-page:!bg-transparent @smd-page:!shadow-none"),style:{minHeight:c?164:114},children:[(0,t.jsx)("div",{ref:g,className:(0,r.cn)("absolute inset-0 rounded-[6px]",{"@smd-page:bg-gray-300 @smd-page:[background-image:linear-gradient(15deg,rgba(255,0,0,0)_52%,var(--ds-red-500)_100%)]":u})}),(0,t.jsxs)("div",{ref:f,className:(0,r.cn)("bg-background-100 rounded-[5px] z-[1] m-px h-full relative overflow-hidden",m?"@smd-page:max-h-[298px]":"@smd-page:max-h-[118px]"),style:{minHeight:j},children:[o,m||!h?null:(0,t.jsx)("div",{className:"absolute inset-x-0 -bottom-px h-4 w-full bg-gradient-to-b from-[hsla(var(--ds-background-200-value),0)_0%] to-[hsla(var(--ds-background-200-value),1)_100%] @max-smd-page:hidden z-[2] pointer-events-none"})]})]}),h?(0,t.jsx)(i.Button,{className:"z-[2] absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 @max-smd-page:hidden",svgOnly:!0,"aria-label":"Show More Usage",type:"secondary",shape:"circle",size:"tiny",onClick:()=>p(e=>!e),children:(0,t.jsx)(l.ChevronDownSmall,{className:(0,r.cn)("transition-transform duration-200 ease-in-out",{"-rotate-180":m})})}):null]})}var c=e.i(6728635),d=e.i(2630141),u=e.i(854682),m=e.i(1853611),p=e.i(7780974),h=e.i(5338940);function x(){let{team:e}=(0,h.useTeam)(),r=e?.billing?.plan==="hobby",s=(0,d.useOpenEnableModal)(),l=(0,a.useRef)(!1),{applyPromotion:n}=(0,u.useHasObservabilityPlus)();return(0,a.useEffect)(()=>{l.current||(l.current=!0,m.analytics.track(p.VercelActivityAction.AlertsWidgetImpression,{},{send_to:{data_warehouse_legacy:!0}}))},[]),(0,t.jsx)("div",{className:"size-full",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-5 flex-col w-full min-h-full py-5 px-2",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1.5 align-center text-center",children:[(0,t.jsx)("span",{className:"text-label-14 font-medium",children:"Get alerted for anomalies"}),(0,t.jsx)("span",{className:"text-label-14 text-gray-900 text-balance",children:"Automatically monitor your projects for anomalies and get notified."})]}),(0,t.jsx)(i.Button,{size:"small",type:r?"secondary":"default",onClick:()=>{s({via:"team-overview-alerts",upgradeUseCase:"anomaly-alerts"})},children:n?"Get 30 days for free":"Upgrade to Observability Plus"}),(0,t.jsx)(c.EnableModal,{})]})})}var g=e.i(215852),f=e.i(2686817),j=e.i(9979783),v=e.i(4244280),y=e.i(7432042);let w=(0,y.default)("48h");function b(e){return null!=e}var N=e.i(3306538),k=e.i(2627304),S=e.i(5761705),C=e.i(5072965),I=e.i(8042625),P=e.i(9997017),M=e.i(9386557),L=e.i(593207),D=e.i(5468328),A=e.i(5760285);function F(e){let{alerts:r,teamSlug:s}=e,i=(0,a.useRef)(new Set);return((0,a.useEffect)(()=>{if(r.length)for(let e of r)"active"!==e.status||i.current.has(e.id)||(i.current.add(e.id),m.analytics.track(p.VercelActivityAction.AlertsWidgetActiveAlertImpression,{alertId:e.id,level:e.level,type:e.type,title:e.title},{send_to:{data_warehouse_legacy:!0}}))},[r]),r.length)?(0,t.jsx)("ul",{className:"group flex flex-col p-2",children:r.map(e=>(0,t.jsx)("li",{className:"flex flex-row rounded-sm [:where(&:nth-child(odd))]:bg-background-200 [:where(&:nth-child(odd))]:transition-colors [:where(&:nth-child(odd))]:delay-150 [:where(&:nth-child(odd))]:duration-200 overflow-hidden [@media(hover:hover){&:hover}]:!bg-gray-100 group-has-[li:hover]:[:where(&:nth-child(odd))]:bg-transparent group-has-[li:hover]:[:where(&:nth-child(odd))]:delay-0 group-has-[li:hover]:[:where(&:nth-child(odd))]:duration-0",children:(0,t.jsxs)(n.DashboardLink,{className:"flex h-8 flex-row min-w-0 flex-1 gap-1.5 p-2 items-center",route:"/[teamSlug]/~/observability/alerts/[alertId]",params:{alertId:e.id},prefetch:!1,...(0,C.createTrackingAttributes)({section:"alerts-widget",element:"row"}),onClick:()=>{m.analytics.track(p.VercelActivityAction.AlertsWidgetAlertClicked,{status:e.status,alertId:e.id,level:e.level,type:e.type,title:e.title},{send_to:{data_warehouse_legacy:!0}})},children:[(0,t.jsx)(T,{projectId:e.projectId,teamSlug:s,deploymentId:e.deploymentId}),(0,t.jsx)(P.AlertTitle,{alert:e,className:"text-label-14 min-w-0 flex-1 truncate leading-4 content-center"}),"active"===e.status?(0,t.jsx)(D.Tooltip,{text:`Active since ${(0,A.formatRelativeTime)(e.startedAt)}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-label-12 shrink-0 font-medium tabular-nums text-red-900",children:(0,A.formatRelativeTime)(e.startedAt)}),(0,t.jsx)(M.WarningFill,{color:"red-700"})]})}):(0,t.jsx)("span",{className:"text-label-12 shrink-0 font-medium tabular-nums text-gray-900",children:(0,L.ago)(Date.now()-(e.resolvedAt??e.startedAt),{justNowThreshold:(0,y.default)("1m")})})]})},e.id))}):(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 flex-row w-full h-full",children:[(0,t.jsx)(S.CheckCircle,{color:"gray-900"}),(0,t.jsx)("span",{className:"text-copy-14 text-gray-900",children:"No recent anomalies detected"})]})}function T(e){let{projectId:a,teamSlug:r,deploymentId:s,size:i=16}=e;return(0,t.jsx)(k.AvatarWithError,{className:"cursor-pointer",priority:!0,size:i,style:{flexBasis:i},tooltipProps:{className:"relative z-[2]",text:"There was an issue rendering your favicon"},url:function(e){let{deploymentId:t,projectId:a,teamSlug:r}=e;return`/api/v0/deployments/${t}/favicon${(0,I.encode)({teamId:r,project:a})}`}({deploymentId:s,projectId:a,teamSlug:r})})}e.s(["AlertsWrapper",0,function(e){let{teamSlug:r}=e,{data:s,enabled:i}=function(e){let{teamSlug:t}=e,r=(0,a.useRef)({}),{data:s,...i}=(0,g.useIsomorphicSuspenseSWR)((0,f.swrRequest)(`alerts-widget-${t}`),async()=>{let[e,a]=await Promise.all([(0,j.typedFetchData)("/alerts/v2/alerts","get",{teamId:t}),(0,j.typedFetchData)(v.API_OBSERVABILITY_CONFIGURATION,"get",{teamId:t})]);if(!a?.observabilityPlus?.enabled)return{enabled:!1,alerts:[],projects:[]};let s=e.filter(e=>!("active"!==e.status&&e.resolvedAt&&Date.now()-e.resolvedAt>w||a?.observabilityPlus?.excludedProjects?.some(t=>t.id===e.projectId))),i=new Set(s.map(e=>e.projectId)),l=Object.fromEntries(await Promise.all(Array.from(i).map(async e=>{if(r.current[e])return[e,r.current[e]];try{let a=await (0,j.typedFetchData)("/v1/dashboard/projects/{idOrName}","get",{idOrName:e,teamId:t}),r={id:a.id,name:a.name,productionDeployment:a.productionDeployment?{id:a.productionDeployment.id}:void 0};return[e,r]}catch(t){return console.error(e,t),[e,void 0]}})));return{enabled:!0,alerts:s.map(e=>{let t=l[e.projectId];if(t?.productionDeployment)return{...e,projectName:t.name,deploymentId:t.productionDeployment.id}}).filter(b).sort((e,t)=>Number("active"===t.status)-Number("active"===e.status)).slice(0,8),projects:Object.values(l).filter(b)}},{revalidateIfStale:!1});return(0,a.useEffect)(()=>{if(s?.projects)for(let e of s.projects)r.current[e.id]=e},[s?.projects]),{enabled:s?.enabled,data:s?.alerts,...i}}({teamSlug:r}),l=(0,a.useRef)(!1),n=s.filter(e=>"active"===e.status).length;return((0,a.useEffect)(()=>{if(!l.current&&(l.current=!0,n>0)){let e=document.querySelector("[data-sidebar-container] [value=alerts]");e&&(e.checked=!0)}},[n]),i)?(0,t.jsx)(o,{activeBorder:n>0,headerAttachment:n>0?(0,t.jsxs)(N.Badge,{variant:"red-subtle",size:"sm",children:[n," Active"]}):null,children:(0,t.jsx)(F,{alerts:s,teamSlug:r})}):(0,t.jsx)(o,{large:!0,children:(0,t.jsx)(x,{})})}],1875605)},1561802,e=>{"use strict";var t=e.i(4205214),a=e.i(1107069),r=e.i(6159310);e.s(["AlertsError",0,function(){let e=(0,r.useLink)();return(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsx)(a.ProjectsHeading,{title:"Alerts",href:e("/[teamSlug]/~/observability/alerts")}),(0,t.jsx)("div",{className:"material-small grid h-[180px] cursor-pointer place-content-center bg-background-200 p-2 text-gray-900 hover:text-gray-1000 focus-visible:text-gray-1000",children:(0,t.jsx)("div",{className:"flex flex-row items-center gap-2",children:(0,t.jsx)("span",{className:"text-copy-14",children:"Failed to load alerts"})})})]})}])},1982365,e=>{"use strict";var t=e.i(4205214),a=e.i(6420219),r=e.i(3954609),s=e.i(6591520),i=e.i(8660982);function l(e){let{children:i}=e,[{repo:l,mfe:n}]=(0,a.useQueryStates)(r.teamOverviewSearchParams);return(0,s.useTeamOverviewDebouncedSearch)()||l||n?null:(0,t.jsx)(t.Fragment,{children:i})}e.s(["ProjectsSidebarControl",0,function(e){let{children:a,filtered:r=!1}=e;return(0,t.jsx)(i.Suspense,{fallback:r?null:a,children:(0,t.jsx)(l,{children:a})})}])},2845548,e=>{"use strict";var t=e.i(4205214),a=e.i(8660982),r=e.i(2504781),s=e.i(9096446),i=e.i(57106),l=e.i(4597921),n=e.i(9064355),o=e.i(7359508),c=e.i(7547385);let d="new-dashboard-banner-dismissed";function u(e){let{variant:l="card"}=e,{setIsOpen:u}=(0,n.useFeedback)(),[h,x]=(0,a.useState)(!1),[g,f]=(0,a.useState)(()=>{try{return"true"===localStorage.getItem(d)}catch{return!1}}),j=()=>{localStorage.setItem(d,"true"),f(!0)};return((0,a.useEffect)(()=>{let e=e=>{e.key===d&&"true"===e.newValue&&f(!0)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]),"banner"===l)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{id:"new-dash-banner",suppressHydrationWarning:!0,style:g?{display:"none"}:void 0,className:"bg-transparent !shadow-none border border-gray-300 flex flex-row items-center gap-2 rounded-md pl-3 pr-1 py-1 -mb-2 -mx-px",children:[(0,t.jsx)(p,{}),(0,t.jsxs)("p",{className:"text-label-14 flex-1 ml-1 text-gray-900",children:["You are using the new dashboard",(0,t.jsx)("span",{className:"max-md:hidden",children:" experience"})]}),(0,t.jsxs)("div",{className:"hidden @md-page:flex items-center gap-1",children:[(0,t.jsx)(r.Button,{type:"tertiary",size:"small",className:"!text-gray-900 !font-normal",onClick:()=>{x(!0)},children:"Opt Out"}),(0,t.jsx)(r.Button,{type:"secondary",size:"small",onClick:()=>{u(!0)},children:"Give Feedback"}),(0,t.jsx)(r.Button,{type:"tertiary",size:"small",shape:"square",svgOnly:!0,className:"!text-gray-900","aria-label":"Dismiss",onClick:j,children:(0,t.jsx)(s.CrossSmall,{})})]}),(0,t.jsx)("div",{className:"@md-page:hidden flex items-center gap-1",children:(0,t.jsx)(r.Button,{type:"tertiary",size:"small",shape:"square",svgOnly:!0,className:"!text-gray-900","aria-label":"Dismiss",onClick:j,children:(0,t.jsx)(s.CrossSmall,{})})})]}),(0,t.jsx)(a.Suspense,{children:(0,t.jsx)(c.NewDashboardSurvey,{active:h,setActive:x})})]}):(0,t.jsxs)("div",{className:"@container material-small flex flex-row items-center gap-3 rounded p-4",children:[(0,t.jsx)(m,{}),(0,t.jsxs)("div",{className:"flex flex-1 flex-col text-copy-13",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"@xs:hidden",children:"Try"}),(0,t.jsx)("span",{className:"hidden @xs:inline",children:"Experience"})," the"," ",(0,t.jsx)("span",{className:"font-medium",children:"new navigation"})]}),(0,t.jsx)(i.Link,{href:"https://vercel.com/try/new-dashboard",className:"text-blue-900 hover:underline",children:"Learn more"})]}),(0,t.jsx)(r.Button,{type:"secondary",size:"small",onClick:()=>{(0,o.setDashExperiment)({value:1,source:"card"})},children:"Try it out"})]})}function m(e){return(0,t.jsxs)("svg",{"aria-hidden":!0,fill:"none",height:"33",width:"38",viewBox:"0 0 38 33",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,t.jsx)("path",{d:"M1 1h35.429v27a4 4 0 0 1-4 4H5a4 4 0 0 1-4-4V1Z",fill:"var(--ds-background-100)"}),(0,t.jsx)("path",{d:"M36.929.5V28a4.5 4.5 0 0 1-4.5 4.5H5A4.5 4.5 0 0 1 .5 28V.5h36.429Z",stroke:"var(--ds-gray-alpha-400)"}),(0,t.jsx)("path",{fill:"var(--ds-background-200)",d:"M15.715 1h21v26a5 5 0 0 1-5 5h-16V1Z"}),(0,t.jsx)("path",{d:"M16 32V1",stroke:"var(--ds-gray-400)"}),(0,t.jsx)("path",{d:"M11.608 29.107H3.822",stroke:"var(--ds-gray-400)",strokeLinecap:"round",strokeWidth:"2.214"}),(0,t.jsx)("path",{d:"m27.862 12.665 3.806 3.805a.75.75 0 0 1 0 1.06l-3.806 3.805-.397.399-.796-.796.398-.398 2.977-2.977h-8.58v-1.125h8.58l-2.977-2.978-.398-.397.796-.796.397.398Z",fill:"var(--ds-gray-700)"}),(0,t.jsx)("path",{d:"M15.715 4.5h21",stroke:"var(--ds-gray-400)"}),(0,t.jsx)("rect",{fill:"var(--ds-gray-200)",height:"2",rx:"1",stroke:"var(--ds-gray-400)",width:"11",x:"2.715",y:"7"}),(0,t.jsx)("rect",{fill:"var(--ds-gray-200)",height:"2",rx:"1",stroke:"var(--ds-gray-400)",width:"11",x:"2.715",y:"3"}),(0,t.jsx)("rect",{fill:"var(--ds-gray-200)",height:"2",rx:"1",stroke:"var(--ds-gray-400)",width:"11",x:"2.715",y:"11"}),(0,t.jsx)("rect",{fill:"var(--ds-gray-200)",height:"2",rx:"1",stroke:"var(--ds-gray-400)",width:"11",x:"2.715",y:"15"})]})}function p(e){return(0,t.jsxs)("svg",{"aria-hidden":!0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"16",viewBox:"0 0 18 16",fill:"none",...e,children:[(0,t.jsx)("path",{stroke:"var(--ds-gray-alpha-500)",d:"M17.5.5v12a3 3 0 0 1-3 3h-11a3 3 0 0 1-3-3V.5h17Z"}),(0,t.jsx)("path",{stroke:"var(--ds-gray-500)",d:"M7.5 15V1M6 3.5H2M6 5.5H2M6 7.5H2M6 9.5H2"})]})}e.s(["FlaggedNewDashboardHintCard",0,function(e){let{variant:a="card"}=e;return(0,l.useServerFlag)("enable-new-dashboard",!1)?(0,t.jsx)(u,{variant:a}):null},"NewDashboardHintCard",0,u],2845548)}]);

//# debugId=5c5b321c-b039-f0c5-7d39-a8223d04b10d
//# sourceMappingURL=cbeb90ead5373458.js.map