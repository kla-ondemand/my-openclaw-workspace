;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="ba60d31e-6833-1909-027f-e7bd03d641b2")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6450656,e=>{"use strict";var i=e.i(2466450);let t={fee:1e3,rate:{hobby:0,pro:3e3,plus:3e3},allocation:{hobby:5e4,pro:1e5,plus:1e5},reportingWindow:{hobby:"30 days",pro:"12 months",plus:"24 months"},bundle:"1M events prorated",bundleTooltip:"you'll be charged per event.\n\nFor example, {allocation} extra events will cost $3.",plusDescription:"Unlocks advanced UI features and view up to {reportingWindow} of data for all your projects. {fee} per month."},n=new Intl.NumberFormat("en-US");e.s(["pricingModel",0,t,"withPricing",0,function(e){let{offering:s="pro",currency:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.replace(/{plusDescription}/g,t.plusDescription).replace(/{bundleTooltip}/g,t.bundleTooltip).replace(/{fee}/g,(0,i.formatCurrency)(t.fee,l)).replace(/{allocation}/g,n.format(t.allocation[s])).replace(/{rate}/g,(0,i.formatCurrency)(t.rate[s],l)).replace(/{bundle}/g,t.bundle).replace(/{reportingWindow}/g,t.reportingWindow[s])}])},2924439,e=>{"use strict";var i=e.i(6450656);let t=Object.freeze({pro:{title:"Pro",price:2e3,subLineItems:[],credit:2e3},teamSeats:{title:"Additional Team Seats",price:2e3,subLineItems:[]},concurrentBuilds:{title:"Concurrent Builds",price:5e3,subLineItems:[{title:"1 Free Concurrent Build",price:0,unit:"month"}]},bandwidth:{title:"Bandwidth – Overage Fee",price:4e3,batch:100,threshold:1e3,unit:"GB",subLineItems:[]},serverlessFunctionExecution:{title:"Serverless Function Execution – Overage Fee",price:4e3,batch:100,threshold:1e3,unit:"GB-Hours",subLineItems:[]},artifacts:{title:"Vercel Remote Caching",price:50,batch:1,threshold:10,unit:"GB",subLineItems:[]},edgeMiddlewareInvocations:{title:"Edge Middleware Invocations",price:65,batch:1e6,threshold:1e6,unit:"invocations",subLineItems:[]},edgeFunctionExecutionUnits:{title:"Edge Function Execution Units",price:200,batch:1e6,threshold:1e6,unit:"execution units",subLineItems:[]},sourceImages:{title:"Source Images",price:500,batch:1e3,threshold:5e3,subLineItems:[]},speedInsights:{title:"Speed Insights",price:1e3,unit:"month",subLineItems:[{title:"On-Demand Events",billedAfter:"Billed after 10k events",price:65,batch:1e4,threshold:1e4,unit:"10k"}]},observabilityPlus:{title:"Observability Plus",price:1e3,subLineItems:[]},passwordProtection:{title:"Advanced Deployment Protection",price:15e3,subLineItems:[{title:"Password Protection",price:0},{title:"Deployment Protection Exceptions",price:0},{title:"Private Production Deployments",price:0}]},previewDeploymentSuffix:{title:"Preview Deployment Suffix",price:1e4,subLineItems:[]},webAnalytics:{title:i.withPricing("Web Analytics with {allocation} Events"),price:0,threshold:i.pricingModel.allocation.pro,limit:1,subLineItems:[{title:"On-Demand Events",billedAfter:i.withPricing("Billed after {allocation} Events"),price:i.pricingModel.rate.pro,threshold:i.pricingModel.allocation.pro,batch:0,unit:i.withPricing("{bundle}")}]},webAnalyticsPlus:{title:"Web Analytics Plus",price:i.pricingModel.fee,unit:"month",threshold:i.pricingModel.allocation.plus,limit:1,subLineItems:[]},monitoring:{title:"Monitoring with 250k Data Points",price:1e3,unit:"month",subLineItems:[{title:"On-Demand Data Points",billedAfter:"Billed after 250k data points",price:120,threshold:25e4,batch:1e6,unit:"million"}]},storage:{title:"5 KV Databases",price:0,subLineItems:[]}});e.s(["pricingMenu",0,t])},1649649,e=>{"use strict";var i=e.i(7917902),t=e.i(2924439);e.s(["getWebAnalyticsEventsMaxLimit",0,e=>{let{plan:i,isPlus:n}=e;if("hobby"===i)return 2500;if("pro"===i){if(n){if(!t.pricingMenu.webAnalyticsPlus.limit)throw Error("pricingMenu.webAnalyticsPlus.limit is not defined");return t.pricingMenu.webAnalyticsPlus.limit}if(!t.pricingMenu.webAnalytics.limit)throw Error("pricingMenu.webAnalytics.limit is not defined");return t.pricingMenu.webAnalytics.limit}return 1/0},"useIsWebAnalyticsBilling",0,function(){let{team:e,mutate:t}=(0,i.useAccount)(),n=e?.billing?.plan||"hobby",s=e?.billing?.planIteration||"legacy",l=e?.billing?.status==="trialing";return"pro"===n&&e?.enabledInvoiceItems?.webAnalytics?.enabled?{isPlus:!0,mutate:t,isTrialTeam:l,plan:n,planIteration:s,isSubscribed:!0}:{isPlus:!1,mutate:t,plan:n,planIteration:s,isTrialTeam:l,isSubscribed:"hobby"===n||(e?.enabledInvoiceItems?.webAnalyticsEvent?.enabled??!1)}}])},9694854,e=>{"use strict";var i=e.i(7883293),t=e.i(1853611),n=e.i(7780974);let s=(0,i.create)(e=>({isOpen:!1,open:i=>{t.analytics.track(n.VercelActivityAction.DrainsModalOpened,{source:i},{send_to:{data_warehouse_legacy:!0}}),e({isOpen:!0})},close:()=>{e({isOpen:!1})}}));e.s(["useDrainModalState",0,s,"useOpenDrainModal",0,()=>s(e=>e.open)])},4207022,e=>{"use strict";var i=e.i(1717203),t=e.i(5338940),n=e.i(7557283);e.s(["useCanCreateDrain",0,function(){let{team:e,isLoading:s}=(0,t.useTeam)(),{can:l,isLoading:r}=(0,i.default)(),a=e?.billing?.plan==="hobby",o=e?.billing?.plan==="pro"&&"trialing"===e.billing.status;return{canCreateDrain:l(n.Action.Create,n.Resource.Drain)&&!(a||o),isLoading:s||r}}])},4301221,e=>{"use strict";var i=e.i(7883293),t=e.i(8042625),n=e.i(7722264),s=e.i(277234),l=e.i(6352514),r=e.i(1853611);let a={step:"closed",isProcessing:!1,error:void 0},o=(0,i.create)((e,i)=>({...a,team:null,projectId:null,isPlusEnabled:!1,setProps:i=>{let{team:t,projectId:n,onSuccess:s}=i;e({team:t,projectId:n,isPlusEnabled:t?.enabledInvoiceItems?.webAnalytics?.enabled??!1,onSuccess:s})},open:()=>{e({...a,step:"confirm"})},close:()=>{e(a)},disable:async()=>{let{team:a,projectId:o}=i();try{e({isProcessing:!0,error:void 0}),await (0,s.fetchAPI)(`/api/v1/web/insights/toggle${(0,t.encode)({projectId:o,teamId:a?.id})}`,{method:"POST",body:{value:!1},throwOnHTTPError:!0}),r.analytics.track(l.AnalyticsEvent.ANALYTICS_DISABLED,{teamId:a?.id,projectId:o}),e({step:"survey",isProcessing:!1})}catch(i){e({error:"Something went wrong.",isProcessing:!1}),(0,n.isErrorLike)(i)&&r.analytics.track(l.AnalyticsEvent.ERROR,{message:i.message,name:i.name,teamId:a?.id})}},completeSurvey:()=>{let{onSuccess:t}=i();e(a),t?.()}}));e.s(["useModalState",0,o,"useOpenDisableModal",0,()=>o(e=>e.open)])},3343953,e=>{"use strict";var i=e.i(2144405),t=e.i(4205214),n=e.i(8876434),s=e.i(8674454),l=e.i(6694387),r=e.i(4991687),a=e.i(8459493),o=e.i(5677444),c=e.i(8660982),u=e.i(6352514),d=e.i(1853611),p=e.i(5338940),b=e.i(9928621),g=e.i(4301221),h=e.i(9694854),m=e.i(4207022),y=e.i(1649649);e.s(["OptionsMenu",0,function(e){let{buttonClassName:I}=e,{setUpgradeModalSource:v}=(0,b.useWebAnalyticsContext)(),A=(0,g.useOpenDisableModal)(),f=(0,h.useOpenDrainModal)(),P=(0,o.useRouter)(),{team:w,isLoading:E}=(0,p.useTeam)(),{isPlus:L,plan:M}=(0,y.useIsWebAnalyticsBilling)(),{canCreateDrain:D,isLoading:C}=(0,m.useCanCreateDrain)(),x=(0,c.useCallback)(()=>{"pro"===M&&L?P.push(w?`/${w.slug}/~/settings/billing#web-analytics`:"/account/billing#web-analytics"):(d.analytics.track(u.AnalyticsEvent.ANALYTICS_UPSELL_CLICKED,{currentPlan:M,teamId:w?.id,type:"three-dots"}),v("menu"))},[L,M,P,v,w]);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(r.MenuContainer,{position:"bottom-end",children:[(0,t.jsx)(l.MenuButton,{"aria-label":"More Actions",className:I,shape:"square",svgOnly:!0,type:"true"!==i.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==i.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===i.default.env.NEXT_PUBLIC_DASH?"tertiary":"secondary",children:(0,t.jsx)(n.MoreHorizontal,{})}),(0,t.jsxs)(s.Menu,{width:213,children:["enterprise"!==M?(0,t.jsx)(a.MenuItem,{disabled:E,onClick:x,children:"hobby"===M?"Upgrade to Pro":L?"Go to Billing":"Upgrade to Plus"}):null,(0,t.jsx)(a.MenuItem,{external:!0,href:"/docs/analytics",isLink:!0,target:"_blank",children:"Go to Docs"}),C?null:(0,t.jsx)(a.MenuItem,{disabled:!D,onClick:()=>{f("web-analytics-options-menu")},children:"Add Drain"}),(0,t.jsx)(a.MenuItem,{onClick:A,type:"error",children:"Disable Web Analytics"})]})]})})}])},1187354,e=>{"use strict";var i=e.i(4205214),t=e.i(2144405),n=e.i(8660982),s=e.i(5677444),l=e.i(6352514),r=e.i(1853611),a=e.i(5338940),o=e.i(9928621),c=e.i(4301221),u=e.i(1649649),d=e.i(1295503),p=e.i(3343953),b=e.i(9694854),g=e.i(4207022);function h(){return"true"===t.default.env.NEXT_PUBLIC_TESTMODE||"true"===t.default.env.NEXT_PUBLIC_TESTSERVER||"1"!==t.default.env.NEXT_PUBLIC_DASH?(0,i.jsx)(p.OptionsMenu,{buttonClassName:"!w-[36px]"}):(0,i.jsx)(n.Suspense,{fallback:null,children:(0,i.jsx)(m,{})})}function m(){let e=(0,s.useRouter)(),{setUpgradeModalSource:t}=(0,o.useWebAnalyticsContext)(),{team:p,isLoading:h}=(0,a.useTeam)(),{isPlus:m,plan:y}=(0,u.useIsWebAnalyticsBilling)(),{canCreateDrain:I,isLoading:v}=(0,g.useCanCreateDrain)(),A=(0,c.useOpenDisableModal)(),f=(0,b.useOpenDrainModal)(),P=(0,n.useCallback)(()=>{"pro"===y&&m?e.push(p?`/${p.slug}/~/settings/billing#web-analytics`:"/account/billing#web-analytics"):(r.analytics.track(l.AnalyticsEvent.ANALYTICS_UPSELL_CLICKED,{currentPlan:y,teamId:p?.id,type:"three-dots"}),t("menu"))},[m,y,e,t,p]);return(0,i.jsxs)(i.Fragment,{children:["enterprise"!==y?(0,i.jsx)(d.ActionMenuItem,{disabled:h,onClick:P,children:"hobby"===y?"Upgrade to Pro":m?"Go to Billing":"Upgrade to Plus"}):null,(0,i.jsx)(d.ActionMenuLink,{href:"/docs/analytics",external:!0,children:"Go to Docs"}),v?null:(0,i.jsx)(d.ActionMenuItem,{disabled:!I,onClick:()=>{f("web-analytics-options-menu")},children:"Add Drain"}),(0,i.jsx)(d.ActionMenuItem,{onClick:A,type:"error",children:"Disable Web Analytics"})]})}e.s(["default",0,function(){return(0,i.jsx)(h,{})}],1187354)}]);

//# debugId=ba60d31e-6833-1909-027f-e7bd03d641b2
//# sourceMappingURL=3d5b8b71fdb91b49.js.map