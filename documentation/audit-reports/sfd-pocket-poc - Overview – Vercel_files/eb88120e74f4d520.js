;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="20703895-40ce-1f64-9e2c-4b6135dadf7b")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1902869,e=>{e.v({dimensionsContainer:"tooltip-module__r4tAyG__dimensionsContainer",locked:"tooltip-module__r4tAyG__locked",tooltip:"tooltip-module__r4tAyG__tooltip",tooltipDate:"tooltip-module__r4tAyG__tooltipDate"})},2314794,e=>{e.v({colorIndicator:"list-tooltip-module__V7_y4G__colorIndicator",date:"list-tooltip-module__V7_y4G__date",highlightedItem:"list-tooltip-module__V7_y4G__highlightedItem",itemName:"list-tooltip-module__V7_y4G__itemName",itemValue:"list-tooltip-module__V7_y4G__itemValue",list:"list-tooltip-module__V7_y4G__list",listItem:"list-tooltip-module__V7_y4G__listItem",otherItem:"list-tooltip-module__V7_y4G__otherItem",productListTooltip:"list-tooltip-module__V7_y4G__productListTooltip",title:"list-tooltip-module__V7_y4G__title",total:"list-tooltip-module__V7_y4G__total"})},5114891,e=>{e.v({bar:"bars-module__iDDfzW__bar",barOverlay:"bars-module__iDDfzW__barOverlay",barOverlaySelected:"bars-module__iDDfzW__barOverlaySelected",barSelected:"bars-module__iDDfzW__barSelected"})},8303205,e=>{e.v({autoVisibility:"body-module__gZgq1G__autoVisibility",chartAxis:"body-module__gZgq1G__chartAxis",chartContainer:"body-module__gZgq1G__chartContainer"})},3070885,e=>{e.v({container:"legend-module__CCQ9Ya__container",hasMore:"legend-module__CCQ9Ya__hasMore",legendRow:"legend-module__CCQ9Ya__legendRow",showMore:"legend-module__CCQ9Ya__showMore",total:"legend-module__CCQ9Ya__total"})},2312502,e=>{e.v({container:"styles-module__NIZ89G__container",content:"styles-module__NIZ89G__content",disabled:"styles-module__NIZ89G__disabled",expanded:"styles-module__NIZ89G__expanded",header:"styles-module__NIZ89G__header",noHover:"styles-module__NIZ89G__noHover"})},2051099,e=>{"use strict";var t,r,l,a,s,i,n,o=e.i(4205214),u=e.i(8660982),c=e.i(1752298),d=e.i(7432286),f=e.i(7954259);function h(e){let{children:t,className:r,minHeight:l=360}=e,[a,s]=(0,u.useState)(!1),[i,n]=(0,u.useState)(l),c=(0,u.useRef)(null);return(0,u.useEffect)(()=>{let e=c.current;if(!e)return;let t=new IntersectionObserver(t=>{let[r=null]=t;if(!r)return;let l=!1;s(e=>(l=e&&!r.isIntersecting,r.isIntersecting)),l&&n(e.clientHeight)},{rootMargin:"800px 0px"});return t.observe(e),()=>t.disconnect()},[]),(0,o.jsx)("div",{className:r,ref:c,style:a?{minHeight:l,transition:"opacity 0.1s"}:{height:i,minHeight:l,opacity:0},children:a?t:null})}let m={defaultColors:["var(--ds-blue-700)","var(--ds-amber-700)","var(--ds-green-700)","var(--ds-teal-700)","var(--ds-purple-700)","var(--ds-pink-700)","var(--ds-red-700)","var(--ds-gray-700)","var(--ds-blue-600)","var(--ds-amber-600)","var(--ds-green-600)","var(--ds-teal-600)","var(--ds-purple-600)","var(--ds-pink-600)","var(--ds-red-600)","var(--ds-gray-600)","var(--ds-blue-400)","var(--ds-amber-400)","var(--ds-green-400)","var(--ds-teal-400)","var(--ds-purple-400)","var(--ds-pink-400)","var(--ds-red-400)","var(--ds-gray-400)"],namedColors:{success:["var(--ds-blue-700)","var(--ds-blue-500)","var(--ds-blue-200)","var(--ds-blue-1000)"],error:["var(--ds-red-800)","var(--ds-red-500)","var(--ds-red-200)","var(--ds-red-1000)"],warning:["var(--ds-amber-700)","var(--ds-amber-500)","var(--ds-amber-200)","var(--ds-amber-1000)"]}};var p=e.i(2993788),g=e.i(4573068),x=e.i(8861835),v=e.i(8587628),y=e.i(9310550),b=e.i(1230902),j=Object.defineProperty,w={},_={assign:()=>ee,colors:()=>Z,createStringInterpolator:()=>l,skipAnimation:()=>X,to:()=>a,willAdvance:()=>J};for(var k in _)j(w,k,{get:_[k],enumerable:!0});var S=D(),C=e=>O(e,S),N=D();C.write=e=>O(e,N);var M=D();C.onStart=e=>O(e,M);var I=D();C.onFrame=e=>O(e,I);var E=D();C.onFinish=e=>O(e,E);var A=[];C.setTimeout=(e,t)=>{let r=C.now()+t,l=()=>{let e=A.findIndex(e=>e.cancel==l);~e&&A.splice(e,1),V-=!!~e},a={time:r,handler:e,cancel:l};return A.splice(P(r),0,a),V+=1,L(),a};var P=e=>~(~A.findIndex(t=>t.time>e)||~A.length);C.cancel=e=>{M.delete(e),I.delete(e),E.delete(e),S.delete(e),N.delete(e)},C.sync=e=>{F=!0,C.batchedUpdates(e),F=!1},C.throttle=e=>{let t;function r(){try{e(...t)}finally{t=null}}function l(){for(var e=arguments.length,l=Array(e),a=0;a<e;a++)l[a]=arguments[a];t=l,C.onStart(r)}return l.handler=e,l.cancel=()=>{M.delete(r),t=null},l};var T="u">typeof window?window.requestAnimationFrame:()=>{};C.use=e=>T=e,C.now="u">typeof performance?()=>performance.now():Date.now,C.batchedUpdates=e=>e(),C.catch=console.error,C.frameLoop="always",C.advance=()=>{"demand"!==C.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):B()};var U=-1,V=0,F=!1;function O(e,t){F?(t.delete(e),e(0)):(t.add(e),L())}function L(){U<0&&(U=0,"demand"!==C.frameLoop&&T(R))}function R(){~U&&(T(R),C.batchedUpdates(B))}function B(){let e=U,t=P(U=C.now());(t&&($(A.splice(0,t),e=>e.handler()),V-=t),V)?(M.flush(),S.flush(e?Math.min(64,U-e):16.667),I.flush(),N.flush(),E.flush()):U=-1}function D(){let e=new Set,t=e;return{add(r){V+=+!(t!=e||e.has(r)),e.add(r)},delete:r=>(V-=t==e&&e.has(r)?1:0,e.delete(r)),flush(r){t.size&&(e=new Set,V-=t.size,$(t,t=>t(r)&&e.add(t)),V+=e.size,t=e)}}}function $(e,t){e.forEach(e=>{try{t(e)}catch(e){C.catch(e)}})}function H(){}var z={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e};function G(e,t){if(z.arr(e)){if(!z.arr(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return e===t}function W(e,t,r){if(z.arr(e)){for(let l=0;l<e.length;l++)t.call(r,e[l],`${l}`);return}for(let l in e)e.hasOwnProperty(l)&&t.call(r,e[l],l)}var q=e=>z.und(e)?[]:z.arr(e)?e:[e];function Q(e,t){if(e.size){let r=Array.from(e);e.clear(),r.forEach(t)}}var K=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),l=1;l<t;l++)r[l-1]=arguments[l];return Q(e,e=>e(...r))},Y=()=>"u"<typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Z=null,X=!1,J=H,ee=e=>{e.to&&(a=e.to),e.now&&(C.now=e.now),void 0!==e.colors&&(Z=e.colors),null!=e.skipAnimation&&(X=e.skipAnimation),e.createStringInterpolator&&(l=e.createStringInterpolator),e.requestAnimationFrame&&C.use(e.requestAnimationFrame),e.batchedUpdates&&(C.batchedUpdates=e.batchedUpdates),e.willAdvance&&(J=e.willAdvance),e.frameLoop&&(C.frameLoop=e.frameLoop)},et=new Set,er=[],el=[],ea=0,es={get idle(){return!et.size&&!er.length},start(e){ea>e.priority?(et.add(e),C.onStart(ei)):(en(e),C(eu))},advance:eu,sort(e){if(ea)C.onFrame(()=>es.sort(e));else{let t=er.indexOf(e);~t&&(er.splice(t,1),eo(e))}},clear(){er=[],et.clear()}};function ei(){et.forEach(en),et.clear(),C(eu)}function en(e){er.includes(e)||eo(e)}function eo(e){var t,r;let l;er.splice((t=er,r=t=>t.priority>e.priority,(l=t.findIndex(r))<0?t.length:l),0,e)}function eu(e){let t=el;for(let r=0;r<er.length;r++){let l=er[r];ea=l.priority,!l.idle&&(J(l),l.advance(e),l.idle||t.push(l))}return ea=0,(el=er).length=0,(er=t).length>0}var ec="[-+]?\\d*\\.?\\d+",ed=ec+"%";function ef(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var eh=RegExp("rgb"+ef(ec,ec,ec)),em=RegExp("rgba"+ef(ec,ec,ec,ec)),ep=RegExp("hsl"+ef(ec,ed,ed)),eg=RegExp("hsla"+ef(ec,ed,ed,ec)),ex=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ev=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ey=/^#([0-9a-fA-F]{6})$/,eb=/^#([0-9a-fA-F]{8})$/;function ej(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function ew(e,t,r){let l=r<.5?r*(1+t):r+t-r*t,a=2*r-l;return Math.round(255*ej(a,l,e+1/3))<<24|Math.round(255*ej(a,l,e))<<16|Math.round(255*ej(a,l,e-1/3))<<8}function e_(e){let t=parseInt(e,10);return t<0?0:t>255?255:t}function ek(e){return(parseFloat(e)%360+360)%360/360}function eS(e){let t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function eC(e){let t=parseFloat(e);return t<0?0:t>100?1:t/100}function eN(e){let t,r="number"==typeof e?e>>>0===e&&e>=0&&e<=0xffffffff?e:null:(t=ey.exec(e))?parseInt(t[1]+"ff",16)>>>0:Z&&void 0!==Z[e]?Z[e]:(t=eh.exec(e))?(e_(t[1])<<24|e_(t[2])<<16|e_(t[3])<<8|255)>>>0:(t=em.exec(e))?(e_(t[1])<<24|e_(t[2])<<16|e_(t[3])<<8|eS(t[4]))>>>0:(t=ex.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=eb.exec(e))?parseInt(t[1],16)>>>0:(t=ev.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=ep.exec(e))?(255|ew(ek(t[1]),eC(t[2]),eC(t[3])))>>>0:(t=eg.exec(e))?(ew(ek(t[1]),eC(t[2]),eC(t[3]))|eS(t[4]))>>>0:null;if(null===r)return e;let l=(0xff000000&(r=r||0))>>>24,a=(0xff0000&r)>>>16,s=(65280&r)>>>8,i=(255&r)/255;return`rgba(${l}, ${a}, ${s}, ${i})`}var eM=(e,t,r)=>{if(z.fun(e))return e;if(z.arr(e))return eM({range:e,output:t,extrapolate:r});if(z.str(e.output[0]))return l(e);let a=e.output,s=e.range||[0,1],i=e.extrapolateLeft||e.extrapolate||"extend",n=e.extrapolateRight||e.extrapolate||"extend",o=e.easing||(e=>e);return t=>{let r=function(e,t){for(var r=1;r<t.length-1&&!(t[r]>=e);++r);return r-1}(t,s);return function(e,t,r,l,a,s,i,n,o){let u=o?o(e):e;if(u<t)if("identity"===i)return u;else"clamp"===i&&(u=t);if(u>r)if("identity"===n)return u;else"clamp"===n&&(u=r);return l===a?l:t===r?e<=t?l:a:(t===-1/0?u=-u:r===1/0?u-=t:u=(u-t)/(r-t),u=s(u),l===-1/0?u=-u:a===1/0?u+=l:u=u*(a-l)+l,u)}(t,s[r],s[r+1],a[r],a[r+1],o,i,n,e.map)}},eI=Symbol.for("FluidValue.get"),eE=Symbol.for("FluidValue.observers"),eA=e=>!!(e&&e[eI]),eP=e=>e&&e[eI]?e[eI]():e,eT=e=>e[eE]||null;function eU(e,t){let r=e[eE];r&&r.forEach(e=>{e.eventObserved?e.eventObserved(t):e(t)})}var eV=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");eF(this,e)}},eF=(e,t)=>eR(e,eI,t);function eO(e,t){if(e[eI]){let r=e[eE];r||eR(e,eE,r=new Set),!r.has(t)&&(r.add(t),e.observerAdded&&e.observerAdded(r.size,t))}return t}function eL(e,t){let r=e[eE];if(r&&r.has(t)){let l=r.size-1;l?r.delete(t):e[eE]=null,e.observerRemoved&&e.observerRemoved(l,t)}}var eR=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0}),eB=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,eD=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,e$=RegExp(`(${eB.source})(%|[a-z]+)`,"i"),eH=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,ez=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,eG=e=>{let[t,r]=eW(e);if(!t||Y())return e;let l=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(l)return l.trim();if(r&&r.startsWith("--")){let e=window.getComputedStyle(document.documentElement).getPropertyValue(r);if(e)return e}else if(r&&ez.test(r))return eG(r);else if(r)return r;return e},eW=e=>{let t=ez.exec(e);if(!t)return[,];let[,r,l]=t;return[r,l]},eq=(e,t,r,l,a)=>`rgba(${Math.round(t)}, ${Math.round(r)}, ${Math.round(l)}, ${a})`,eQ=e=>{s||(s=Z?RegExp(`(${Object.keys(Z).join("|")})(?!\\w)`,"g"):/^\b$/);let t=e.output.map(e=>eP(e).replace(ez,eG).replace(eD,eN).replace(s,eN)),r=t.map(e=>e.match(eB).map(Number)),l=r[0].map((e,t)=>r.map(e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})).map(t=>eM({...e,output:t}));return e=>{let r=!e$.test(t[0])&&t.find(e=>e$.test(e))?.replace(eB,""),a=0;return t[0].replace(eB,()=>`${l[a++](e)}${r||""}`).replace(eH,eq)}},eK="react-spring: ",eY=e=>{let t=!1;if("function"!=typeof e)throw TypeError(`${eK}once requires a function parameter`);return function(){for(var r=arguments.length,l=Array(r),a=0;a<r;a++)l[a]=arguments[a];t||(e(...l),t=!0)}},eZ=eY(console.warn);function eX(){eZ(`${eK}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var eJ=eY(console.warn);function e0(e){return z.str(e)&&("#"==e[0]||/\d/.test(e)||!Y()&&ez.test(e)||e in(Z||{}))}var e1=new WeakMap,e2=e=>e.forEach(e=>{let{target:t,contentRect:r}=e;return e1.get(t)?.forEach(e=>e(r))}),e5=new Set,e4=function(e){let t,{container:r=document.documentElement}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r===document.documentElement){let t;return e5.add(e),n||(t=()=>{e5.forEach(e=>e({width:window.innerWidth,height:window.innerHeight}))},window.addEventListener("resize",t),n=()=>{window.removeEventListener("resize",t)}),()=>{e5.delete(e),!e5.size&&n&&(n(),n=void 0)}}return!i&&"u">typeof ResizeObserver&&(i=new ResizeObserver(e2)),(t=e1.get(r))||(t=new Set,e1.set(r,t)),t.add(e),i&&i.observe(r),()=>{let t=e1.get(r);t&&(t.delete(e),!t.size&&i&&i.unobserve(r))}},e8={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}},e9=class{constructor(e,t){this.createAxis=()=>({current:0,progress:0,scrollLength:0}),this.updateAxis=e=>{let t,r,l=this.info[e],{length:a,position:s}=e8[e];l.current=this.container[`scroll${s}`],l.scrollLength=this.container["scroll"+a]-this.container["client"+a],t=l.scrollLength,r=l.current,l.progress=t-0==0?1:(r-0)/(t-0)},this.update=()=>{this.updateAxis("x"),this.updateAxis("y")},this.sendEvent=()=>{this.callback(this.info)},this.advance=()=>{this.update(),this.sendEvent()},this.callback=e,this.container=t,this.info={time:0,x:this.createAxis(),y:this.createAxis()}}},e6=new WeakMap,e3=new WeakMap,e7=new WeakMap,te=e=>e===document.documentElement?window:e,tt=function(e){let{container:t=document.documentElement}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e7.get(t);r||(r=new Set,e7.set(t,r));let l=new e9(e,t);if(r.add(l),!e6.has(t)){let e=()=>(r?.forEach(e=>e.advance()),!0);e6.set(t,e);let l=te(t);window.addEventListener("resize",e,{passive:!0}),t!==document.documentElement&&e3.set(t,e4(e,{container:t})),l.addEventListener("scroll",e,{passive:!0})}let a=e6.get(t);return C(a),()=>{C.cancel(a);let e=e7.get(t);if(!e||(e.delete(l),e.size))return;let r=e6.get(t);e6.delete(t),r&&(te(t).removeEventListener("scroll",r),window.removeEventListener("resize",r),e3.get(t)?.())}},tr=Y()?u.useEffect:u.useLayoutEffect;function tl(){let e,t=(0,u.useState)()[1],r=(e=(0,u.useRef)(!1),tr(()=>(e.current=!0,()=>{e.current=!1}),[]),e);return()=>{r.current&&t(Math.random())}}var ta=e=>(0,u.useEffect)(e,ts),ts=[];function ti(e){let t=(0,u.useRef)();return(0,u.useEffect)(()=>{t.current=e}),t.current}var tn=Symbol.for("Animated:node"),to=e=>e&&e[tn],tu=(e,t)=>Object.defineProperty(e,tn,{value:t,writable:!0,configurable:!0}),tc=e=>e&&e[tn]&&e[tn].getPayload(),td=class{constructor(){tu(this,this)}getPayload(){return this.payload||[]}},tf=class extends td{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,z.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new tf(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return z.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){let{done:e}=this;this.done=!1,z.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},th=class extends tf{constructor(e){super(0),this._string=null,this._toString=eM({output:[e,e]})}static create(e){return new th(e)}getValue(){let e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(z.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=eM({output:[this.getValue(),e]})),this._value=0,super.reset()}},tm={dependencies:null},tp=class extends td{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){let t={};return W(this.source,(r,l)=>{r&&r[tn]===r?t[l]=r.getValue(e):eA(r)?t[l]=eP(r):e||(t[l]=r)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){let e;this.payload&&(e=this.payload,e.forEach(e=>e.reset()))}_makePayload(e){if(e){let t=new Set;return W(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){let t;tm.dependencies&&eA(e)&&tm.dependencies.add(e);let r=tc(e);r&&(t=e=>this.add(e),r.forEach(t))}},tg=class extends tp{constructor(e){super(e)}static create(e){return new tg(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){let t=this.getPayload();return e.length==t.length?t.map((t,r)=>t.setValue(e[r])).some(Boolean):(super.setValue(e.map(tx)),!0)}};function tx(e){return(e0(e)?th:tf).create(e)}function tv(e){let t=to(e);return t?t.constructor:z.arr(e)?tg:e0(e)?th:tf}var ty=(e,t)=>{let r=!z.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,u.forwardRef)((l,a)=>{var s,i;let n,o=(0,u.useRef)(null),c=r&&(0,u.useCallback)(e=>{var t,r;t=a,r=e,t&&(z.fun(t)?t(r):t.current=r),o.current=r},[a]),[d,f]=(s=l,i=t,tm.dependencies=n=new Set,s.style&&(s={...s,style:i.createAnimatedStyle(s.style)}),s=new tp(s),tm.dependencies=null,[s,n]),h=tl(),m=()=>{let e=o.current;r&&!e||!1===(!!e&&t.applyAnimatedValues(e,d.getValue(!0)))&&h()},p=new tb(m,f),g=(0,u.useRef)();tr(()=>{let e;return g.current=p,e=e=>eO(e,p),f.forEach(e),()=>{if(g.current){let e;e=g.current.deps,e.forEach(e=>eL(e,g.current)),C.cancel(g.current.update)}}}),(0,u.useEffect)(m,[]),ta(()=>()=>{let e,t=g.current;e=t.deps,e.forEach(e=>eL(e,t))});let x=t.getComponentProps(d.getValue());return u.createElement(e,{...x,ref:c})})},tb=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&C.write(this.update)}},tj=Symbol.for("AnimatedComponent"),tw=e=>z.str(e)?e:e&&z.str(e.displayName)?e.displayName:z.fun(e)&&e.name||null;function t_(e){for(var t=arguments.length,r=Array(t>1?t-1:0),l=1;l<t;l++)r[l-1]=arguments[l];return z.fun(e)?e(...r):e}var tk=(e,t)=>!0===e||!!(t&&e&&(z.fun(e)?e(t):q(e).includes(t))),tS=(e,t)=>z.obj(e)?t&&e[t]:e,tC=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,tN=e=>e,tM=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tN,r=tI;e.default&&!0!==e.default&&(r=Object.keys(e=e.default));let l={};for(let a of r){let r=t(e[a],a);z.und(r)||(l[a]=r)}return l},tI=["config","onProps","onStart","onChange","onPause","onResume","onRest"],tE={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function tA(e){let t=function(e){let t={},r=0;if(W(e,(e,l)=>{!tE[l]&&(t[l]=e,r++)}),r)return t}(e);if(t){let r={to:t};return W(e,(e,l)=>l in t||(r[l]=e)),r}return{...e}}function tP(e){return e=eP(e),z.arr(e)?e.map(tP):e0(e)?w.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function tT(e){for(let t in e)return!0;return!1}function tU(e){return z.fun(e)||z.arr(e)&&z.obj(e[0])}function tV(e,t){e.ref?.delete(e),t?.delete(e)}function tF(e,t){t&&e.ref!==t&&(e.ref?.delete(e),t.add(e),e.ref=t)}var tO={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},tL={...tO.default,mass:1,damping:1,easing:e=>e,clamp:!1},tR=class{constructor(){this.velocity=0,Object.assign(this,tL)}};function tB(e,t){if(z.und(t.decay)){let r=!z.und(t.tension)||!z.und(t.friction);!r&&z.und(t.frequency)&&z.und(t.damping)&&z.und(t.mass)||(e.duration=void 0,e.decay=void 0),r&&(e.frequency=void 0)}else e.duration=void 0}var tD=[],t$=class{constructor(){this.changed=!1,this.values=tD,this.toValues=null,this.fromValues=tD,this.config=new tR,this.immediate=!1}};function tH(e,t){let{key:r,props:l,defaultProps:a,state:s,actions:i}=t;return new Promise((t,n)=>{let o,u,c=tk(l.cancel??a?.cancel,r);if(c)h();else{z.und(l.pause)||(s.paused=tk(l.pause,r));let e=a?.pause;!0!==e&&(e=s.paused||tk(e,r)),o=t_(l.delay||0,r),e?(s.resumeQueue.add(f),i.pause()):(i.resume(),f())}function d(){s.resumeQueue.add(f),s.timeouts.delete(u),u.cancel(),o=u.time-C.now()}function f(){o>0&&!w.skipAnimation?(s.delayed=!0,u=C.setTimeout(h,o),s.pauseQueue.add(d),s.timeouts.add(u)):h()}function h(){s.delayed&&(s.delayed=!1),s.pauseQueue.delete(d),s.timeouts.delete(u),e<=(s.cancelId||0)&&(c=!0);try{i.start({...l,callId:e,cancel:c},t)}catch(e){n(e)}}})}var tz=(e,t)=>1==t.length?t[0]:t.some(e=>e.cancelled)?tq(e.get()):t.every(e=>e.noop)?tG(e.get()):tW(e.get(),t.every(e=>e.finished)),tG=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),tW=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{value:e,finished:t,cancelled:r}},tq=e=>({value:e,cancelled:!0,finished:!1});function tQ(e,t,r,l){let{callId:a,parentId:s,onRest:i}=t,{asyncTo:n,promise:o}=r;return s||e!==n||t.reset?r.promise=(async()=>{let u,c,d;r.asyncId=a,r.asyncTo=e;let f=tM(t,(e,t)=>"onRest"===t?void 0:e),h=new Promise((e,t)=>(u=e,c=t)),m=e=>{let t=a<=(r.cancelId||0)&&tq(l)||a!==r.asyncId&&tW(l,!1);if(t)throw e.result=t,c(e),e},p=(e,t)=>{let s=new tY,i=new tZ;return(async()=>{if(w.skipAnimation)throw tK(r),i.result=tW(l,!1),c(i),i;m(s);let n=z.obj(e)?{...e}:{...t,to:e};n.parentId=a,W(f,(e,t)=>{z.und(n[t])&&(n[t]=e)});let o=await l.start(n);return m(s),r.paused&&await new Promise(e=>{r.resumeQueue.add(e)}),o})()};if(w.skipAnimation)return tK(r),tW(l,!1);try{let t;t=z.arr(e)?(async e=>{for(let t of e)await p(t)})(e):Promise.resolve(e(p,l.stop.bind(l))),await Promise.all([t.then(u),h]),d=tW(l.get(),!0,!1)}catch(e){if(e instanceof tY)d=e.result;else if(e instanceof tZ)d=e.result;else throw e}finally{a==r.asyncId&&(r.asyncId=s,r.asyncTo=s?n:void 0,r.promise=s?o:void 0)}return z.fun(i)&&C.batchedUpdates(()=>{i(d,l,l.item)}),d})():o}function tK(e,t){Q(e.timeouts,e=>e.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var tY=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},tZ=class extends Error{constructor(){super("SkipAnimationSignal")}},tX=1,tJ=class extends eV{constructor(){super(...arguments),this.id=tX++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){let e=to(this);return e&&e.getValue()}to(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return w.to(this,t)}interpolate(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return eX(),w.to(this,t)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];eU(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||es.sort(this),eU(this,{type:"priority",parent:this,priority:e})}},t0=Symbol.for("SpringPhase"),t1=e=>(1&e[t0])>0,t2=e=>(2&e[t0])>0,t5=e=>(4&e[t0])>0,t4=(e,t)=>t?e[t0]|=3:e[t0]&=-3,t8=(e,t)=>t?e[t0]|=4:e[t0]&=-5,t9=class extends tJ{constructor(e,t){if(super(),this.animation=new t$,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!z.und(e)||!z.und(t)){const r=z.obj(e)?{...e}:{...t,from:e};z.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(t2(this)||this._state.asyncTo)||t5(this)}get goal(){return eP(this.animation.to)}get velocity(){let e=to(this);return e instanceof tf?e.lastVelocity||0:e.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return t1(this)}get isAnimating(){return t2(this)}get isPaused(){return t5(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,r=!1,l=this.animation,{toValues:a}=l,{config:s}=l,i=tc(l.to);!i&&eA(l.to)&&(a=q(eP(l.to))),l.values.forEach((n,o)=>{if(n.done)return;let u=n.constructor==th?1:i?i[o].lastPosition:a[o],c=l.immediate,d=u;if(!c){let t;if(d=n.lastPosition,s.tension<=0){n.done=!0;return}let r=n.elapsedTime+=e,a=l.fromValues[o],i=null!=n.v0?n.v0:n.v0=z.arr(s.velocity)?s.velocity[o]:s.velocity,f=s.precision||(a==u?.005:Math.min(1,.001*Math.abs(u-a)));if(z.und(s.duration))if(s.decay){let e=!0===s.decay?.998:s.decay,l=Math.exp(-(1-e)*r);d=a+i/(1-e)*(1-l),c=Math.abs(n.lastPosition-d)<=f,t=i*l}else{t=null==n.lastVelocity?i:n.lastVelocity;let r=s.restVelocity||f/10,l=s.clamp?0:s.bounce,o=!z.und(l),h=a==u?n.v0>0:a<u,m=Math.ceil(e/1);for(let e=0;e<m&&!(!(Math.abs(t)>r)&&(c=Math.abs(u-d)<=f));++e){o&&(d==u||d>u==h)&&(t=-t*l,d=u);let e=(-(1e-6*s.tension)*(d-u)+-(.001*s.friction)*t)/s.mass;t+=+e,d+=+t}}else{let l=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,n.durationProgress>0&&(n.elapsedTime=s.duration*n.durationProgress,r=n.elapsedTime+=e)),n.durationProgress=l=(l=(s.progress||0)+r/this._memoizedDuration)>1?1:l<0?0:l),t=((d=a+s.easing(l)*(u-a))-n.lastPosition)/e,c=1==l}n.lastVelocity=t,Number.isNaN(d)&&(console.warn("Got NaN while animating:",this),c=!0)}i&&!i[o].done&&(c=!1),c?n.done=!0:t=!1,n.setValue(d,s.round)&&(r=!0)});let n=to(this),o=n.getValue();if(t){let e=eP(l.to);(o!==e||r)&&!s.decay?(n.setValue(e),this._onChange(e)):r&&s.decay&&this._onChange(o),this._stop()}else r&&this._onChange(o)}set(e){return C.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(t2(this)){let{to:e,config:t}=this.animation;C.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let r;return z.und(e)?(r=this.queue||[],this.queue=[]):r=[z.obj(e)?e:{...t,to:e}],Promise.all(r.map(e=>this._update(e))).then(e=>tz(this,e))}stop(e){let{to:t}=this.animation;return this._focus(this.get()),tK(this._state,e&&this._lastCallId),C.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){let t=this.key||"",{to:r,from:l}=e;(null==(r=z.obj(r)?r[t]:r)||tU(r))&&(r=void 0),null==(l=z.obj(l)?l[t]:l)&&(l=void 0);let a={to:r,from:l};return!t1(this)&&(e.reverse&&([r,l]=[l,r]),l=eP(l),z.und(l)?to(this)||this._set(r):this._set(l)),a}_update(e,t){let{...r}=e,{key:l,defaultProps:a}=this;r.default&&Object.assign(a,tM(r,(e,t)=>/^on/.test(t)?tS(e,l):e)),rr(this,r,"onProps"),rl(this,"onProps",r,this);let s=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let i=this._state;return tH(++this._lastCallId,{key:l,props:r,defaultProps:a,state:i,actions:{pause:()=>{t5(this)||(t8(this,!0),K(i.pauseQueue),rl(this,"onPause",tW(this,t6(this,this.animation.to)),this))},resume:()=>{t5(this)&&(t8(this,!1),t2(this)&&this._resume(),K(i.resumeQueue),rl(this,"onResume",tW(this,t6(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(e=>{if(r.loop&&e.finished&&!(t&&e.noop)){let e=t3(r);if(e)return this._update(e,!0)}return e})}_merge(e,t,r){if(t.cancel)return this.stop(!0),r(tq(this));let l=!z.und(e.to),a=!z.und(e.from);if(l||a)if(!(t.callId>this._lastToId))return r(tq(this));else this._lastToId=t.callId;let{key:s,defaultProps:i,animation:n}=this,{to:o,from:u}=n,{to:c=o,from:d=u}=e;a&&!l&&(!t.default||z.und(c))&&(c=d),t.reverse&&([c,d]=[d,c]);let f=!G(d,u);f&&(n.from=d),d=eP(d);let h=!G(c,o);h&&this._focus(c);let m=tU(t.to),{config:p}=n,{decay:g,velocity:x}=p;(l||a)&&(p.velocity=0),t.config&&!m&&function(e,t,r){for(let l in r&&(tB(r={...r},t),t={...r,...t}),tB(e,t),Object.assign(e,t),tL)null==e[l]&&(e[l]=tL[l]);let{frequency:l,damping:a}=e,{mass:s}=e;z.und(l)||(l<.01&&(l=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/l,2)*s,e.friction=4*Math.PI*a*s/l)}(p,t_(t.config,s),t.config!==i.config?t_(i.config,s):void 0);let v=to(this);if(!v||z.und(c))return r(tW(this,!0));let y=z.und(t.reset)?a&&!t.default:!z.und(d)&&tk(t.reset,s),b=y?d:this.get(),j=tP(c),w=z.num(j)||z.arr(j)||e0(j),_=!m&&(!w||tk(i.immediate||t.immediate,s));if(h){let e=tv(c);if(e!==v.constructor)if(_)v=this._set(j);else throw Error(`Cannot animate between ${v.constructor.name} and ${e.name}, as the "to" prop suggests`)}let k=v.constructor,S=eA(c),N=!1;if(!S){let e=y||!t1(this)&&f;(h||e)&&(S=!(N=G(tP(b),j))),(G(n.immediate,_)||_)&&G(p.decay,g)&&G(p.velocity,x)||(S=!0)}if(N&&t2(this)&&(n.changed&&!y?S=!0:S||this._stop(o)),!m&&((S||eA(o))&&(n.values=v.getPayload(),n.toValues=eA(c)?null:k==th?[1]:q(j)),n.immediate!=_&&(n.immediate=_,_||y||this._set(o)),S)){let e,{onRest:l}=n;e=e=>rr(this,t,e),rt.forEach(e);let a=tW(this,t6(this,o));K(this._pendingCalls,a),this._pendingCalls.add(r),n.changed&&C.batchedUpdates(()=>{n.changed=!y,l?.(a,this),y?t_(i.onRest,a):n.onStart?.(a,this)})}y&&this._set(b),m?r(tQ(t.to,t,this._state,this)):S?this._start():t2(this)&&!h?this._pendingCalls.add(r):r(tG(b))}_focus(e){let t=this.animation;e!==t.to&&(eT(this)&&this._detach(),t.to=e,eT(this)&&this._attach())}_attach(){let e=0,{to:t}=this.animation;eA(t)&&(eO(t,this),t instanceof tJ&&(e=t.priority+1)),this.priority=e}_detach(){let{to:e}=this.animation;eA(e)&&eL(e,this)}_set(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=eP(e);if(!z.und(r)){let e=to(this);if(!e||!G(r,e.getValue())){let l=tv(r);e&&e.constructor==l?e.setValue(r):tu(this,l.create(r)),e&&C.batchedUpdates(()=>{this._onChange(r,t)})}}return to(this)}_onStart(){let e=this.animation;e.changed||(e.changed=!0,rl(this,"onStart",tW(this,t6(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),t_(this.animation.onChange,e,this)),t_(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){let e=this.animation;to(this).reset(eP(e.to)),e.immediate||(e.fromValues=e.values.map(e=>e.lastPosition)),!t2(this)&&(t4(this,!0),t5(this)||this._resume())}_resume(){w.skipAnimation?this.finish():es.start(this)}_stop(e,t){if(t2(this)){let r;t4(this,!1);let l=this.animation;r=l.values,r.forEach(e=>{e.done=!0}),l.toValues&&(l.onChange=l.onPause=l.onResume=void 0),eU(this,{type:"idle",parent:this});let a=t?tq(this.get()):tW(this.get(),t6(this,e??l.to));K(this._pendingCalls,a),l.changed&&(l.changed=!1,rl(this,"onRest",a,this))}}};function t6(e,t){let r=tP(t);return G(tP(e.get()),r)}function t3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,l=t_(t);if(l){let a=!0!==l&&tA(l),s=(a||e).reverse,i=!a||a.reset;return t7({...e,loop:t,default:!1,pause:void 0,to:!s||tU(r)?r:void 0,from:i?e.from:void 0,reset:i,...a})}}function t7(e){let{to:t,from:r}=e=tA(e),l=new Set;return z.obj(t)&&re(t,l),z.obj(r)&&re(r,l),e.keys=l.size?Array.from(l):null,e}function re(e,t){W(e,(e,r)=>null!=e&&t.add(r))}var rt=["onStart","onRest","onChange","onPause","onResume"];function rr(e,t,r){e.animation[r]=t[r]!==tC(t,r)?tS(t[r],e.key):void 0}function rl(e,t){for(var r=arguments.length,l=Array(r>2?r-2:0),a=2;a<r;a++)l[a-2]=arguments[a];e.animation[t]?.(...l),e.defaultProps[t]?.(...l)}var ra=["onStart","onChange","onRest"],rs=1,ri=class{constructor(e,t){this.id=rs++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){let e={};return this.each((t,r)=>e[r]=t.get()),e}set(e){for(let t in e){let r=e[t];z.und(r)||this.springs[t].set(r)}}update(e){return e&&this.queue.push(t7(e)),this}start(e){let{queue:t}=this;return(e?t=q(e).map(t7):this.queue=[],this._flush)?this._flush(this,t):(rh(this,t),rn(this,t))}stop(e,t){if(!!e!==e&&(t=e),t){let r,l=this.springs;r=q(t),r.forEach(t=>l[t].stop(!!e))}else tK(this._state,this._lastAsyncId),this.each(t=>t.stop(!!e));return this}pause(e){if(z.und(e))this.start({pause:!0});else{let t,r=this.springs;t=q(e),t.forEach(e=>r[e].pause())}return this}resume(e){if(z.und(e))this.start({pause:!1});else{let t,r=this.springs;t=q(e),t.forEach(e=>r[e].resume())}return this}each(e){W(this.springs,e)}_onFrame(){let{onStart:e,onChange:t,onRest:r}=this._events,l=this._active.size>0,a=this._changed.size>0;(l&&!this._started||a&&!this._started)&&(this._started=!0,Q(e,e=>{let[t,r]=e;r.value=this.get(),t(r,this,this._item)}));let s=!l&&this._started,i=a||s&&r.size?this.get():null;a&&t.size&&Q(t,e=>{let[t,r]=e;r.value=i,t(r,this,this._item)}),s&&(this._started=!1,Q(r,e=>{let[t,r]=e;r.value=i,t(r,this,this._item)}))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}C.onFrame(this._onFrame)}};function rn(e,t){return Promise.all(t.map(t=>ro(e,t))).then(t=>tz(e,t))}async function ro(e,t,r){let{keys:l,to:a,from:s,loop:i,onRest:n,onResolve:o}=t,u=z.obj(t.default)&&t.default;i&&(t.loop=!1),!1===a&&(t.to=null),!1===s&&(t.from=null);let c=z.arr(a)||z.fun(a)?a:void 0;if(c)t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0);else ra.forEach(r=>{let l=t[r];if(z.fun(l)){let a=e._events[r];t[r]=e=>{let{finished:t,cancelled:r}=e,s=a.get(l);s?(t||(s.finished=!1),r&&(s.cancelled=!0)):a.set(l,{value:null,finished:t||!1,cancelled:r||!1})},u&&(u[r]=t[r])}});let d=e._state;!d.paused===t.pause?(d.paused=t.pause,K(t.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(t.pause=!0);let f=(l||Object.keys(e.springs)).map(r=>e.springs[r].start(t)),h=!0===t.cancel||!0===tC(t,"cancel");(c||h&&d.asyncId)&&f.push(tH(++e._lastAsyncId,{props:t,state:d,actions:{pause:H,resume:H,start(t,r){h?(tK(d,e._lastAsyncId),r(tq(e))):(t.onRest=n,r(tQ(c,t,d,e)))}}})),d.paused&&await new Promise(e=>{d.resumeQueue.add(e)});let m=tz(e,await Promise.all(f));if(i&&m.finished&&!(r&&m.noop)){let r=t3(t,i,a);if(r)return rh(e,[r]),ro(e,r,!0)}return o&&C.batchedUpdates(()=>o(m,e,e.item)),m}function ru(e,t){let r,l,a={...e.springs};return t&&(r=q(t),l=e=>{z.und(e.keys)&&(e=t7(e)),z.obj(e.to)||(e={...e,to:void 0}),rf(a,e,e=>rd(e))},r.forEach(l)),rc(e,a),a}function rc(e,t){W(t,(t,r)=>{e.springs[r]||(e.springs[r]=t,eO(t,e))})}function rd(e,t){let r=new t9;return r.key=e,t&&eO(r,t),r}function rf(e,t,r){let l;t.keys&&(l=t.keys,l.forEach(l=>{(e[l]||(e[l]=r(l)))._prepareNode(t)}))}function rh(e,t){t.forEach(t=>{rf(e.springs,t,t=>rd(t,e))})}var rm=e=>{let{children:t,...r}=e,l=(0,u.useContext)(rp),a=r.pause||!!l.pause,s=r.immediate||!!l.immediate;r=function(e,t){let[r]=(0,u.useState)(()=>({inputs:t,result:e()})),l=(0,u.useRef)(),a=l.current,s=a;return s?t&&s.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(t,s.inputs)||(s={inputs:t,result:e()}):s=r,(0,u.useEffect)(()=>{l.current=s,a==r&&(r.inputs=r.result=void 0)},[s]),s.result}(()=>({pause:a,immediate:s}),[a,s]);let{Provider:i}=rp;return u.createElement(i,{value:r},t)},rp=(r={},Object.assign(t=rm,u.createContext(r)),t.Provider._context=t,t.Consumer._context=t,t);rm.Provider=rp.Provider,rm.Consumer=rp.Consumer;var rg=()=>{let e=[],t=function(t){let l;eJ(`${eK}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);let a=[];return l=(e,l)=>{if(z.und(t))a.push(e.start());else{let s=r(t,e,l);s&&a.push(e.start(s))}},e.forEach(l),a};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){let r=e.indexOf(t);~r&&e.splice(r,1)},t.pause=function(){let t;return t=e=>e.pause(...arguments),e.forEach(t),this},t.resume=function(){let t;return t=e=>e.resume(...arguments),e.forEach(t),this},t.set=function(t){e.forEach((e,r)=>{let l=z.fun(t)?t(r,e):t;l&&e.set(l)})},t.start=function(t){let r,l=[];return r=(e,r)=>{if(z.und(t))l.push(e.start());else{let a=this._getProps(t,e,r);a&&l.push(e.start(a))}},e.forEach(r),l},t.stop=function(){let t;return t=e=>e.stop(...arguments),e.forEach(t),this},t.update=function(t){let r;return r=(e,r)=>e.update(this._getProps(t,e,r)),e.forEach(r),this};let r=function(e,t,r){return z.fun(e)?e(r,t):e};return t._getProps=r,t};function rx(e,t,r){let l=z.fun(t)&&t;l&&!r&&(r=[]);let a=(0,u.useMemo)(()=>l||3==arguments.length?rg():void 0,[]),s=(0,u.useRef)(0),i=tl(),n=(0,u.useMemo)(()=>({ctrls:[],queue:[],flush(e,t){let r=ru(e,t);return!(s.current>0)||n.queue.length||Object.keys(r).some(t=>!e.springs[t])?new Promise(l=>{rc(e,r),n.queue.push(()=>{l(rn(e,t))}),i()}):rn(e,t)}}),[]),o=(0,u.useRef)([...n.ctrls]),c=[],d=ti(e)||0;function f(e,r){for(let a=e;a<r;a++){let e=o.current[a]||(o.current[a]=new ri(null,n.flush)),r=l?l(a,e):t[a];r&&(c[a]=function(e){let t=t7(e);return z.und(t.default)&&(t.default=tM(t)),t}(r))}}(0,u.useMemo)(()=>{let t;t=o.current.slice(e,d),t.forEach(e=>{tV(e,a),e.stop(!0)}),o.current.length=e,f(d,e)},[e]),(0,u.useMemo)(()=>{f(0,Math.min(d,e))},r);let h=o.current.map((e,t)=>ru(e,c[t])),m=(0,u.useContext)(rm),p=ti(m),g=m!==p&&tT(m);tr(()=>{let e;s.current++,n.ctrls=o.current;let{queue:t}=n;t.length&&(n.queue=[],t.forEach(e=>e()));e=o.current,e.forEach((e,t)=>{a?.add(e),g&&e.start({default:m});let r=c[t];r&&(tF(e,r.ref),e.ref?e.queue.push(r):e.start(r))})}),ta(()=>()=>{let e;e=n.ctrls,e.forEach(e=>e.stop(!0))});let x=h.map(e=>({...e}));return a?[x,a]:x}function rv(e,t){let r=z.fun(e),[[l],a]=rx(1,r?e:[e],r?t||[]:t);return r||2==arguments.length?[l,a]:l}var ry=()=>rg();function rb(e,t,r){let l,a=z.fun(t)&&t;a&&!r&&(r=[]);let s=!0,i=rx(e,(e,r)=>{let i=a?a(e,r):t;return l=i.ref,s=s&&i.reverse,i},r||[{}]);if(tr(()=>{let e;e=i[1].current,e.forEach((e,t)=>{let r=i[1].current[t+(s?1:-1)];if(tF(e,l),e.ref){r&&e.update({to:r.springs});return}r?e.start({to:r.springs}):e.start()})},r),a||3==arguments.length){let e=l??i[1];return e._getProps=(t,r,l)=>{let a=z.fun(t)?t(l,r):t;if(a){let t=e.current[l+(a.reverse?1:-1)];return t&&(a.to=t.springs),a}},i}return i[0]}function rj(e,t,r){let l,a=z.fun(t)&&t,{reset:s,sort:i,trail:n=0,expires:o=!0,exitBeforeEnter:c=!1,onDestroyed:d,ref:f,config:h}=a?a():t,m=(0,u.useMemo)(()=>a||3==arguments.length?rg():void 0,[]),p=q(e),g=[],x=(0,u.useRef)(null),v=s?null:x.current;tr(()=>{x.current=g}),ta(()=>{let e;return e=e=>{m?.add(e.ctrl),e.ctrl.ref=m},g.forEach(e),()=>{let e;e=x.current,e.forEach(e=>{e.expired&&clearTimeout(e.expirationId),tV(e.ctrl,m),e.ctrl.stop(!0)})}});let y=function(e,t,r){let{key:l,keys:a=l}=t;if(null===a){let t=new Set;return e.map(e=>{let l=r&&r.find(r=>r.item===e&&"leave"!==r.phase&&!t.has(r));return l?(t.add(l),l.key):rw++})}return z.und(a)?e:z.fun(a)?e.map(a):q(a)}(p,a?a():t,v),b=s&&x.current||[];tr(()=>{let e;return e=e=>{let{ctrl:t,item:r,key:l}=e;tV(t,m),t_(d,r,l)},b.forEach(e)});let j=[];if(v&&v.forEach((e,t)=>{e.expired?(clearTimeout(e.expirationId),b.push(e)):~(t=j[t]=y.indexOf(e.key))&&(g[t]=e)}),l=(e,t)=>{g[t]||(g[t]={key:y[t],item:e,phase:"mount",ctrl:new ri},g[t].ctrl.item=e)},p.forEach(l),j.length){let e=-1,{leave:r}=a?a():t;j.forEach((t,l)=>{let a=v[l];~t?(e=g.indexOf(a),g[e]={...a,item:p[t]}):r&&g.splice(++e,0,a)})}z.fun(i)&&g.sort((e,t)=>i(e.item,t.item));let w=-n,_=tl(),k=tM(t),S=new Map,C=(0,u.useRef)(new Map),N=(0,u.useRef)(!1);g.forEach((e,r)=>{let l,s,i=e.key,u=e.phase,d=a?a():t,m=t_(d.delay||0,i);if("mount"==u)l=d.enter,s="enter";else{let e=0>y.indexOf(i);if("leave"!=u)if(e)l=d.leave,s="leave";else{if(!(l=d.update))return;s="update"}else{if(e)return;l=d.enter,s="enter"}}if(l=t_(l,e.item,r),!(l=z.obj(l)?tA(l):{to:l}).config){let t=h||k.config;l.config=t_(t,e.item,r,s)}w+=n;let p={...k,delay:m+w,ref:f,immediate:d.immediate,reset:!1,...l};if("enter"==s&&z.und(p.from)){let l=a?a():t;p.from=t_(z.und(l.initial)||v?l.from:l.initial,e.item,r)}let{onResolve:g}=p;p.onResolve=e=>{t_(g,e);let t=x.current,r=t.find(e=>e.key===i);if(r&&(!e.cancelled||"update"==r.phase)&&r.ctrl.idle){let e=t.every(e=>e.ctrl.idle);if("leave"==r.phase){let t=t_(o,r.item);if(!1!==t){let l=!0===t?0:t;if(r.expired=!0,!e&&l>0){l<=0x7fffffff&&(r.expirationId=setTimeout(_,l));return}}}e&&t.some(e=>e.expired)&&(C.current.delete(r),c&&(N.current=!0),_())}};let b=ru(e.ctrl,p);"leave"===s&&c?C.current.set(e,{phase:s,springs:b,payload:p}):S.set(e,{phase:s,springs:b,payload:p})});let M=(0,u.useContext)(rm),I=ti(M),E=M!==I&&tT(M);tr(()=>{E&&g.forEach(e=>{e.ctrl.start({default:M})})},[M]),S.forEach((e,t)=>{if(C.current.size){let e=g.findIndex(e=>e.key===t.key);g.splice(e,1)}}),tr(()=>{let e;e=C.current.size?C.current:S,e.forEach((e,t)=>{let{phase:r,payload:l}=e,{ctrl:a}=t;t.phase=r,m?.add(a),E&&"enter"==r&&a.start({default:M}),l&&(tF(a,l.ref),(a.ref||m)&&!N.current?a.update(l):(a.start(l),N.current&&(N.current=!1)))})},s?void 0:r);let A=e=>u.createElement(u.Fragment,null,g.map((t,r)=>{let{springs:l}=S.get(t)||t.ctrl,a=e({...l},t.item,t,r);return a&&a.type?u.createElement(a.type,{...a.props,key:z.str(t.key)||z.num(t.key)?t.key:t.ctrl.id,ref:a.ref}):a}));return m?[A,m]:A}var rw=1,r_={any:0,all:1},rk=class extends tJ{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=eM(...t);const r=this._get();tu(this,tv(r).create(r))}advance(e){let t=this._get();G(t,this.get())||(to(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&rC(this._active)&&rN(this)}_get(){let e=z.arr(this.source)?this.source.map(eP):q(eP(this.source));return this.calc(...e)}_start(){if(this.idle&&!rC(this._active)){let e;this.idle=!1,e=tc(this),e.forEach(e=>{e.done=!1}),w.skipAnimation?(C.batchedUpdates(()=>this.advance()),rN(this)):es.start(this)}}_attach(){let e,t,r=1;e=q(this.source),t=e=>{eA(e)&&eO(e,this),e instanceof tJ&&(e.idle||this._active.add(e),r=Math.max(r,e.priority+1))},e.forEach(t),this.priority=r,this._start()}_detach(){let e,t;e=q(this.source),t=e=>{eA(e)&&eL(e,this)},e.forEach(t),this._active.clear(),rN(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=q(this.source).reduce((e,t)=>Math.max(e,(t instanceof tJ?t.priority:0)+1),0))}};function rS(e){return!1!==e.idle}function rC(e){return!e.size||Array.from(e).every(rS)}function rN(e){if(!e.idle){let t;e.idle=!0,t=tc(e),t.forEach(e=>{e.done=!0}),eU(e,{type:"idle",parent:e})}}w.assign({createStringInterpolator:eQ,to:(e,t)=>new rk(e,t)});var rM=es.advance;e.s(["BailSignal",0,tY,"Controller",0,ri,"FrameValue",0,tJ,"Interpolation",0,rk,"Spring",0,function(e){let{children:t,...r}=e;return t(rv(r))},"SpringContext",0,rm,"SpringRef",0,rg,"SpringValue",0,t9,"Trail",0,function(e){let{items:t,children:r,...l}=e,a=rb(t.length,l);return t.map((e,t)=>{let l=r(e,t);return z.fun(l)?l(a[t]):l})},"Transition",0,function(e){let{items:t,children:r,...l}=e;return rj(t,l)(r)},"config",0,tO,"inferTo",0,tA,"interpolate",0,function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),l=1;l<t;l++)r[l-1]=arguments[l];return eX(),new rk(e,r)},"to",0,function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),l=1;l<t;l++)r[l-1]=arguments[l];return new rk(e,r)},"update",0,rM,"useChain",0,function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;tr(()=>{if(t){let l=0;e.forEach((e,a)=>{let s=e.current;if(s.length){let i=r*t[a];isNaN(i)?i=l:l=i,s.forEach(e=>{let t;t=e.queue,t.forEach(e=>{let t=e.delay;e.delay=e=>i+t_(t||0,e)})}),e.start()}})}else{let t=Promise.resolve();e.forEach(e=>{let r=e.current;if(r.length){let l=r.map(e=>{let t=e.queue;return e.queue=[],t});t=t.then(()=>{let t;return t=(e,t)=>{let r,a;return r=l[t]||[],a=t=>e.queue.push(t),r.forEach(a)},r.forEach(t),Promise.all(e.start())})}})}})},"useInView",0,function(e,t){let[r,l]=(0,u.useState)(!1),a=(0,u.useRef)(),s=z.fun(e)&&e,{to:i={},from:n={},...o}=s?s():{},c=s?t:e,[d,f]=rv(()=>({from:n,...o}),[]);return(tr(()=>{let e=a.current,{root:t,once:s,amount:o="any",...u}=c??{};if(!e||s&&r||"u"<typeof IntersectionObserver)return;let d=new WeakMap,h=new IntersectionObserver(e=>{e.forEach(e=>{let t=d.get(e.target);if(!!t!==e.isIntersecting)if(e.isIntersecting){let t=(i&&f.start(i),l(!0),s?void 0:()=>{n&&f.start(n),l(!1)});z.fun(t)?d.set(e.target,t):h.unobserve(e.target)}else t&&(t(),d.delete(e.target))})},{root:t&&t.current||void 0,threshold:"number"==typeof o||Array.isArray(o)?o:r_[o],...u});return h.observe(e),()=>h.unobserve(e)},[c]),s)?[a,d]:[a,r]},"useResize",0,e=>{let{container:t,...r}=e,[l,a]=rv(()=>({width:0,height:0,...r}),[]);return tr(()=>{let e=e4(e=>{let{width:t,height:r}=e;a.start({width:t,height:r,immediate:0===l.width.get()||0===l.height.get()})},{container:t?.current||void 0});return()=>{let t;t=Object.values(l),t.forEach(e=>e.stop()),e()}},[]),l},"useScroll",0,function(){let{container:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[r,l]=rv(()=>({scrollX:0,scrollY:0,scrollXProgress:0,scrollYProgress:0,...t}),[]);return tr(()=>{let t=tt(e=>{let{x:t,y:r}=e;l.start({scrollX:t.current,scrollXProgress:t.progress,scrollY:r.current,scrollYProgress:r.progress})},{container:e?.current||void 0});return()=>{let e;e=Object.values(r),e.forEach(e=>e.stop()),t()}},[]),r},"useSpring",0,rv,"useSpringRef",0,()=>(0,u.useState)(ry)[0],"useSpringValue",0,(e,t)=>{var r;let l,a=(r=()=>new t9(e,t),null===(l=(0,u.useRef)(null)).current&&(l.current=r()),l.current);return ta(()=>()=>{a.stop()}),a},"useSprings",0,rx,"useTrail",0,rb,"useTransition",0,rj],4999066);var rI=e.i(8080906),rE=/^--/,rA={},rP={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rT=["Webkit","Ms","Moz","O"];rP=Object.keys(rP).reduce((e,t)=>(rT.forEach(r=>e[r+t.charAt(0).toUpperCase()+t.substring(1)]=e[t]),e),rP);var rU=/^(matrix|translate|scale|rotate|skew)/,rV=/^(translate)/,rF=/^(rotate|skew)/,rO=(e,t)=>z.num(e)&&0!==e?e+t:e,rL=(e,t)=>z.arr(e)?e.every(e=>rL(e,t)):z.num(e)?e===t:parseFloat(e)===t,rR=class extends tp{constructor({x:e,y:t,z:r,...l}){const a=[],s=[];(e||t||r)&&(a.push([e||0,t||0,r||0]),s.push(e=>[`translate3d(${e.map(e=>rO(e,"px")).join(",")})`,rL(e,0)])),W(l,(e,t)=>{if("transform"===t)a.push([e||""]),s.push(e=>[e,""===e]);else if(rU.test(t)){if(delete l[t],z.und(e))return;let r=rV.test(t)?"px":rF.test(t)?"deg":"";a.push(q(e)),s.push("rotate3d"===t?e=>{let[t,l,a,s]=e;return[`rotate3d(${t},${l},${a},${rO(s,r)})`,rL(s,0)]}:e=>[`${t}(${e.map(e=>rO(e,r)).join(",")})`,rL(e,+!!t.startsWith("scale"))])}}),a.length&&(l.transform=new rB(a,s)),super(l)}},rB=class extends eV{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e,t,r="",l=!0;return e=this.inputs,t=(e,t)=>{let a=eP(e[0]),[s,i]=this.transforms[t](z.arr(a)?a:e.map(eP));r+=" "+s,l=l&&i},e.forEach(t),l?"none":r}observerAdded(e){let t,r;1==e&&(t=this.inputs,r=e=>{let t;return t=e=>eA(e)&&eO(e,this),e.forEach(t)},t.forEach(r))}observerRemoved(e){let t,r;0==e&&(t=this.inputs,r=e=>{let t;return t=e=>eA(e)&&eL(e,this),e.forEach(t)},t.forEach(r))}eventObserved(e){"change"==e.type&&(this._value=null),eU(this,e)}};w.assign({batchedUpdates:rI.unstable_batchedUpdates,createStringInterpolator:eQ,colors:{transparent:0,aliceblue:0xf0f8ffff,antiquewhite:0xfaebd7ff,aqua:0xffffff,aquamarine:0x7fffd4ff,azure:0xf0ffffff,beige:0xf5f5dcff,bisque:0xffe4c4ff,black:255,blanchedalmond:0xffebcdff,blue:65535,blueviolet:0x8a2be2ff,brown:0xa52a2aff,burlywood:0xdeb887ff,burntsienna:0xea7e5dff,cadetblue:0x5f9ea0ff,chartreuse:0x7fff00ff,chocolate:0xd2691eff,coral:0xff7f50ff,cornflowerblue:0x6495edff,cornsilk:0xfff8dcff,crimson:0xdc143cff,cyan:0xffffff,darkblue:35839,darkcyan:9145343,darkgoldenrod:0xb8860bff,darkgray:0xa9a9a9ff,darkgreen:6553855,darkgrey:0xa9a9a9ff,darkkhaki:0xbdb76bff,darkmagenta:0x8b008bff,darkolivegreen:0x556b2fff,darkorange:0xff8c00ff,darkorchid:0x9932ccff,darkred:0x8b0000ff,darksalmon:0xe9967aff,darkseagreen:0x8fbc8fff,darkslateblue:0x483d8bff,darkslategray:0x2f4f4fff,darkslategrey:0x2f4f4fff,darkturquoise:0xced1ff,darkviolet:0x9400d3ff,deeppink:0xff1493ff,deepskyblue:0xbfffff,dimgray:0x696969ff,dimgrey:0x696969ff,dodgerblue:0x1e90ffff,firebrick:0xb22222ff,floralwhite:0xfffaf0ff,forestgreen:0x228b22ff,fuchsia:0xff00ffff,gainsboro:0xdcdcdcff,ghostwhite:0xf8f8ffff,gold:0xffd700ff,goldenrod:0xdaa520ff,gray:0x808080ff,green:8388863,greenyellow:0xadff2fff,grey:0x808080ff,honeydew:0xf0fff0ff,hotpink:0xff69b4ff,indianred:0xcd5c5cff,indigo:0x4b0082ff,ivory:0xfffff0ff,khaki:0xf0e68cff,lavender:0xe6e6faff,lavenderblush:0xfff0f5ff,lawngreen:0x7cfc00ff,lemonchiffon:0xfffacdff,lightblue:0xadd8e6ff,lightcoral:0xf08080ff,lightcyan:0xe0ffffff,lightgoldenrodyellow:0xfafad2ff,lightgray:0xd3d3d3ff,lightgreen:0x90ee90ff,lightgrey:0xd3d3d3ff,lightpink:0xffb6c1ff,lightsalmon:0xffa07aff,lightseagreen:0x20b2aaff,lightskyblue:0x87cefaff,lightslategray:0x778899ff,lightslategrey:0x778899ff,lightsteelblue:0xb0c4deff,lightyellow:0xffffe0ff,lime:0xff00ff,limegreen:0x32cd32ff,linen:0xfaf0e6ff,magenta:0xff00ffff,maroon:0x800000ff,mediumaquamarine:0x66cdaaff,mediumblue:52735,mediumorchid:0xba55d3ff,mediumpurple:0x9370dbff,mediumseagreen:0x3cb371ff,mediumslateblue:0x7b68eeff,mediumspringgreen:0xfa9aff,mediumturquoise:0x48d1ccff,mediumvioletred:0xc71585ff,midnightblue:0x191970ff,mintcream:0xf5fffaff,mistyrose:0xffe4e1ff,moccasin:0xffe4b5ff,navajowhite:0xffdeadff,navy:33023,oldlace:0xfdf5e6ff,olive:0x808000ff,olivedrab:0x6b8e23ff,orange:0xffa500ff,orangered:0xff4500ff,orchid:0xda70d6ff,palegoldenrod:0xeee8aaff,palegreen:0x98fb98ff,paleturquoise:0xafeeeeff,palevioletred:0xdb7093ff,papayawhip:0xffefd5ff,peachpuff:0xffdab9ff,peru:0xcd853fff,pink:0xffc0cbff,plum:0xdda0ddff,powderblue:0xb0e0e6ff,purple:0x800080ff,rebeccapurple:0x663399ff,red:0xff0000ff,rosybrown:0xbc8f8fff,royalblue:0x4169e1ff,saddlebrown:0x8b4513ff,salmon:0xfa8072ff,sandybrown:0xf4a460ff,seagreen:0x2e8b57ff,seashell:0xfff5eeff,sienna:0xa0522dff,silver:0xc0c0c0ff,skyblue:0x87ceebff,slateblue:0x6a5acdff,slategray:0x708090ff,slategrey:0x708090ff,snow:0xfffafaff,springgreen:0xff7fff,steelblue:0x4682b4ff,tan:0xd2b48cff,teal:8421631,thistle:0xd8bfd8ff,tomato:0xff6347ff,turquoise:0x40e0d0ff,violet:0xee82eeff,wheat:0xf5deb3ff,white:0xffffffff,whitesmoke:0xf5f5f5ff,yellow:0xffff00ff,yellowgreen:0x9acd32ff}});var rD=function(e){let{applyAnimatedValues:t=()=>!1,createAnimatedStyle:r=e=>new tp(e),getComponentProps:l=e=>e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={applyAnimatedValues:t,createAnimatedStyle:r,getComponentProps:l},s=e=>{let t=tw(e)||"Anonymous";return(e=z.str(e)?s[e]||(s[e]=ty(e,a)):e[tj]||(e[tj]=ty(e,a))).displayName=`Animated(${t})`,e};return W(e,(t,r)=>{z.arr(e)&&(r=tw(t)),s[r]=s(t)}),{animated:s}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;let r="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{style:l,children:a,scrollTop:s,scrollLeft:i,viewBox:n,...o}=t,u=Object.values(o),c=Object.keys(o).map(t=>r||e.hasAttribute(t)?t:rA[t]||(rA[t]=t.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())));for(let t in void 0!==a&&(e.textContent=a),l)if(l.hasOwnProperty(t)){var d;let r=null==(d=l[t])||"boolean"==typeof d||""===d?"":"number"!=typeof d||0===d||rE.test(t)||rP.hasOwnProperty(t)&&rP[t]?(""+d).trim():d+"px";rE.test(t)?e.style.setProperty(t,r):e.style[t]=r}c.forEach((t,r)=>{e.setAttribute(t,u[r])}),void 0!==s&&(e.scrollTop=s),void 0!==i&&(e.scrollLeft=i),void 0!==n&&e.setAttribute("viewBox",n)},createAnimatedStyle:e=>new rR(e),getComponentProps:e=>{let{scrollTop:t,scrollLeft:r,...l}=e;return l}}).animated,r$=e.i(9107401),rH=e.i(9598279),rz=e.i(1736425),rG=e.i(4495794);e.i(1902869),e.i(4999066),e.s(["Any",0,class{}],7313068),e.i(7313068);var rW=e.i(8119470),rq=e.i(9722978);let rQ=(0,p.createUnitFormatter)({style:"long"}),rK=(0,p.createUnitFormatter)({style:"short"}),rY=new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:0}),rZ=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),rX=new Intl.NumberFormat("en-US",{currency:"USD",style:"currency",maximumFractionDigits:2});function rJ(e,t,r){if(null===t)return r0(e,r);if("custom"===t.kind){let l=t.plural;return(1===e&&(l=t.singular),["dollar","dollars"].includes(l))?`${rX.format(e)}`:`${r0(e,r)} ${l}`}return`${r0(e,r)}`}function r0(e,t){return"short"===t.style?rY.format(e):rZ.format(e)}function r1(e,t){let r=e.split(",")[0]?.trim()||e;return t.includes(r)}var r2=e.i(2314794);function r5(e){let{open:t,data:r,...l}=e;return t&&r?(0,o.jsx)(r4,{...l,data:r}):null}function r4(e){let{containerWidth:t,data:r,left:l,chartData:a,isProjectView:s,colorsScale:i,granularity:n,hoveredSegmentKey:u,valuesUnit:c,staticItems:d,maxTooltipItems:f=10}=e,h=function(e){let{left:t,containerWidth:r}=e,l=20,a="0";{let{innerWidth:e}=window;e<r+400&&(l=10),t>.75*r&&(l=-20,a="-100%")}return{...rv({left:t+l,top:10,translateX:a,config:{mass:.05,tension:400,friction:30}})}}({left:l,containerWidth:t}),m=function(e){let{values:t,chartData:r,isProjectView:l,colorsScale:a,staticItems:s,maxTooltipItems:i=10}=e;if(i<1)throw Error(`[ListTooltip] Invalid maxTooltipItems value: ${i}. Must be at least 1. Using default value of 10 instead.`);let n=t.map((e,t)=>{let s=e.value[0]||0;return{name:function(e,t,r){if(r&&e.project){let r=e.project;if(t.dimensionsMeta.project){let e=t.dimensionsMeta.project;if(e.values[r])return e.values[r].title||r}if(t.projectMeta?.values[r]){let e=t.projectMeta.values[r];if(e.title)return e.title}return r}for(let r of Object.keys(e)){let l=e[r];if(l){let e=t.dimensionsMeta[r];if(e?.values[l])return e.values[l].title||l;return l}}return"Unknown"}(e.dimensionValues,r,l),value:s,color:a(t),index:t}}).filter(e=>!(!l&&r1(e.name,s??[]))&&Math.abs(e.value)>0);n.sort((e,t)=>t.value-e.value);let o=n.slice(0,i),u=n.slice(i),c=u.length>0?{name:`Other (${u.length} ${1===u.length?"item":"items"})`,value:u.reduce((e,t)=>e+t.value,0),color:"#888888",index:-1,isOther:!0,count:u.length}:null;return c?[...o,c]:o}({values:r.values,chartData:a,isProjectView:s,colorsScale:i,staticItems:d,maxTooltipItems:f});if(0===m.length)return null;let p=m.find(e=>"isOther"in e),g=r8(r.timestamp,n,a.timestamps,a.maxTimestamp),x=m.reduce((e,t)=>e+t.value,0);return(0,o.jsxs)(rD.div,{className:r2.default.productListTooltip,style:h,children:[(0,o.jsx)("ul",{className:r2.default.list,children:m.map(e=>{let t="isOther"in e,r=!t&&void 0!==u&&e.index===u;return(0,o.jsxs)("li",{className:(0,rq.clsx)(r2.default.listItem,t?r2.default.otherItem:void 0),"aria-label":t&&p?`Aggregated value from ${p.count} other ${1===p.count?"item":"items"}`:void 0,children:[(0,o.jsx)("div",{className:r2.default.colorIndicator,style:{backgroundColor:e.color}}),(0,o.jsx)("div",{className:(0,rq.clsx)(r2.default.itemName,r&&r2.default.highlightedItem),children:e.name}),(0,o.jsx)("div",{className:(0,rq.clsx)(r2.default.itemValue,r&&r2.default.highlightedItem),children:rJ(e.value,c,{style:"long",valuesUnit:c})})]},e.index)})}),(0,o.jsxs)("div",{className:"flex flex-row items-center justify-between flex-initial ml-1 pt-2",children:[(0,o.jsx)("div",{className:r2.default.date,children:g}),(0,o.jsx)("div",{className:r2.default.total,children:rJ(x,c,{style:"long",valuesUnit:c})})]})]})}let r8=(e,t,r,l)=>{if("week"===t.unit||"month"===t.unit){let a=r?((e,t,r)=>{let l=t.indexOf(e);if(-1===l)return;let a=t[l+1];return a&&(!r||a<=r)?(0,rW.subDays)(new Date(a),1):r?new Date(r):void 0})(e,r,l):void 0;return function(e,t,r,l){let a,s=new Date(e),i=!r||s>=r?s:r;switch(t.unit){case"hour":return a=(0,r$.addHours)(s,t.step),a=!l||a<=l?a:l,`${(0,b.format)(i,"MMM d HH:mm")}  ${(0,b.format)(a,"MMM d HH:mm")}`;case"week":a=(0,rz.addWeeks)(s,t.step),a=!l||a<=l?a:l;break;case"month":a=(0,rG.addMonths)(s,t.step),a=!l||a<=l?a:l;break;case"day":{let t=new Date(e+6e4*new Date().getTimezoneOffset());return(0,b.format)(t,"MMM d, y")}default:a=(0,rH.addDays)(s,1),a=!l||a<=l?a:l}a||=(0,rH.addDays)(s,1);let n=6e4*new Date().getTimezoneOffset(),o=new Date(i.valueOf()+n),u=new Date(a.valueOf()+n),c=o.getFullYear()===u.getFullYear(),d=o.getMonth()===u.getMonth();return`${(0,b.format)(o,`MMM d${c?"":", y"}`)}  ${(0,b.format)(u,`${d?"":"MMM "}d, y`)}`}(e,t,void 0,a)}let a=new Date(e);return"hour"===t.unit?(0,b.format)(a,"MMM d HH:mm"):(0,b.format)(a,"MMM d, y")};var r9=e.i(4312512),r6=e.i(8545185);function r3(e,t,r){return 0===t.length?"Total":new Intl.ListFormat("en-US",{style:"long"}).format(t.map(t=>{let l=e.dimensionValues[t];if(null==l)return"Unknown";let a=r[t]?.values[l];return a?a.title:l}))}var r7=e.i(5114891);let le=(0,u.memo)(function(e){let{handle:t,timeseries:r,isProjectView:l,staticItems:a}=e,s=(0,u.useMemo)(()=>Array.from({length:t.view.results.length},(e,t)=>t),[t.view.results.length]),i=(0,u.useMemo)(()=>l?s.map(()=>!0):s.map(e=>{let r=t.view.results[e];return!!r&&!r1(r3(r,t.view.groupBy,t.data.dimensionsMeta),a??[])}),[s,t.view.results,t.view.groupBy,t.data.dimensionsMeta,l,a]),n=(e,l,a)=>{let s=t.data.timestamps[e.bar.data];if(void 0!==s){let i=Math.round(e.x+e.width/2),n=r.getDatum(e.bar.data);l?t.chartInteraction.click({datum:n,left:i,hoveredSegmentKey:a}):t.chartInteraction.willHoverChange(s,a)&&t.chartInteraction.hover({datum:n,left:i,hoveredSegmentKey:a})}};return(0,o.jsx)(r9.BarStack,{color:e=>l||t.view.results[e]?t.colorsScale(e):t.colorsScale(0),data:r.indices,keys:s,order:"descending",value:(e,r)=>{if(!i[r])return 0;let l=t.view.results[r];return l?.values[e]?l.values[e][0]??0:0},x:e=>t.data.timestamps[e]??0,xScale:r.timestampsScale,yScale:r.valuesScale,children:e=>[e[e.length-1]?.bars.map(l=>{let a=t.chartInteraction.isClicked&&t.chartInteraction.activeItem?.datum.timestamp===t.data.timestamps[l.bar.data];return(0,o.jsx)("rect",{className:(0,rq.clsx)(r7.default.barOverlay,a&&r7.default.barOverlaySelected),height:r.valuesScale(0),onMouseMove:()=>{n(l,!1,void 0)},onClick:()=>{n(l,!0,void 0)},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&n(l,!0,void 0)},onTouchMove:t=>{let{x:r}=(0,r6.localPoint)(t)??{x:0},a=Math.floor(r/(l.width/.5625)),s=e[e.length-1]?.bars[a];s&&n(s,!1)},onTouchEnd:t=>{let{x:r}=(0,r6.localPoint)(t)??{x:0},a=Math.floor(r/(l.width/.5625)),s=e[e.length-1]?.bars[a];s&&n(s,!0)},width:l.width/.5625,x:l.x-.4375*l.width*.5/.5625,y:0,pointerEvents:"none"},`bar-stack-${l.index}-overlay`)})??[],...e.map((e,r)=>e.bars.map(l=>{if(l.height<=0)return null;let a=t.chartInteraction.isClicked&&t.chartInteraction.activeItem?.datum.timestamp===t.data.timestamps[l.bar.data];return(0,o.jsx)("rect",{className:(0,rq.clsx)(r7.default.bar,a&&r7.default.barSelected),fill:l.color,height:l.height,width:l.width,x:l.x,y:l.y,"data-stack-index":r,"data-bar-index":l.index,onMouseEnter:e=>{e.stopPropagation(),n(l,!1,r)},onFocus:()=>{n(l,!1,r)},onClick:e=>{e.stopPropagation(),n(l,!0,r)},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&n(l,!0,r)}},`bar-stack-${e.key}-${l.index}`)}).filter(Boolean))]})});var lt=e.i(5158601),lr=e.i(1766947),ll=e.i(4778584);let la=(0,u.memo)(function(e){let{timeseries:t,handle:r}=e,l=(0,u.useMemo)(()=>{var e;let r,l,a;return r=(e=t.timestampsScale).domain(),l=e(r[0]??0)??0,a=e.step(),e=>Math.max(0,Math.min(Math.round((e-l)/a),r.length-1))},[t.timestampsScale]),a=(0,u.useCallback)(e=>{let{x:a}=(0,r6.localPoint)(e)||{x:0},s=l(a),i=r.data.timestamps[s];if(void 0!==i&&r.chartInteraction.willHoverChange(i)){let e=t.getDatum(s);r.chartInteraction.hover({datum:e,left:t.timestampsScale(e.timestamp)??0})}},[t,r.chartInteraction,r.data.timestamps,l]);return(0,o.jsxs)(o.Fragment,{children:[r.chartInteraction.activeItem?(0,o.jsx)(lr.Line,{from:{x:r.chartInteraction.activeItem.left,y:0},pointerEvents:"none",stroke:"var(--accents-2)",strokeWidth:1,to:{x:r.chartInteraction.activeItem.left,y:200}}):null,t.dimensionKeys.map(e=>(0,o.jsxs)(u.default.Fragment,{children:[(0,o.jsx)(ll.LinePath,{curve:lt.curveLinear,data:t.indices,stroke:r.colorsScale(e),strokeWidth:2,x:e=>t.timestampsScale(r.data.timestamps[e]??0)??0,y:l=>t.valuesScale(r.view.results[e]?.values[l]?.[0]??0)}),r.chartInteraction.activeItem?(0,o.jsx)("circle",{cx:r.chartInteraction.activeItem.left,cy:t.valuesScale(r.chartInteraction.activeItem.datum.values[e]?.value[0]??0),fill:r.colorsScale(e),pointerEvents:"none",r:4,stroke:"white",strokeWidth:2}):null]},e)),(0,o.jsx)("rect",{fill:"transparent",height:200,onMouseMove:a,onTouchMove:a,rx:0,width:r.containerWidth,x:0,y:0})]})});var ls=e.i(8295952),li=e.i(3489437),ln=e.i(157972),lo=e.i(8303205);function lu(e){let{handle:t,style:r,isProjectView:l=!1,staticItems:a,forecast:s,yAxisFormatter:i}=e,n=(0,u.useRef)(null),c=6e4*new Date().getTimezoneOffset(),d=(0,p.createUnitFormatter)({style:"short"}),f=function(e){let{data:t,view:r,style:l,containerWidth:a}=e;return(0,u.useMemo)(()=>{var e,s,i,n;let o,u,c,d,f,h;o="bar"===l?(0,ls.scaleBand)({domain:t.timestamps,range:[0,a-50],padding:.4375,paddingOuter:.3}):(0,ln.scalePoint)({domain:t.timestamps,range:[0,a-36],padding:.3});let m=(e=t.timestamps,s=a,i=t.granularity,c=8,s<480?c=3:s<720?c=4:"hour"===i.unit&&1===i.step&&(c=4),d=Math.round(e.length/c),e.length<=3?e:e.filter((e,t)=>t%d==d>>1));0===(u="bar"===l?t.timestamps.reduce((e,r,l)=>Math.max(e,t.totalValues[l]??0),0):r.results.reduce((e,t)=>Math.max(e,t.values.reduce((e,t)=>Math.max(e,t[0]??0),0)),0))&&(u=100),(u=Math.max(u,1))%5!=0&&(u=5*Math.ceil(u/5));let p=(0,li.scaleLinear)({domain:[0,u],range:[200,0],clamp:!0}),g=(h=(f=Math.pow(10,Math.floor(Math.log10(n=u))))/10*Math.ceil(n/(f/10))/5,[0,...Array.from({length:5},(e,t)=>(t+1)*h)]),x=function(e){let t=[];for(let r=0;r<e.length;r++)t.push(r);return t}(r.results);return{indices:t.timestamps.map((e,t)=>t),getDatum:e=>({timestamp:t.timestamps[e]??0,totalValue:t.totalValues[e]??0,values:r.results.map(t=>({dimensionValues:t.dimensionValues,value:t.values[e]??[0,0]}))}),dimensionKeys:x,timestampsScale:o,timestampsTicks:m,valuesScale:p,valuesTicks:g}},[a,t.granularity,t.timestamps,t.totalValues,l,r.results])}({containerWidth:t.containerWidth,data:{...t.data,dimensionsMeta:l&&t.data.dimensionsMeta.project?{project:t.data.dimensionsMeta.project}:t.data.dimensionsMeta},style:r,view:t.view}),h=function(e){let{containerWidth:t,granularity:r,chartInteraction:l}=e,[a,s]=(0,u.useState)(null);return(0,u.useEffect)(()=>l.subscribeToChange(e=>{s(e)}),[l]),{left:(a?.left??0)+50,open:null!==a,data:a?.datum,containerWidth:t,granularity:r}}({containerWidth:t.containerWidth,granularity:t.data.granularity,chartInteraction:t.chartInteraction}),m=s?.showAllocation&&(f?.valuesTicks[-1]??0)>s?.credits;return(0,o.jsxs)("figure",{className:lo.default.chartContainer,onMouseLeave:()=>{t.chartInteraction.blur()},ref:t.chartRef,style:{visibility:t.containerWidth?"visible":"hidden"},children:[(0,o.jsxs)("div",{className:lo.default.autoVisibility,children:[(0,o.jsx)("svg",{className:lo.default.chartAxis,height:227,width:50,children:(0,o.jsx)(g.AxisLeft,{hideAxisLine:!0,hideTicks:!0,left:8,scale:f.valuesScale,tickFormat:e=>(e=>{if(i)return i(e);let r=d(e,t.data.valuesUnit);return t.data.valuesUnit?.kind==="custom"?r.split(" ")[0]??"":r})(e),tickLabelProps:()=>({fill:"var(--accents-5)",fontSize:14,textAnchor:"start"}),tickValues:f.valuesTicks,top:5})}),(0,o.jsxs)("svg",{className:lo.default.chartAxis,height:227,ref:n,width:"calc(100% - 50px)",children:[(0,o.jsx)(x.AxisBottom,{hideAxisLine:!0,hideTicks:!0,scale:f.timestampsScale,tickFormat:e=>lc(e+c,t.data.granularity),tickLabelProps:()=>({fill:"var(--accents-5)",fontSize:14,textAnchor:"middle"}),tickValues:f.timestampsTicks,top:200}),(0,o.jsx)(v.GridRows,{scale:f.valuesScale,stroke:"var(--accents-2)",tickValues:f.valuesTicks,width:n.current?n.current.clientWidth:400}),(0,o.jsx)(y.Group,{children:"bar"===r?(0,o.jsx)(le,{handle:t,timeseries:f,isProjectView:l,staticItems:a}):(0,o.jsx)(la,{handle:t,timeseries:f})}),m&&(0,o.jsx)(y.Group,{children:(0,o.jsx)("line",{x1:0,x2:n.current?n.current.clientWidth:400,y1:f.valuesScale(s.credits),y2:f.valuesScale(s.credits),stroke:"#0070F3",strokeWidth:2,strokeDasharray:"8,4",opacity:.8})})]})]}),m&&(0,o.jsx)("div",{style:{position:"absolute",top:Math.max(-6,f.valuesScale(s.credits)-12+5),left:58,zIndex:10},children:(0,o.jsx)("div",{style:{width:55,height:20,borderRadius:10,backgroundColor:"#0070F3",opacity:.9,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:12,fontWeight:500},children:s.creditsLabel})}),(0,o.jsx)(r5,{containerWidth:t.containerWidth,open:h.open,data:h.data,left:h.left,chartData:t.data,isProjectView:l,colorsScale:t.colorsScale,granularity:t.data.granularity,hoveredSegmentKey:t.chartInteraction.activeItem?.hoveredSegmentKey,valuesUnit:t.data.valuesUnit,staticItems:a})]})}let lc=(e,t)=>{let r=new Date(e);switch(t.unit){case"hour":return(0,b.format)(r,"MMM d HH:mm");case"week":default:return(0,b.format)(r,"MMM d");case"month":return(0,b.format)(r,"MMM y")}};var ld=e.i(3169345),lf=e.i(8626589),lh=e.i(3675495),lm=e.i(9847832),lp=e.i(8042625);function lg(e){let{invoiceItems:t,type:r,used:l}=e,a=t[r],s=a?.batch&&a.batch>1,i=s?a.batch??null:null,n=s?a.price??null:null,o=a?.threshold??null;o&&"artifacts"===r&&(o=null);let u=0;null!==o&&l>o&&o>0&&(u=Math.abs(o-l)),l>u&&(null===o||0===o)&&(u=l);let c=null!==o&&o>0?Math.ceil(l/o*100):null;return{exceeded:u,increment:i,limit:o,percentage:c?c/100:null,used:null!==o?0:l,pricePerIncrement:n}}function lx(e){let{maxRows:t,data:r,view:l,chartInteraction:a,colorsScale:s,billableItemToChartMap:i,teamSlug:n,projectSlug:o,queryParams:c,isProjectView:d,staticItems:f,invoiceItems:h,includeStaticItemsInTotal:m=!1}=e,[p,g]=(0,u.useState)(!1),x=null!==t?Math.min(t,l.results.length):l.results.length,v=(0,u.useCallback)((e,t)=>{let a;if(0===l.results.length)return{value:0,usageValue:0,percent:0,percentage:0,exceeded:0};let s=l.results[e];if(!s)return{value:0,usageValue:0,percent:0,percentage:0,exceeded:0};let i=r1(r3(s,l.groupBy,r.dimensionsMeta),f??[]),n=!i&&t?.values[e]?.value?t.values[e]?.value:l.results[e]?.totalValue??[0,0];a=0===l.results.length?0:!i&&t?t.values.reduce((e,t)=>e+(t.value[0]??0),0):l.results.reduce((e,t)=>e+(t.totalValue[0]??0),0);let o=n[0]??0,u=n[1]??0,c=lg({invoiceItems:h??{},type:Object.values(s.dimensionValues)[0]??"",used:u});return{value:o,usageValue:u,percent:0===a?0:o/a,percentage:c.percentage??0,exceeded:c.exceeded}},[l.results,l.groupBy,r.dimensionsMeta,f,h]),{rows:y,totalValue:b}=(0,u.useMemo)(()=>{let e=[],t=0;if(0===l.results.length)e.push({title:"No Usage",subtitle:null,color:s(0),value:new t9(0),usageValue:new t9(0),percent:new t9(0),percentage:null,slug:void 0,exceeded:new t9(0)}),t=0;else for(let a=0;a<x;a++){let u,p=l.results[a];if(!p)continue;let g=Object.values(p.dimensionValues)[0],x=r3(p,l.groupBy,r.dimensionsMeta),y=function(e,t,r){let l=t[0];if(!l)return null;let a=e.dimensionValues[l];if(!a)return null;let s=r[l]?.values[a];return s?s.subtitle??null:null}(p,l.groupBy,r.dimensionsMeta),{value:b,percent:j,usageValue:w}=v(a,null),_=lg({invoiceItems:h??{},type:g??"",used:w}),k=r1(x,f??[]);if((m||!k)&&(t+=b),"aiGatewayCreditsUsage"===g)u=`/${n??""}/~/observability/ai`;else if("vercelAgentCreditsUsage"===g)u=`/${n??""}/~/agent/usage`;else if(g&&i?.[g]){let e=i[g],{product:t,products:r,...l}=c??{},a=(0,lp.encode)(l??{});u=o?`/${n??""}/${o}/usage/${e}${a}`:`/${n??""}/~/usage/${e}${a}`}else d&&(u=`/${n??""}/${x}/observability`);e.push({title:x,subtitle:y,color:s(a),value:new t9(b),percent:new t9(j),usageValue:new t9(w),slug:g??void 0,usagePath:u,percentage:new t9(_.percentage??0),exceeded:new t9(_.exceeded),limit:_.limit??void 0,pricePerIncrement:_.pricePerIncrement??void 0,increment:_.increment??void 0,used:_.used})}return{rows:e,totalValue:new t9(t)}},[r.dimensionsMeta,x,l.results,l.groupBy,v,s,n,o,i,c,d,h,f,m]),j=(()=>{let[e,t]=(0,u.useState)(null);return tr(()=>{let e=window.matchMedia("(prefers-reduced-motion)"),r=e=>{t(e.matches),ee({skipAnimation:e.matches})};return r(e),e.addEventListener("change",r),()=>{e.removeEventListener("change",r)}},[]),e})()??!1,w=(0,u.useCallback)((e,t)=>{let r=0;for(let l=0;l<y.length;l++){let{value:a,usageValue:s,percent:i,percentage:n,exceeded:o}=v(l,e),u=y[l];if(u){u.value.goal!==a&&u.value.start(a,{config:{duration:200},immediate:t??j}),u.percent.goal!==i&&u.percent.start(i,{config:{duration:200,bounce:0},immediate:t??j}),u.usageValue.goal!==s&&u.usageValue.start(s,{config:{duration:200},immediate:t??j}),u.percentage&&u.percentage.goal!==n&&u.percentage.start(n,{config:{duration:200},immediate:t??j}),u.exceeded.goal!==o&&u.exceeded.start(o,{config:{duration:200},immediate:t??j});let e=r1(u.title,f??[]);(m||!e)&&(r+=a)}}b.start(r,{config:{duration:200},immediate:t??j})},[b,y,v,j,f,m]);return(0,u.useEffect)(()=>a.subscribeToChange(e=>{let t=e?.datum??null;w(t),(0,u.startTransition)(()=>{g(null!==t)})}),[a,w]),{rows:y,isFocused:p,totalValue:b}}var lv=e.i(5468328),ly=e.i(2988836),lb=e.i(3070885),lj=e.i(6912485),lw=e.i(2689376),l_=e.i(1288475),lk=e.i(119294),lS=e.i(6352514);let lC={long:e=>new Intl.NumberFormat("en-US",{style:"currency",currency:e,maximumFractionDigits:3}),short:e=>new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:0,maximumFractionDigits:0})},lN=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:1});function lM(e){let{isFocused:t,row:r,handle:l,isProjectView:a,isMobile:s,mobileValueMode:i,showProgressBar:n=!1,isInBillingCycle:u=!0,planIteration:c}=e,d=r.usagePath;if("ent"===e.variant){let{showPercentage:u}=e;return s?"value"===i?(0,o.jsx)(lE,{colSpan:4,isFocused:t,rightAligned:!0,row:r,valuesUnit:l.data.valuesUnit,hideUsage:a,tableCellLink:d,plan:"enterprise"}):(0,o.jsx)(lP,{colSpan:4,isFocused:t,rightAligned:!0,row:r,showProgressBar:n,tableCellLink:d,plan:"enterprise"}):u?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(lE,{colSpan:2,isFocused:t,row:r,usageUnit:l.data.metrics.find(e=>e.title===r.title.split(",")[0])?.unit,hideUsage:a,tableCellLink:d,plan:"enterprise"}),(0,o.jsx)(lP,{colSpan:2,isFocused:t,rightAligned:!0,row:r,showProgressBar:n,tableCellLink:d,plan:"enterprise"}),(0,o.jsx)(lE,{colSpan:2,isFocused:t,row:r,tableCellLink:d,hideUsage:a,valuesUnit:l.data.metrics.find(e=>"gross_cost"===e.slug)?.unit,plan:"enterprise"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(lP,{colSpan:2,isFocused:t,rightAligned:!0,row:r,showProgressBar:!1,tableCellLink:d,plan:"enterprise"}),(0,o.jsx)(lE,{colSpan:2,isFocused:t,row:r,tableCellLink:d,hideUsage:a,valuesUnit:l.data.metrics.find(e=>"gross_cost"===e.slug)?.unit,plan:"enterprise"})]})}if("plus"===c)return s?a?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(lA,{colSpan:1,isFocused:t,rightAligned:!0,row:r,tableCellLink:d,valuesUnit:l.data.valuesUnit,hideUsage:!0,plan:"pro"})}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(lF,{colSpan:1,isFocused:t,rightAligned:!0,row:r,usageUnit:l.data.metrics.find(e=>e.title===r.title.split(",")[0])?.unit,tableCellLink:d,plan:"pro",isMobile:s})}):a?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(lA,{colSpan:2,isFocused:t,rightAligned:!0,row:r,tableCellLink:d,valuesUnit:l.data.valuesUnit,hideUsage:!0,plan:"pro"})}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(lF,{colSpan:1,isFocused:t,row:r,usageUnit:l.data.metrics.find(e=>e.title===r.title.split(",")[0])?.unit,tableCellLink:d,plan:"pro"}),(0,o.jsx)(lA,{colSpan:1,isFocused:t,rightAligned:!0,row:r,tableCellLink:d,valuesUnit:l.data.valuesUnit,hideUsage:!0,plan:"pro"})]});return s?a?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(lA,{colSpan:1,isFocused:t,rightAligned:!0,row:r,tableCellLink:d,valuesUnit:l.data.metrics.find(e=>"gross_cost"===e.slug)?.unit,plan:"pro"})}):"value"===i?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(lT,{colSpan:2,isFocused:t,rightAligned:!0,row:r,usageUnit:l.data.valuesUnit,tableCellLink:d,plan:"pro",isMobile:s})}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(lA,{colSpan:1,isFocused:t,rightAligned:!0,row:r,tableCellLink:d,valuesUnit:l.data.metrics.find(e=>"gross_cost"===e.slug)?.unit,plan:"pro"})}):a?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(lO,{colSpan:1}),(0,o.jsx)(lP,{colSpan:1,isFocused:t,row:r,showProgressBar:n,tableCellLink:d,plan:"pro"}),(0,o.jsx)(lA,{colSpan:1,isFocused:t,rightAligned:!0,row:r,tableCellLink:d,valuesUnit:l.data.metrics.find(e=>"gross_cost"===e.slug)?.unit,plan:"pro"})]}):(0,o.jsxs)(o.Fragment,{children:[u?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(lT,{colSpan:1,isFocused:t,row:r,usageUnit:l.data.metrics.find(e=>e.title===r.title.split(",")[0])?.unit,tableCellLink:d,plan:"pro"}),(0,o.jsx)(lU,{colSpan:1,isFocused:t,row:r,usageUnit:l.data.metrics.find(e=>e.title===r.title.split(",")[0])?.unit,tableCellLink:d,plan:"pro"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(lO,{colSpan:1}),(0,o.jsx)(lV,{colSpan:1,isFocused:t,row:r,usageUnit:l.data.metrics.find(e=>e.title===r.title.split(",")[0])?.unit,tableCellLink:d,plan:"pro"})]}),(0,o.jsx)(lA,{colSpan:1,isFocused:t,rightAligned:!0,row:r,tableCellLink:d,valuesUnit:l.data.metrics.find(e=>"gross_cost"===e.slug)?.unit,plan:"pro"})]})}function lI(e){let{row:t,colSpan:r,tableCellLink:l,plan:a}=e,s=(0,o.jsxs)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial px-1",children:[(0,o.jsx)(l_.Status,{style:{color:t.color}}),(0,o.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-gray-1000",children:t.title.split(",")[0]}),t.subtitle?(0,o.jsxs)(o.Fragment,{children:[" ",(0,o.jsx)("p",{className:"text-copy-14 text-gray-900",children:t.subtitle})]}):null]});return(0,o.jsx)(ld.Table.Cell,{colSpan:r,children:l?(0,o.jsx)(ld.Table.CellLink,{onClick:()=>{l&&(t.title&&l.includes("/observability")?lk.analytics.track(lS.AnalyticsEvent.USAGE_PROJECT_ROW_CLICKED,{projectId:t.title||"unknown",plan:a}):lk.analytics.track(lS.AnalyticsEvent.USAGE_METRIC_ROW_CLICKED,{rowKey:t.title||"unknown",plan:a}))},href:l,className:"flex flex-col items-stretch justify-start flex-initial",children:s}):s})}function lE(e){let{row:t,valuesUnit:r,usageUnit:l,colSpan:a,rightAligned:s,isFocused:i,tableCellLink:n,hideUsage:c,plan:d}=e,f=(0,u.useMemo)(()=>e=>l?.kind==="custom"?rQ(e,{...l,singular:"",plural:""}):rQ(e,l),[l]),h=(0,o.jsxs)("div",{className:(0,rq.clsx)("tabular-nums","whitespace-nowrap","font-normal",{"text-right":s}),color:i?"gray-1000":"gray-900",children:[r?(0,o.jsx)(rD.span,{children:t.value.to(e=>rJ(e,r,{style:"long",valuesUnit:r}))}):null,l&&!c?(0,o.jsxs)("div",{className:"flex flex-row items-center justify-start gap-1 flex-initial",children:[(0,o.jsx)(rD.span,{children:t.usageValue.to(f)}),t.limit?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"text-copy-14 text-gray-900",children:"/"}),(0,o.jsx)("p",{className:"text-copy-14 text-gray-900",children:f(t.limit)})]}):null]}):null]});return(0,o.jsx)(ld.Table.Cell,{colSpan:a,children:n?(0,o.jsx)(ld.Table.CellLink,{href:n,onClick:()=>{n&&(t.title&&n.includes("/observability")?lk.analytics.track(lS.AnalyticsEvent.USAGE_PROJECT_ROW_CLICKED,{projectId:t.title.split(",")[0]||"unknown",plan:d}):lk.analytics.track(lS.AnalyticsEvent.USAGE_METRIC_ROW_CLICKED,{rowKey:t.title||"unknown",plan:d}))},className:"flex flex-col items-stretch justify-start flex-initial",children:h}):h})}function lA(e){let{row:t,valuesUnit:r,usageUnit:l,colSpan:a,rightAligned:s,isFocused:i,tableCellLink:n,hideUsage:c,plan:d}=e,f=(0,u.useMemo)(()=>e=>l?.kind==="custom"?rQ(e,{...l,singular:"",plural:""}):rQ(e,l),[l]),h=(0,o.jsxs)("div",{className:(0,rq.clsx)("tabular-nums","whitespace-nowrap","font-normal",{"text-right":s}),color:i?"gray-1000":"gray-900",children:[r?(0,o.jsx)(rD.span,{children:t.value.goal!==t.value.get()?t.value.to(e=>rJ(e,r??null,{style:"long",valuesUnit:r??null})):rJ(t.value.goal,r??null,{style:"long",valuesUnit:r??null})}):"-",l&&!c?(0,o.jsxs)("div",{className:"flex flex-row items-center justify-start gap-1 flex-initial",children:[(0,o.jsx)(rD.span,{children:t.usageValue.to(f)}),t.limit?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"text-copy-14 text-gray-900",children:"/"}),(0,o.jsx)("p",{className:"text-copy-14 text-gray-900",children:f(t.limit)})]}):null]}):null]});return(0,o.jsx)(ld.Table.Cell,{colSpan:a,children:n?(0,o.jsx)(ld.Table.CellLink,{href:n,onClick:()=>{n&&(t.title&&n.includes("/observability")?lk.analytics.track(lS.AnalyticsEvent.USAGE_PROJECT_ROW_CLICKED,{projectId:t.title.split(",")[0]||"unknown",plan:d}):lk.analytics.track(lS.AnalyticsEvent.USAGE_METRIC_ROW_CLICKED,{rowKey:t.title||"unknown",plan:d}))},className:"flex flex-col items-stretch justify-start flex-initial",children:h}):h})}function lP(e){let{row:t,colSpan:r,rightAligned:l,isFocused:a,showProgressBar:s,tableCellLink:i}=e,n=(0,o.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[s?(0,o.jsx)(lj.Progress,{colors:{0:"var(--ds-blue-700)"},width:60,max:1,value:t.percent.goal}):null,(0,o.jsx)("p",{className:`text-copy-14 ${(0,rq.clsx)("tabular-nums whitespace-nowrap",{"text-right":l},a?"text-gray-1000":"text-gray-900")}`,children:(0,o.jsx)(rD.span,{children:t.percent.to(e=>lN.format(e))})})]});return(0,o.jsx)(ld.Table.Cell,{colSpan:r,children:i?(0,o.jsx)(ld.Table.CellLink,{href:i,className:"flex flex-col items-stretch justify-start flex-initial",children:n}):n})}function lT(e){let{row:t,usageUnit:r,colSpan:l,rightAligned:a,isFocused:s,tableCellLink:i,isMobile:n}=e,[c,d]=(0,u.useState)(t.percentage?.get()??0),f=(0,u.useRef)(t.percentage);(0,u.useEffect)(()=>{f.current=t.percentage},[t.percentage]),(0,u.useEffect)(()=>{if(!f.current)return;let e=()=>{d(f.current?.get()??0)};e();let t=setInterval(e,16);return()=>clearInterval(t)},[t.percentage]);let h=(0,u.useMemo)(()=>e=>r?.kind==="custom"?rK(e,{...r,singular:"",plural:""}):rK(e,r),[r]),m=(0,o.jsx)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial pl-2",children:(0,o.jsx)("span",{children:"-"})});t.limit&&t.percentage?m=n?(0,o.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-1 flex-initial",children:[(0,o.jsx)(rD.span,{children:t.usageValue.to(h)}),(0,o.jsx)("span",{children:"/"}),(0,o.jsx)("span",{children:h(t.limit??0)})]}):(0,o.jsxs)("div",{className:"flex flex-row items-center justify-start gap-1 flex-initial",children:[(0,o.jsx)(lw.Gauge,{className:(0,rq.clsx)(t.limit?void 0:"opacity-0","mr-1"),colors:{primary:"var(--ds-blue-700)"},size:"tiny",value:100*c}),(0,o.jsxs)("span",{style:{whiteSpace:"normal"},children:[(0,o.jsx)(rD.span,{children:t.usageValue.to(h)}),(0,o.jsx)("wbr",{})," / ",(0,o.jsx)("span",{children:h(t.limit??0)})]})]}):t.limit&&(m=(0,o.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,o.jsx)(lw.Gauge,{className:(0,rq.clsx)(t.limit?void 0:"opacity-0"),colors:{primary:"var(--ds-blue-700)"},size:"tiny",value:0}),(0,o.jsx)(rD.span,{children:t.usageValue.to(h)})]}));let p=(0,o.jsx)("div",{className:(0,rq.clsx)("tabular-nums","font-normal",{"text-right":a}),color:s?"gray-1000":"gray-900",children:m});return(0,o.jsx)(ld.Table.Cell,{colSpan:l,children:i?(0,o.jsx)(ld.Table.CellLink,{href:i,className:"flex flex-col items-stretch justify-start flex-initial",children:p}):p})}function lU(e){let{row:t,usageUnit:r,colSpan:l,rightAligned:a,isFocused:s,tableCellLink:i}=e,n=(0,u.useMemo)(()=>e=>r?.kind==="custom"?rK(e,{...r,singular:"",plural:""}):rK(e,r),[r]),c=(0,o.jsx)("div",{className:(0,rq.clsx)("tabular-nums","whitespace-nowrap","font-normal","text-right",{"text-right":a}),color:s?"gray-1000":"gray-900",children:(0,o.jsx)(rD.span,{children:t.exceeded.to(e=>0===e?"-":`${t.limit?"+":""}${n(e)}`)})});return(0,o.jsx)(ld.Table.Cell,{colSpan:l,children:i?(0,o.jsx)(ld.Table.CellLink,{href:i,className:"flex flex-col items-stretch justify-start flex-initial",children:c}):c})}function lV(e){let{row:t,usageUnit:r,colSpan:l,rightAligned:a,isFocused:s,tableCellLink:i}=e,n=(0,u.useMemo)(()=>e=>r?.kind==="custom"?rK(e,{...r,singular:"",plural:""}):rK(e,r),[r]),c=(0,o.jsx)("div",{className:(0,rq.clsx)("tabular-nums","whitespace-nowrap","font-normal",{"text-right":a}),color:s?"gray-1000":"gray-900",children:(0,o.jsx)(rD.span,{children:t.usageValue.to(n)})});return(0,o.jsx)(ld.Table.Cell,{colSpan:l,children:i?(0,o.jsx)(ld.Table.CellLink,{href:i,className:"flex flex-col items-stretch justify-start flex-initial",children:c}):c})}function lF(e){let{row:t,usageUnit:r,colSpan:l,rightAligned:a,isFocused:s,tableCellLink:i,isMobile:n}=e,[c,d]=(0,u.useState)(t.percentage?.get()??0),f=(0,u.useRef)(t.percentage);(0,u.useEffect)(()=>{f.current=t.percentage},[t.percentage]),(0,u.useEffect)(()=>{if(!f.current)return;let e=()=>{d(f.current?.get()??0)};e();let t=setInterval(e,16);return()=>clearInterval(t)},[t.percentage]);let h=(0,u.useMemo)(()=>e=>r?.kind==="custom"?rK(e,{...r,singular:"",plural:""}):rK(e,r),[r]),m=(0,o.jsx)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial pl-2",children:(0,o.jsx)("span",{children:"-"})});m=t.limit?n?(0,o.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-1 flex-initial",children:[(0,o.jsx)(rD.span,{children:t.usageValue.to(h)}),(0,o.jsx)("span",{children:"/"}),(0,o.jsx)("span",{children:h(t.limit??0)})]}):(0,o.jsxs)("div",{className:"flex flex-row items-center justify-start gap-1 flex-initial",children:[(0,o.jsx)(lw.Gauge,{className:(0,rq.clsx)(t.limit?void 0:"opacity-0"),colors:{primary:"var(--ds-blue-700)"},size:"tiny",value:100*c,style:{marginLeft:"-26px"}}),(0,o.jsxs)("span",{style:{whiteSpace:"normal",marginLeft:"2px"},children:[(0,o.jsx)(rD.span,{children:t.usageValue.to(h)}),(0,o.jsx)("wbr",{})," / ",(0,o.jsx)("span",{children:h(t.limit??0)})]})]}):(0,o.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,o.jsx)(rD.span,{children:t.exceeded.to(e=>0===e?"-":h(e))}),t.pricePerIncrement&&t.increment&&(0,o.jsx)(lv.Tooltip,{text:`${function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"usd",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=Number(e)*l,s=100;return"string"==typeof e&&(s=1),"auto"===r&&(r=a%s==0?"short":"long"),(0,lC[r])(t).format(a/s)}(t.pricePerIncrement)} per ${h(t.increment)} (charged on first use)`,position:"bottom",children:(0,o.jsx)(ly.InformationFillSmall,{})})]});let p=(0,o.jsx)("div",{className:(0,rq.clsx)("tabular-nums","font-normal",{"text-right":a}),color:s?"gray-1000":"gray-900",children:m});return(0,o.jsx)(ld.Table.Cell,{colSpan:l,children:i?(0,o.jsx)(ld.Table.CellLink,{href:i,className:"flex flex-col items-stretch justify-start flex-initial",children:p}):p})}function lO(e){let{colSpan:t}=e;return(0,o.jsx)(ld.Table.Cell,{colSpan:t})}function lL(e){let{category:t,colSpans:r,rows:l,rowsPerCategory:a,isMobile:s,mobileValueMode:i,isFocused:n,showPercentage:c,showProgressBar:d=!1,handle:f,selectedProductAndCategory:h,isProjectView:m}=e,p=(0,u.useMemo)(()=>{if("No Usage"===t){let e=l.find(e=>"No Usage"===e.title);return e&&h?.product?[{...e,title:h.product}]:l.filter(e=>"No Usage"===e.title)}let e=l;if(a&&t&&(e=l.filter(e=>a[t]?.includes(e.title.split(",")[0]??""))).length>0&&a[t]){let r=a[t];e.sort((e,t)=>r.indexOf(e.title)-r.indexOf(t.title))}return(e=e.filter(e=>("Subscription Licenses"!==t||0!==e.value.goal)&&(0!==e.value.goal||0!==e.usageValue.goal))).length>0?[...e].sort((e,t)=>t.value.goal-e.value.goal):[...e]},[l,a,t,h]),g=(0,u.useMemo)(()=>"No Usage"===t&&h?.category?h.category:t,[t,h]);return(0,o.jsxs)(o.Fragment,{children:[g&&"No Usage"!==g?(0,o.jsx)(ld.Table.Row,{children:(0,o.jsx)(ld.Table.Cell,{className:"border-b",colSpan:s?10:r+2,style:{textAlign:"left",paddingLeft:"1rem"},children:(0,o.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[(0,o.jsx)("p",{className:"text-copy-14 text-gray-1000",children:g}),"Subscription Licenses"===g&&(0,o.jsx)(lv.Tooltip,{text:"Subscription license costs are not shown in the chart above.",position:"right",children:(0,o.jsx)(ly.InformationFillSmall,{className:"text-gray-700"})})]})})}):null,p.map((e,t)=>{let r=lM({variant:"ent",isFocused:n,row:e,handle:f,isProjectView:m,isMobile:s,mobileValueMode:i,showPercentage:c,showProgressBar:d});return(0,o.jsxs)(ld.Table.Row,{className:lb.default.legendRow,children:[(0,o.jsx)(lI,{colSpan:6,row:e,tableCellLink:e.usagePath,isProjectView:m,plan:"enterprise"}),r]},t)})]})}lf.Hash,lh.Percentage;var lR=e.i(2480776),lB=e.i(8923565),lD=e.i(4004502),l$=e.i(593207);function lH(e){let{queriedAt:t,className:r}=e,l=(0,l$.useAgo)(Date.parse(t),{justNowLabel:"just now"});return(0,o.jsxs)("p",{"data-testid":(0,lD.tid)("usage","metric","updated-text"),className:`text-label-14 font-normal text-gray-900 ${r}`,children:["Updated ",l||"just now"]})}var lz=e.i(5255926),lG=e.i(2312502),lW=e.i(8161149),lq=e.i(7275883);function lQ(e){let{rows:t,rowsPerCategory:r,isMobile:l,mobileValueMode:a,isFocused:s,showProgressBar:i=!1,handle:n,selectedProductAndCategory:c,isProjectView:d,category:f,showHeader:h=!0,isInBillingCycle:m=!0,planIteration:p}=e,g=(0,u.useMemo)(()=>{if("No Usage"===f){let e=t.find(e=>"No Usage"===e.title);return e&&c?.product?[{...e,title:c.product}]:t.filter(e=>"No Usage"===e.title)}let e=t;if(r&&f&&(e=t.filter(e=>r[f]?.includes(e.title.split(",")[0]??""))).length>0&&r[f]){let t=r[f];e.sort((e,r)=>t.indexOf(e.title)-t.indexOf(r.title))}return(e=e.filter(e=>("Subscription Licenses"!==f||0!==e.value.goal)&&(0!==e.value.goal||0!==e.usageValue.goal))).length>0?[...e].sort((e,t)=>t.value.goal-e.value.goal):[...e]},[t,r,f,c]),x=(0,u.useMemo)(()=>"No Usage"===f&&c?.category?c.category:f,[f,c]);return(0,o.jsxs)(o.Fragment,{children:[h?(0,o.jsx)(ld.Table.Header,{className:"geist-hide-on-mobile",children:(0,o.jsxs)(ld.Table.Row,{children:[(0,o.jsx)(ld.Table.Head,{children:"Product"}),m?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ld.Table.Head,{children:"Included"}),(0,o.jsx)(ld.Table.Head,{children:"On-demand"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ld.Table.Head,{}),(0,o.jsx)(ld.Table.Head,{children:"Usage"})]}),(0,o.jsx)(ld.Table.Head,{children:"Charge"})]})}):null,x&&"No Usage"!==x?(0,o.jsx)(ld.Table.Row,{children:(0,o.jsx)(ld.Table.Cell,{className:"border-b",colSpan:l?4:5,style:{textAlign:"left",paddingLeft:"1rem"},children:(0,o.jsx)("p",{className:"text-copy-14 text-gray-1000",children:x})})}):null,g.map((e,t)=>{let r=lM({variant:"pro",row:e,isFocused:s,handle:n,isProjectView:d,isMobile:l,mobileValueMode:a,showProgressBar:i,isInBillingCycle:m,planIteration:p});return(0,o.jsxs)(ld.Table.Row,{className:lb.default.legendRow,children:[(0,o.jsx)(lI,{colSpan:l?1:2,row:e,tableCellLink:e.usagePath,plan:"pro"}),r]},t)})]})}var lK=e.i(7807066),lY=e.i(2560270);function lZ(e,t){return e.results.reduce((e,r)=>{let l=r.values[0]??[0,0],a=r.values.map((e,r)=>0===r?e:t>=0&&r>=t?[0,0]:e?l=[(l[0]??0)+(e[0]??0),(l[1]??0)+(e[1]??0)]:l);return e.push({...r,values:a}),e},[])}function lX(e,t,r){let l=new Map,a=[],s=new Map;t.forEach((e,t)=>{let i=new Date(e),n=("monthly"===r?(0,d.startOfMonth)(i):(0,f.startOfWeek)(i,{weekStartsOn:1})).toISOString();l.has(n)||(l.set(n,[]),a.push(n),s.set(n,e)),l.get(n)?.push(t)});let i=a.map(e=>s.get(e)??e);return{results:e.results.map(e=>{let t=[],r=[0,0];return a.forEach(a=>{let s=l.get(a)??[],i=[0,0];s.forEach(t=>{let r=e.values[t];r&&(i[0]+=r[0]??0,i[1]+=r[1]??0)}),t.push(i),r[0]+=i[0],r[1]+=i[1]}),{...e,values:t,totalValue:r}}),aggregatedTimes:i}}e.s(["Body",0,lu,"BodySkeleton",0,function(){return(0,o.jsx)(lz.Skeleton,{height:227,style:{marginTop:"var(--geist-gap)"},width:"100%"})},"CollapsibleChart",0,function(e){let{handle:t,style:r,isProjectView:l=!1,isEmpty:a=!1,isExpanded:s,staticItems:i,planIteration:n,period:c="daily",cumulative:d=!1,onCumulativeChange:f}=e,[h,m]=(0,u.useState)("plus"===n||(s??!1)),p=(0,u.useMemo)(()=>l||!i?.length?t.data.totalValue:t.view.results.reduce((e,r)=>r1(r3(r,t.view.groupBy,t.data.dimensionsMeta),i)?e:e+(r.totalValue[0]??0),0),[t.view,t.data,l,i]),g=p>0;return(0,o.jsxs)("div",{className:lG.default.container,children:[(0,o.jsxs)("div",{onClick:g?()=>{if(!g)return;let e=!h;m(e),e?lk.analytics.track(lS.AnalyticsEvent.USAGE_CHART_EXPANDED,{plan:"pro"}):lk.analytics.track(lS.AnalyticsEvent.USAGE_CHART_COLLAPSED,{plan:"pro"});let t=new URL(window.location.href);h?t.searchParams.delete("chartExpanded"):t.searchParams.set("chartExpanded","true"),window.history.pushState({},"",t)}:void 0,className:`flex flex-row items-center justify-between flex-initial ${(0,rq.clsx)(lG.default.header,!g&&lG.default.disabled)}`,children:[(0,o.jsxs)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial pl-2 h-full",children:[g&&h?(0,o.jsx)(lY.ChevronDown,{size:16,color:"gray-900"}):null,g&&!h?(0,o.jsx)(lK.ChevronRight,{size:16,color:"gray-900"}):null,(0,o.jsxs)("div",{className:"flex flex-col items-start justify-start gap-0 flex-initial",children:[(0,o.jsx)("p",{className:"text-label-13 text-gray-900",children:"On-demand Charges"}),(0,o.jsx)("p",{className:"text-label-14 font-medium text-gray-1000",children:rJ(p,{kind:"custom",singular:"dollar",plural:"dollars"},{style:"long",valuesUnit:t.data.valuesUnit})})]})]}),(0,o.jsx)("div",{className:"flex flex-row items-center justify-start gap-4 flex-initial",children:"plus"!==n&&f?(0,o.jsxs)(lB.Switch,{className:"w-25",size:"small",children:[(0,o.jsx)(lB.Switch.Control,{checked:d,label:"Cumulative",onChange:()=>f(!0),value:"cumulative"},"cumulative"),(0,o.jsx)(lB.Switch.Control,{checked:!d,label:"daily"===c?"Daily":"weekly"===c?"Weekly":"Monthly",onChange:()=>f(!1),value:"non-cumulative"},"non-cumulative")]}):null})]}),g?(0,o.jsx)("div",{className:(0,rq.clsx)(lG.default.content,h&&lG.default.expanded),children:h&&!a?(0,o.jsx)(lu,{handle:t,style:r,isProjectView:l,staticItems:i}):null}):null]})},"CollapsibleChartSkeleton",0,function(){return(0,o.jsx)("div",{className:lG.default.container,children:(0,o.jsxs)("div",{className:`flex flex-row items-center justify-between flex-initial ${lG.default.header}`,children:[(0,o.jsx)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial pl-2",children:(0,o.jsx)(lz.Skeleton,{height:20,width:150})}),(0,o.jsx)(lz.Skeleton,{height:20,width:80,className:"pr-4"})]})})},"Controls",0,function(e){let{children:t,queriedAt:r}=e;return(0,o.jsxs)("div",{className:"flex flex-col md:flex-row items-stretch md:items-center justify-between gap-4 flex-initial",children:[(0,o.jsx)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial",children:t}),r?(0,o.jsx)(lH,{className:"geist-hide-on-mobile",queriedAt:r}):null]})},"ControlsSkeleton",0,function(e){let{children:t,queriedAt:r}=e;return(0,o.jsxs)("div",{className:"flex flex-col md:flex-row items-stretch md:items-center justify-between gap-4 flex-initial",children:[(0,o.jsx)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial",children:t}),r?(0,o.jsx)(lz.Skeleton,{height:22,width:125}):null]})},"EmptyBody",0,function(){return(0,o.jsx)("div",{className:"flex h-full min-h-[160px] items-center justify-center",children:(0,o.jsx)(lW.EmptyState.Root,{icon:(0,o.jsx)(lW.EmptyState.Icon,{icon:(0,o.jsx)(lq.ChartBarPeak,{size:32})}),title:"No Usage Data",description:"Resource consumption data will appear here.",className:"border-none"})})},"LegendEnt",0,function(e){let{handle:t,maxRows:r,showPercentage:l,showProgressBar:a,categories:s,rowsPerCategory:i,showTotal:n=!1,teamSlug:c,projectSlug:d,queryParams:f,billableItemToChartMap:h,selectedProductAndCategory:m,isProjectView:p=!1,staticItems:g}=e,{isFocused:x,rows:v,totalValue:y}=lx({view:t.view,data:t.data,chartInteraction:t.chartInteraction,maxRows:r,colorsScale:t.colorsScale,teamSlug:c,projectSlug:d,queryParams:f,billableItemToChartMap:h,isProjectView:p,staticItems:g,invoiceItems:void 0,includeStaticItemsInTotal:!0}),b=(0,lm.useIsMobile)(),[j,w]=(0,u.useState)("value"),_=(0,u.useMemo)(()=>v[0]?.title==="No Usage"&&1===v.length?["No Usage"]:s&&i?s.filter(e=>{if(!e)return!1;let t=i[e]||[],r=v.filter(e=>{let r=e.title.split(",")[0];return r&&t.includes(r)}),l=r.some(e=>0!==e.value.goal||0!==e.usageValue.goal);return r.length>0&&l}):s,[s,i,v]);return(0,o.jsxs)("div",{className:`flex flex-col items-stretch justify-start gap-2 flex-initial pt-0 ${(0,rq.clsx)(lb.default.container)}`,children:[(0,o.jsxs)(ld.Table,{style:{tableLayout:"fixed",width:"100%"},children:[(0,o.jsx)(ld.Table.Colgroup,{children:Array.from({length:b?1:12}).map((e,t)=>{let r=0===t?{width:"10%",minWidth:"100px"}:{width:"10%",minWidth:"60px"};return(0,o.jsx)(ld.Table.Col,{style:r},t)})}),(0,o.jsx)(ld.Table.Body,{striped:!0,children:_?_.map(e=>(0,o.jsx)(lL,{category:e,colSpans:10,rows:v,rowsPerCategory:i,isMobile:b,mobileValueMode:j,isFocused:x,showPercentage:l,handle:t,selectedProductAndCategory:m,isProjectView:p,showProgressBar:a},e)):(0,o.jsx)(lL,{colSpans:10,rows:v,rowsPerCategory:i,isMobile:b,mobileValueMode:j,isFocused:x,showPercentage:l,handle:t,selectedProductAndCategory:m,isProjectView:p,showProgressBar:a})})]}),n?(0,o.jsxs)("div",{className:`flex flex-row items-stretch justify-end gap-0.5 flex-initial ${lb.default.total}`,children:[(0,o.jsx)("p",{className:"text-copy-14 mt-2",children:"Total: "}),(0,o.jsx)("p",{className:"text-copy-14 mt-2",children:(0,o.jsx)(rD.span,{children:y.to(e=>rJ(e,t.data.valuesUnit,{style:"long",valuesUnit:t.data.valuesUnit}))})})]}):null]})},"LegendPro",0,function(e){let{handle:t,maxRows:r,showProgressBar:l,categories:a,rowsPerCategory:s,showTotal:i=!1,teamSlug:n,projectSlug:c,queryParams:d,billableItemToChartMap:f,selectedProductAndCategory:h,isProjectView:m=!1,invoiceItems:p,staticItems:g,isInBillingCycle:x=!0,planIteration:v,includedCreditAllocation:y,isEmpty:b}=e,{isFocused:j,rows:w,totalValue:_}=lx({view:t.view,data:t.data,chartInteraction:t.chartInteraction,maxRows:r,colorsScale:t.colorsScale,teamSlug:n,projectSlug:c,queryParams:d,billableItemToChartMap:f,isProjectView:m,staticItems:g,invoiceItems:p}),k=_.goal??0,S=Math.max(k-(y??0),0),C=(0,lm.useIsMobile)(),[N,M]=(0,u.useState)("value"),I=(0,u.useMemo)(()=>w[0]?.title==="No Usage"&&1===w.length?["No Usage"]:a&&s?a.filter(e=>{if(!e)return!1;let t=s[e]||[],r=w.filter(e=>{let r=e.title.split(",")[0];return r&&t.includes(r)}),l=r.some(e=>0!==e.value.goal||0!==e.usageValue.goal);return r.length>0&&l}):a,[a,s,w]);return b?(0,o.jsx)(o.Fragment,{}):(0,o.jsxs)("div",{className:`flex flex-col items-stretch justify-start gap-2 flex-initial pt-0 ${(0,rq.clsx)(lb.default.container)}`,children:[(0,o.jsxs)(ld.Table,{style:{tableLayout:"fixed",width:"100%"},children:[(0,o.jsx)(ld.Table.Colgroup,{children:Array.from({length:C?2:"plus"===v?4:5}).map((e,t)=>{let r;r=C?[70,30]:"plus"===v?[50,20,15,15]:[35,20,25,10,10];let l={width:`${r[t]}%`,minWidth:0===t?"200px":"100px"};return(0,o.jsx)(ld.Table.Col,{style:l},t)})}),(0,o.jsx)(ld.Table.Header,{className:"geist-hide-on-mobile",children:(0,o.jsx)(ld.Table.Row,{children:m?"plus"===v?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ld.Table.Head,{children:"Project"}),(0,o.jsx)(ld.Table.Head,{}),(0,o.jsx)(ld.Table.Head,{}),(0,o.jsx)(ld.Table.Head,{children:"Charge"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ld.Table.Head,{children:"Project"}),(0,o.jsx)(ld.Table.Head,{}),(0,o.jsx)(ld.Table.Head,{}),(0,o.jsx)(ld.Table.Head,{}),(0,o.jsx)(ld.Table.Head,{children:"Charge"})]}):"plus"===v?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ld.Table.Head,{children:"Product"}),(0,o.jsx)(ld.Table.Head,{}),(0,o.jsx)(ld.Table.Head,{children:"Usage"}),(0,o.jsx)(ld.Table.Head,{children:"Charge"})]}):x?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ld.Table.Head,{children:"Product"}),(0,o.jsx)(ld.Table.Head,{}),(0,o.jsx)(ld.Table.Head,{children:"Included"}),(0,o.jsx)(ld.Table.Head,{style:{textAlign:"right"},children:"On-demand"}),(0,o.jsx)(ld.Table.Head,{children:"Charge"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ld.Table.Head,{children:"Product"}),(0,o.jsx)(ld.Table.Head,{}),(0,o.jsx)(ld.Table.Head,{}),(0,o.jsx)(ld.Table.Head,{children:"Usage"}),(0,o.jsx)(ld.Table.Head,{children:"Charge"})]})})}),(0,o.jsx)(ld.Table.Body,{interactive:!0,striped:!0,children:I?I.map(e=>(0,o.jsx)(lQ,{category:e,rows:w,rowsPerCategory:s,isMobile:C,mobileValueMode:N,isFocused:j,handle:t,selectedProductAndCategory:h,isProjectView:m,showProgressBar:l,showHeader:!1,isInBillingCycle:x,planIteration:v},e)):(0,o.jsx)(lQ,{rows:w,rowsPerCategory:s,isMobile:C,mobileValueMode:N,isFocused:j,handle:t,selectedProductAndCategory:h,isProjectView:m,showProgressBar:l,showHeader:!1,isInBillingCycle:x,planIteration:v})})]}),i&&!C?(0,o.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:["plus"===v?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"flex flex-row items-stretch justify-end gap-0.5 flex-initial",children:j||!x?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"text-copy-14 text-gray-700 mt-2 mr-1",children:"Subtotal:"}),(0,o.jsx)("p",{className:"text-copy-14 mt-2",children:_.goal>0?(0,o.jsx)(rD.span,{children:_.to(e=>rJ(e,t.data.valuesUnit,{style:"long",valuesUnit:t.data.valuesUnit}))}):(0,o.jsx)("span",{children:"$0.00"})})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"text-copy-14 text-gray-700 mt-2 mr-1",children:"Subtotal:"}),(0,o.jsx)("p",{className:"text-copy-14 mt-2",children:rJ(k,{kind:"custom",singular:"dollar",plural:"dollars"},{style:"long",valuesUnit:{kind:"custom",singular:"dollar",plural:"dollars"}})})]})}),(0,o.jsx)("div",{className:"flex flex-row items-center justify-end gap-0.5 flex-initial",children:j||!x?(0,o.jsx)("p",{className:"text-copy-14 text-gray-700 mt-2",children:"Credits are deducted from total charges for the current billing cycle"}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"text-copy-14 text-gray-700 mt-2 mr-0",children:"Credits Applied:"}),(0,o.jsxs)("p",{className:"text-copy-14 mt-2",children:["-",rJ(y??0,{kind:"custom",singular:"dollar",plural:"dollars"},{style:"long",valuesUnit:{kind:"custom",singular:"dollar",plural:"dollars"}})]})]})}),(0,o.jsxs)("div",{className:`flex flex-row items-stretch justify-end gap-0.5 flex-initial ${lb.default.total}`,children:[(0,o.jsx)("p",{className:"text-copy-14 mt-2 mr-1",children:j||!x?(0,o.jsx)("span",{style:{visibility:"hidden"},children:"Total:"}):"Total:"}),(0,o.jsx)("p",{className:"text-copy-14 mt-2",children:j||!x?(0,o.jsx)("span",{style:{visibility:"hidden"},children:"$0.00"}):(0,o.jsx)(o.Fragment,{children:S>0?(0,o.jsx)("span",{children:rJ(S,{kind:"custom",singular:"dollar",plural:"dollars"},{style:"long",valuesUnit:{kind:"custom",singular:"dollar",plural:"dollars"}})}):(0,o.jsx)("span",{children:"$0.00"})})})]})]}):null,"plus"===v||j?null:(0,o.jsxs)("div",{className:`flex flex-row items-stretch justify-end gap-0.5 flex-initial ${lb.default.total}`,children:[(0,o.jsx)("p",{className:"text-copy-14 mt-2 mr-1",children:"Total:"}),(0,o.jsx)("p",{className:"text-copy-14 mt-2",children:_.goal>0?(0,o.jsx)(rD.span,{children:_.to(e=>rJ(e,t.data.valuesUnit,{style:"long",valuesUnit:t.data.valuesUnit}))}):(0,o.jsx)("span",{children:"$0.00"})})]})]}):null]})},"LegendSkeleton",0,function(e){let{rows:t}=e;return(0,o.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-3 flex-initial pt-4",children:Array.from({length:t??2}).map((e,t)=>(0,o.jsxs)("div",{className:"flex flex-row items-stretch justify-between flex-initial px-2",children:[(0,o.jsx)(lz.Skeleton,{height:20,width:152-t%2*32}),(0,o.jsxs)("div",{className:"flex flex-row items-stretch justify-end gap-8",style:{flex:"0 0 50%"},children:[(0,o.jsx)("div",{className:"flex flex-col items-end justify-start geist-hide-on-mobile",style:{flex:"0 0 50%"},children:(0,o.jsx)(lz.Skeleton,{height:20,width:64+t%2*20})}),(0,o.jsx)("div",{className:"flex flex-col items-end justify-start",style:{flex:"0 0 20%"},children:(0,o.jsx)(lz.Skeleton,{height:20,width:64+t%2*20})}),(0,o.jsx)("div",{className:"flex flex-col items-end justify-start",style:{flex:"0 0 20%"},children:(0,o.jsx)(lz.Skeleton,{height:20,width:64+t%2*20})})]})]},t))})},"Root",0,function(e){let{className:t,children:r,minHeight:l}=e;return(0,o.jsx)(h,{className:t,minHeight:l,children:r})},"ViewsSelector",0,function(e){let{views:t,handle:r,disabled:l}=e;return(0,o.jsx)(lB.Switch,{children:t.map((e,t)=>{let a,s=new Intl.ListFormat("en-US",{style:"long"}).format(e.groupBy.map(e=>{let t=r?.data.dimensionsMeta[e];return t?.title??e})),i=e.title;return 0===e.groupBy.length?(i||(i="Total"),a="No grouping"):(i||(i=s),a=`Group by ${s}`),(0,o.jsx)(lv.Tooltip,{desktopOnly:!0,style:{flexGrow:1},text:a,children:(0,o.jsx)(lB.Switch.Control,{checked:e.key===r?.view.key,disabled:l||!r,label:i,onChange:()=>{r?.setViewKey(e.key)},value:t,width:110})},e.key)})})},"ViewsSelectorSekelton",0,function(){return(0,o.jsx)(lz.Skeleton,{height:40,width:223})},"getAggregatedValues",0,lX,"getCumulativeValues",0,lZ,"useUsageTimeseriesChart",0,function(e){let{timeseriesResults:t,metrics:r,intitialViewKey:l,period:a="daily",cumulative:s=!1}=e,[i,{width:n}]=(0,c.default)(),o=(0,u.useMemo)(()=>{let e=Date.now(),l=(()=>{if("monthly"!==a&&"weekly"!==a)return null;let e=Object.values(t.views)[0];return e?lX(e,t.times,a).aggregatedTimes:null})(),i=l??t.times,n=s?i.findIndex(t=>Date.parse(t)>e):-1,o=Object.entries(t.views).map(e=>{let r,[l,i]=e;return{key:l,groupBy:i.groupBy,results:(r=i.results,("weekly"===a||"monthly"===a)&&(r=lX(i,t.times,a).results),s&&(r=lZ({...i,results:r},n)),r)}}),u=l??t.times,c=u.map((e,t)=>{let r=o[0]?.results;return r?.length?r.reduce((e,r)=>{let l=r.values[t];return l?Array.isArray(l)?e+(l[0]||0):e+("number"==typeof l?l:0):e},0):0}),d=r[0]?.unit??null,f={monthly:{unit:"month",step:1},weekly:{unit:"week",step:1}}[a]??t.granularity,h=t.times[t.times.length-1],m=h?Date.parse(h):void 0;return{dimensionsMeta:t.dimensionsMeta,granularity:f,timestamps:u.map(e=>Date.parse(e)),totalValue:c.reduce((e,t)=>e+t,0),totalValues:c,views:o,metrics:r,valuesUnit:d,maxTimestamp:m}},[r,t.dimensionsMeta,t.granularity,t.times,t.views,a,s]),[d,f]=(0,u.useState)(l??o.views[0]?.key??""),h=o.views.find(e=>e.key===d);if(!h)throw Error(`No view with key ${d}`);let p=function(e){let{groups:t,colorPalette:r}=e;return(0,u.useMemo)(()=>{let e=[],l=[];for(let r=0;r<t.length;r++){e.push(r);let a=t[r],s=a?.totalValue[0]??0;l.push({key:r,total:s})}l.sort((e,t)=>t.total-e.total);let a=new Map;l.forEach((e,t)=>{let{key:r}=e;a.set(r,t)});let s=(0,lR.scaleOrdinal)({domain:e,range:r.defaultColors});return e=>s(a.get(e)??0)},[r.defaultColors,t])}({groups:h.results,colorPalette:m});return{data:o,chartInteraction:function(){let[e,t]=(0,u.useState)(null),[r,l]=(0,u.useState)(!1),a=(0,u.useRef)(null),s=(0,u.useRef)([]),i=e=>{for(let t of s.current)t(e)},n=()=>{a.current&&(clearTimeout(a.current),a.current=null),(0,u.startTransition)(()=>{l(!1),t(null)}),i(null)};return{subscribeToChange:e=>(s.current.push(e),()=>{s.current=s.current.filter(t=>t!==e)}),willHoverChange:(t,r)=>{let l=null===e||e.datum.timestamp!==t,s=!l&&e.hoveredSegmentKey!==r;return l||s||null!==a.current},hover:l=>{if(a.current&&(clearTimeout(a.current),a.current=null),r&&e?.datum.timestamp===l.datum.timestamp){let r={...e,hoveredSegmentKey:l.hoveredSegmentKey};(0,u.startTransition)(()=>{t(r)}),i(r);return}r||((0,u.startTransition)(()=>{t(l)}),i(l))},blur:()=>{if(r){if(e&&void 0!==e.hoveredSegmentKey){let r={...e,hoveredSegmentKey:void 0};(0,u.startTransition)(()=>{t(r)}),i(r)}return}a.current&&clearTimeout(a.current),a.current=window.setTimeout(()=>{a.current=null,(0,u.startTransition)(()=>{t(null)}),i(null)},50)},click:a=>{r&&e?.datum.timestamp===a.datum.timestamp?n():((0,u.startTransition)(()=>{l(!0),t(a)}),i(a))},clear:n,activeItem:e,isClicked:r}}(),colorsScale:p,chartRef:i,containerWidth:n,setViewKey:e=>(0,u.startTransition)(()=>f(e)),view:h}}],2051099)},2737600,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),l=e.i(2051099),a=e.i(6344231),s=e.i(6621419),i=e.i(1670878),n=e.i(7917902);e.i(2243470);var o=e.i(696150),u=e.i(5937501),c=e.i(499757);function d(e,t){return{index:e,values:Array.from({length:t.length},()=>[0,0]),totalValue:[0,0],metrics:["gross_cost"]}}function f(e,t,r){let l=new Map;return e.results.forEach(e=>{let a=t(e);if(!a)return;l.has(a)||l.set(a,r(e,l.size));let s=l.get(a);if(!s)return;let i=e.values.reduce((e,t,r)=>{let[l,a]=Array.isArray(t)?t:[Number(t),0];return e[r]||(e[r]=[0,0]),e[r][0]+=l,e[r][1]+=a,e},[]);s.values=s.values.map((e,t)=>[e[0]+(i[t]?.[0]||0),e[1]+(i[t]?.[1]||0)]),Array.isArray(e.totalValue)&&(s.totalValue[0]+=e.totalValue[0],s.totalValue[1]+=e.totalValue[1])}),Array.from(l.values()).sort((e,t)=>e.index-t.index)}let h=["Fluid Active CPU","Fluid Provisioned Memory"],m=e=>{if(0===e.length)return 0;let t=[...e].sort((e,t)=>e-t),r=Math.floor(t.length/2);return t.length%2==0?(t[r-1]+t[r])/2:t[r]};var p=e.i(1099325),g=e.i(4252354),x=e.i(2466450),v=e.i(6468432);let y=["Premium Enterprise Support","Standard Enterprise Support","Platinum Enterprise Support","v0 Support","Flexible Commitment","Included Allocation (USD)","Developer Experience Platform","v0 Enterprise Platform","Professional Services"];function b(e){let{className:a,queryResponse:i,queryParams:n,views:o,style:c,teamSlug:h,scopedProject:m,period:p,cumulative:g,team:b,chartExpanded:j,chartRenderers:w,isInBillingCycle:_,includedCreditAllocation:k,forecast:S}=e,C=(0,r.useMemo)(()=>void 0===n.products?null:Array.isArray(n.products)?n.products:[n.products],[n.products]),[{groupBy:N}]=(0,s.useUsageQueryState)(),M=(0,r.useMemo)(()=>C&&0!==C.length?(0,u.getProductAndCategory)(C[0],i.results.dimensionsMeta):{category:null,product:null},[C,i.results.dimensionsMeta]),I="project"===N,E=(0,r.useMemo)(()=>{var e,t;let r={...i.results,views:{...i.results.views}},l=i.results.views.byProductRegionProject,a=I?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return f(e,e=>e.dimensionValues.project||"",(e,t)=>({...d(t,e.values),dimensionValues:{project:e.dimensionValues.project||""}})).sort((e,t)=>t.totalValue[0]-e.totalValue[0]).slice(0,t)}(l):(e=i.results.dimensionsMeta,f(l,t=>(function(e,t){let r=e.dimensionValues.product;if(!r)return;let l=t.product?.values[r];return l?.title||r})(t,e),(e,t)=>({...d(t,e.values),dimensionValues:{product:e.dimensionValues.product||""}})));return t=I?["project"]:["product"],{...r,views:{...r.views,byProductRegionProject:{...l,groupBy:t,results:a}}}},[I,i.results]),A=(0,l.useUsageTimeseriesChart)({metrics:i.metrics,timeseriesResults:E,intitialViewKey:o[0]?.key,period:p,cumulative:g}),P=(0,r.useMemo)(()=>A.data.totalValues.some(e=>e>(k??0)*.3),[A.data.totalValues,k]),T=b.billing?.plan==="pro"&&b.billing?.planIteration==="plus";!P&&S&&T&&(S.showAllocation=!1);let U=0===i.results.times.length||A.view.results.reduce((e,t)=>e&&0===t.totalValue[0]&&0===t.totalValue[1],!0),[,V]=(0,s.useUsageQueryState)(),F=(0,v.isFlexibleCommitment)(b),O=(0,r.useMemo)(()=>{let e=i.results.dimensionsMeta.product?.values;return e?Object.values(e).filter(e=>e?.category==="Subscription Licenses").map(e=>e.title).filter(e=>!F||!y.includes(e)):[]},[i.results.dimensionsMeta,F]),L={handle:A,style:c,isProjectView:I,isEmpty:U,isExpanded:j,staticItems:O,planIteration:b.billing?.planIteration??"unbundled",forecast:{credits:k??0,showAllocation:S?.showAllocation??!1,creditsLabel:S?.creditsLabel??"Credit Allocation"},yAxisFormatter:T&&b.billing?.currency?e=>(0,x.formatCurrency)(e.toFixed(2),b.billing?.currency):void 0,period:p,cumulative:g,onPeriodChange:e=>{V({period:e},{replace:!0})},onCumulativeChange:e=>{V({cumulative:e},{replace:!0})}},R=_&&T?k:void 0,B={handle:A,teamSlug:h,projectSlug:m?.name,queryParams:n,selectedProductAndCategory:M,isProjectView:I,billableItemToChartMap:u.billableItemToChartMap,team:b,staticItems:O,isInBillingCycle:_,planIteration:b.billing?.planIteration??"unbundled",includedCreditAllocation:R,isEmpty:U};return(0,t.jsxs)(l.Root,{className:a,minHeight:160,children:[w.body(L),w.legend(B)]})}function j(){return(0,t.jsx)(l.EmptyBody,{})}e.s(["MetricChart",0,function(e){let{views:l,style:d,className:f,teamId:x,teamSlug:w,team:_,chartRenderers:k,useValueBasedFiltering:S=!1,includedCreditAllocation:C,forecast:N,scopedProject:M}=e,[{from:I,to:E,period:A,cumulative:P,products:T,range:U,projectId:V,chartExpanded:F,groupBy:O}]=(0,s.useUsageQueryState)(),L=(0,n.useAccount)(),{setProjects:R,setIsProjectsLoading:B}=(0,c.useProjectActions)(),{setProducts:D,setIsProductsLoading:$}=(0,c.useProductActions)(),{setFluidMetrics:H}=(0,c.useFluidActions)(),{from:z,to:G}=(0,r.useMemo)(()=>{let e,t,r=new Date().toISOString();if(I)e=new Date(I).toISOString(),t=E?new Date(E).toISOString():r;else{let{start:r,end:l}=(0,i.getBillingRange)(L.team);if(!r&&!l)return{from:e=(0,p.createDefaultCalendarPresets)("America/Los_Angeles")[g.DATE_RANGE_PRESETS.LAST_30_DAYS].start.toISOString(),to:t=p.endOfToday.toISOString()};e=r?new Date(r).toISOString():"",t=l?new Date(l).toISOString():""}let l=o.DateTime.fromISO(t).setZone("America/Los_Angeles");return l.toISOTime()!==l.startOf("day").toISOTime()&&(t=l.plus({day:1}).startOf("day").toISO()),{from:e,to:t}},[I,E,L.team]),W=(0,r.useMemo)(()=>"current-billing-cycle"===U||"previous-billing-cycle"===U||!I&&!E,[U,I,E]),q=M?.id??V,Q=(0,a.useCostMetrics)({teamId:x,from:z||"",to:G||"",format:"timeseries",views:Object.fromEntries(l.map(e=>{let{key:t,groupBy:r}=e;return[t,{groupBy:r}]})),userAgent:`vercel-site.metric-chart-${_.billing?.plan??"unknown"}`}),K=(0,r.useMemo)(()=>Q,[Q]);(0,r.useEffect)(()=>{if(K.data&&!K.isLoading){let e=new Map,t=new Map,l=K.data.results.dimensionsMeta.project?.values,a=K.data.results.dimensionsMeta.product?.values;K.data.results.views.byProductRegionProject.results.forEach(r=>{let s=0,i=0;Array.isArray(r.totalValue)&&(s=r.totalValue[0],i=r.totalValue[1]);let n=r.dimensionValues.project,o=r.dimensionValues.product;if(n){let t=l?.[n],r=t?.title||n;if(e.has(n)){let t=e.get(n);t&&e.set(n,{...t,cost:t.cost+s,value:t.value+i})}else e.set(n,{id:n,name:r,cost:s,value:i})}if(o){let e=a?.[o],r=e?.title||o;if(t.has(o)){let e=t.get(o);e&&t.set(o,{...e,cost:e.cost+s,value:e.value+i})}else t.set(o,{id:o,name:r,cost:s,value:i})}});let s=Array.from(e.values()).sort((e,t)=>t.cost-e.cost).filter(e=>S?e.value>0:e.cost>0),i=Array.from(t.values()).sort((e,t)=>t.cost-e.cost).filter(e=>{if((0,v.isFlexibleCommitment)(_)&&y.includes(e.name))return!1;if(S){let t=a?Object.values(a).filter(e=>e?.category==="Subscription Licenses").map(e=>e.title):[];return e.value>0&&!t.includes(e.name)}return e.cost>0}),n=function(e,t){if(t)return{percentage:null,isFluidEnabled:!1,pivotPoint:null};let r=e.results.views.byProductRegionProject,l=e.results.times,a=e.results.dimensionsMeta.product?.values;if(!r.results||!a||l.length<6)return{percentage:null,isFluidEnabled:!1,pivotPoint:null};let s=r.results.filter(e=>{let t=e.dimensionValues.product;if(!t)return!1;let r=a[t];if(!r)return!1;let l=r.title||t;return h.includes(l)}),i=r.results.filter(e=>{let t=e.dimensionValues.product;return!!t&&!!a[t]});if(0===s.length)return{percentage:null,isFluidEnabled:!1,pivotPoint:null};let n=l.map((e,t)=>s.reduce((e,r)=>{let l=r.values[t];return l&&Array.isArray(l)?e+(l[0]??0):e},0)),o=l.map((e,t)=>i.reduce((e,r)=>{let l=r.values[t];return l&&Array.isArray(l)?e+(l[0]??0):e},0)),u=n.findIndex(e=>e>1);if(-1===u)return{percentage:null,isFluidEnabled:!1,pivotPoint:null};let c=o.findIndex(e=>e>0);if(u<=c||u>=l.length-1)return{percentage:null,isFluidEnabled:!0,pivotPoint:u};let d=Math.min(u-c,l.length-(u+1));if(d<2)return{percentage:null,isFluidEnabled:!0,pivotPoint:u};let f=m(o.slice(u-d,u)),p=m(o.slice(u+1,u+1+d)),g=null;return f>0&&(g=(f-p)/f*100),{percentage:g,isFluidEnabled:!0,pivotPoint:u}}(K.data,"project"===O);(0,r.startTransition)(()=>{R(s),B(!1),D(i),$(!1),H({percentage:n.percentage,isFluidEnabled:n.isFluidEnabled})})}},[K.data,K.isLoading,R,B,D,$,H,S,O,_]);let Y=(0,v.isFlexibleCommitment)(_),Z=(0,r.useMemo)(()=>{if(!K.data||!T&&!q&&!Y)return K.data;let e=[];T&&(e=Array.isArray(T)?T:[T]);let t=[];return q&&"all"!==q&&(t=q.includes(",")?q.split(","):[q]),{...K.data,results:{...K.data.results,views:Object.fromEntries(Object.entries(K.data.results.views).map(r=>{let[l,a]=r;return[l,{...a,results:a.results.filter(r=>{let l=r.dimensionValues?.product;if(Y&&l){let e=K.data?.results.dimensionsMeta.product?.values[l],t=e?.title||l;if(y.includes(t))return!1}if(q&&"all"!==q){let e=r.dimensionValues?.project;if(!e||!t.includes(e))return!1}if(e.length>0){if(!l)return!1;let t=K.data?.results.dimensionsMeta.product?.values[l],r=t?.title||l;if(!e.some(e=>l===e||(0,u.toUrlFormat)(r)===e))return!1}return!0})}]}))}}},[K.data,T,q,Y]);return!K.isLoading&&z&&G?K.error||!K.data?(0,t.jsx)(j,{}):(N&&_.billing?.plan==="pro"&&("daily"===A||U&&"current-billing-cycle"!==U?N.showAllocation=!1:N.showAllocation=!0),(0,t.jsx)(b,{className:f,period:A,cumulative:P,queryResponse:Z||K.data,queryParams:{from:I?Number(I):void 0,to:E?Number(E):void 0,range:U,products:T},style:d,team:_,teamSlug:w,scopedProject:M,views:l,chartExpanded:F,chartRenderers:k,isInBillingCycle:W,includedCreditAllocation:C,forecast:N})):k.skeleton()}],2737600)},2368385,e=>{"use strict";var t=e.i(4205214),r=e.i(6143247);e.s(["BlockTitleDescription",0,function(e){let{className:l,...a}=e;return(0,t.jsx)("p",{className:(0,r.cn)("label-14","text-gray-900","mt-2","mb-0",l),...a})},"BlockTitleHeading",0,function(e){let{className:l,...a}=e;return(0,t.jsx)("h2",{className:(0,r.cn)("text-heading-20","m-0",l),...a})},"BlockTitleRoot",0,function(e){let{className:l,...a}=e;return(0,t.jsx)("div",{className:(0,r.cn)("space-y-2",l),...a})}])},5398400,e=>{e.v({cumulativeCheckbox:"chart-view-module__BkHUiW__cumulativeCheckbox"})},5724885,e=>{"use strict";var t=e.i(4205214),r=e.i(8923565),l=e.i(3869281),a=e.i(6621419),s=e.i(2368385),i=e.i(6352514),n=e.i(1853611),o=e.i(7917902),u=e.i(5398400);e.s(["MetricChartModes",0,function(e){let{defaultMode:s}=e,[{period:c,cumulative:d},f]=(0,a.useUsageQueryState)(),{team:h}=(0,o.useAccount)(),m=c??s,p=d??!1,g=e=>{f({period:e},{replace:!0}),n.analytics.track(i.AnalyticsEvent.USAGE_CHART_MODE_SWITCHED,{mode:e,cumulative:p,plan:h?.billing?.plan})};return(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-4 flex-initial",children:[(0,t.jsxs)(r.Switch,{className:"w-25",size:"small",children:[(0,t.jsx)(r.Switch.Control,{checked:"daily"===m,label:"Daily",onChange:()=>g("daily"),value:"daily"},"daily"),(0,t.jsx)(r.Switch.Control,{checked:"weekly"===m,label:"Weekly",onChange:()=>g("weekly"),value:"weekly"},"weekly"),(0,t.jsx)(r.Switch.Control,{checked:"monthly"===m,label:"Monthly",onChange:()=>g("monthly"),value:"monthly"},"monthly")]}),(0,t.jsx)(l.Checkbox,{checked:p,onChange:e=>{let t=e.target.checked;f({cumulative:t},{replace:!0}),n.analytics.track(i.AnalyticsEvent.USAGE_CHART_MODE_SWITCHED,{mode:m,cumulative:t,plan:h?.billing?.plan})},className:u.default.cumulativeCheckbox,children:"Cumulative"})]})},"MetricChartTitle",0,function(e){let{description:r,titleOverride:l}=e,[{period:i,cumulative:n}]=(0,a.useUsageQueryState)(),o=l??`${n?"Cumulative ":""}${({daily:"Daily",weekly:"Weekly",monthly:"Monthly"})[i??"daily"]} Consumption Breakdown`;return(0,t.jsxs)(s.BlockTitleRoot,{children:[(0,t.jsx)(s.BlockTitleHeading,{children:o}),r?(0,t.jsx)(s.BlockTitleDescription,{children:r}):null]})}])},1773235,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),l=e.i(5255926),a=e.i(6143247);function s(e){let{className:r,...l}=e;return(0,t.jsx)("h2",{className:(0,a.cn)("text-heading-20","mb-0","mt-2",r),...l})}function i(e){let{className:r,...l}=e;return(0,t.jsx)("div",{className:(0,a.cn)("space-y-2","mb-0",r),...l})}var n=e.i(2368385),o=e.i(2504781),u=e.i(8735244),c=e.i(5468328),d=e.i(3993360),f=e.i(6996150);function h(){let{downloading:e,isDisabled:r,handleDownload:l}=(0,f.useDownloadCsv)(),a=(0,t.jsx)(o.Button,{disabled:r,onClick:l,type:"secondary","aria-label":"Download CSV",svgOnly:!0,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[e?(0,t.jsx)(u.Spinner,{className:"w-50px"}):(0,t.jsx)(d.Download,{className:"w-50px"}),(0,t.jsx)("p",{className:"text-copy-14",children:"Export CSV"})]})});return r?(0,t.jsx)(c.Tooltip,{text:"Your CSV may take time to generate.",children:a}):a}var m=e.i(6621419);e.i(2243470);var p=e.i(696150),g=e.i(1683927);function x(e){return p.DateTime.fromJSDate(new Date(e)).toLocaleString(p.DateTime.DATE_FULL)}e.s(["UsageOverview",0,function(e){let{isFlexibleCommitment:a=!1}=e,[{range:o,from:u,to:c}]=(0,m.useUsageQueryState)(),{data:d}=(0,g.useBillingCycles)(),f=(0,r.useMemo)(()=>{if(!d||"string"==typeof d)return"";if((o||u||c)&&"current-billing-cycle"!==o){if("previous-billing-cycle"===o){let e=x(d.previous.start),t=x(d.previous.end);return`Previous Billing Cycle: ${e} - ${t}`}}else{let e=x(d.current.start),t=x(d.current.end);return`Current Billing Cycle: ${e} - ${t}`}let e=u?x(new Date(u)):x(new Date),t=c?x(new Date(c)):x(new Date);return`${e} - ${t}`},[d,o,u,c]);return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)(l.Skeleton,{height:40,width:"100%",children:(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-between gap-4 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start flex-initial",children:[(0,t.jsx)(l.Skeleton,{height:20,width:200}),(0,t.jsx)(l.Skeleton,{height:16,width:450})]}),(0,t.jsx)(l.Skeleton,{height:40,width:100})]})}),children:(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-between gap-4 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start flex-initial",children:[(0,t.jsx)(s,{children:"Usage Overview"}),(0,t.jsx)(i,{children:(0,t.jsx)(n.BlockTitleDescription,{className:"min-h-[24px]",children:f})})]}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsx)(h,{})})]})})}],1773235)},9528889,e=>{"use strict";var t=e.i(4205214),r=e.i(6143247),l=e.i(6912485),a=e.i(5255926),s=e.i(3294237),i=e.i(7797615);let n=(0,s.cva)(["material-base","w-full"],{variants:{variant:{usage:["px-6","py-5","space-y-2.5"],chart:["px-6","pt-6","mb-6","w-full","material-base","space-y-6","pb-6"]}},defaultVariants:{variant:"chart"}});function o(e){let{value:l,type:a="miu",className:s}=e;return"usd"===a?(0,t.jsx)("span",{className:(0,r.cn)(s),children:(0,i.formatNumberUsd)(l)}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:(0,r.cn)("geist-hide-on-mobile",s),children:(0,i.formatNumber)(l)}),(0,t.jsx)("span",{className:(0,r.cn)("geist-show-on-mobile",s),children:(0,i.formatNumberCompact)(l)})]})}e.s(["UsageBlockBody",0,function(e){let{className:l,...a}=e;return(0,t.jsx)("div",{className:(0,r.cn)("space-y-2",l),...a})},"UsageBlockBox",0,function(e){let{className:r,variant:l,...a}=e;return(0,t.jsx)("div",{className:n({className:r,variant:l}),...a})},"UsageBlockManagement",0,function(e){if(e.isLoading)return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex h-5 items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)(a.Skeleton,{children:(0,t.jsx)("div",{className:"h-3 w-16"})})}),(0,t.jsx)(a.Skeleton,{children:(0,t.jsx)("div",{className:"h-3 w-20"})})]}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(a.Skeleton,{children:(0,t.jsx)("div",{className:"h-2.5 w-full"})})})]});let{available:r,forecast:s,total:i,used:n,type:u="miu"}=e;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-label-14",children:[(0,t.jsx)(o,{type:u,value:n}),(0,t.jsx)("span",{children:" / "}),(0,t.jsx)(o,{className:"text-gray-900",type:u,value:i})]}),void 0!==r?(0,t.jsxs)("div",{className:"text-gray-900",children:[(0,t.jsx)(o,{type:u,value:r}),(0,t.jsx)("span",{children:" available"})]}):(0,t.jsx)("div",{})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.Progress,{type:"success",value:n/i*100}),s?(0,t.jsx)("div",{className:"absolute -inset-y-0.5 w-0.5 bg-gray-500",style:{left:`${s/i*100}%`}}):null]})]})},"UsageBlockOnDemand",0,function(e){let{className:l,...a}=e;return(0,t.jsx)("div",{className:(0,r.cn)("text-heading-32",l),...a})},"UsageBlockRoot",0,function(e){let{className:l,...a}=e;return(0,t.jsx)("div",{className:(0,r.cn)("flex","gap-4","w-full","flex-col","@md-page:flex-row","mb-4","mt-4","[&>div:first-child]:flex-1","@md-page:[&>div:last-child:not(:only-child)]:flex-1","@md-page:[&>div:last-child:not(:only-child)]:max-w-48",l),...a})},"UsageBlockTitle",0,function(e){let{className:l,...a}=e;return(0,t.jsx)("strong",{className:(0,r.cn)("label-14","font-medium",l),...a})}])},3512728,e=>{"use strict";var t=e.i(4205214),r=e.i(9528889);function l(e){let{upcomingCommitmentUsage:l,plan:a}=e;if(!l||0===l.creditLedgers.length)return(0,t.jsxs)(r.UsageBlockBox,{variant:"usage",children:[(0,t.jsx)(r.UsageBlockTitle,{children:"enterprise"===a?"Included Allocation (MIU)":"Credits"}),(0,t.jsx)(r.UsageBlockBody,{children:(0,t.jsx)(r.UsageBlockManagement,{available:0,total:0,type:"miu",used:0})})]});let{total:s,remaining:i,currency:n}=l.creditLedgers[0],[o,u,c]=[Math.round(s-i),Math.round(s),Math.round(i)],d="";return"enterprise"===a&&(d="annual"===l.cadence?"Annual Commitment":"monthly"===l.cadence?"Monthly Commitment":"Included Allocation"),"pro"===a&&(d="Included Credit"),(0,t.jsxs)(r.UsageBlockBox,{variant:"usage",children:[(0,t.jsx)(r.UsageBlockTitle,{children:d}),(0,t.jsx)(r.UsageBlockBody,{children:(0,t.jsx)(r.UsageBlockManagement,{available:c,total:u,type:n,used:o})})]})}function a(e){let{plan:l}=e;return(0,t.jsxs)(r.UsageBlockBox,{variant:"usage",children:[(0,t.jsx)(r.UsageBlockTitle,{children:"enterprise"===l?"Included Allocation (MIU)":"Credits"}),(0,t.jsx)(r.UsageBlockBody,{className:"pt-1",children:(0,t.jsx)(r.UsageBlockManagement,{isLoading:!0})})]})}var s=e.i(8660982),i=e.i(4177906),n=e.i(9257893);function o(e){let{value:r,currency:l}=e;return null===r?(0,t.jsx)(t.Fragment,{children:""}):(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-1 flex-initial",children:[(0,t.jsx)(n.default,{value:Math.floor(r)}),(0,t.jsx)(u,{currency:l,className:"mt-5 font-medium"})]})}let u=e=>{let{currency:r,className:l}=e;return"managed_infrastructure_units"===r?(0,t.jsx)("p",{className:`text-copy-14 ${l}`,children:"MIU"}):(0,t.jsx)("p",{className:`text-copy-14 ${l}`,children:r})};var c=e.i(5255926);function d(e){let{invoice:l,currency:a}=e,n=(0,s.useMemo)(()=>l?.lineItems.reduce((e,t)=>"managed-infra"===t.group?e+Number(t.amount):e,0),[l]);return(0,t.jsxs)(r.UsageBlockBox,{variant:"usage",children:[(0,t.jsx)(r.UsageBlockTitle,{className:"@md-page:text-center",children:"On-demand Charges"}),(0,t.jsx)(r.UsageBlockOnDemand,{className:"pt-1",children:l&&(0,i.filterInvoiceItems)(l).length>0?(0,t.jsx)(o,{value:Number(n),currency:a}):(0,t.jsx)(t.Fragment,{children:""})})]})}function f(){return(0,t.jsxs)(r.UsageBlockBox,{variant:"usage",children:[(0,t.jsx)(r.UsageBlockTitle,{className:"@md-page:text-center",children:"On-demand Charges"}),(0,t.jsx)(r.UsageBlockOnDemand,{className:"pt-3",children:(0,t.jsx)(c.Skeleton,{children:(0,t.jsx)("div",{className:"h-10 w-full"})})})]})}var h=e.i(6621419),m=e.i(2368385),p=e.i(499757),g=e.i(1717203),x=e.i(7557283),v=e.i(4726513);e.s(["UsageAllocationSection",0,function(e){let a,{upcomingCommitmentUsage:s,invoice:i,plan:n,planIteration:o,showV2Allocation:u,canUpdateBillingPlan:c}=e,{can:f,isLoading:y}=(0,g.default)(),[{range:b,to:j,from:w}]=(0,h.useUsageQueryState)(),_=(0,p.usePresets)(),k=y?c:f(x.Action.Update,x.Resource.BillingPlan);if(!s||s?.creditLedgers.length===0)return null;let S=s?.creditLedgers[0]?.currency??"USD";a=u?(0,t.jsx)(r.UsageBlockRoot,{children:(0,t.jsx)(v.CreditUsageCompact,{creditLedgers:s?.creditLedgers,invoice:i,className:"p-5",source:"usage-page",canUpdateBillingPlan:k})}):(0,t.jsxs)(r.UsageBlockRoot,{children:[(0,t.jsx)(l,{upcomingCommitmentUsage:s,plan:n}),(0,t.jsx)(d,{invoice:i,currency:S})]});let C=(0,t.jsx)(m.BlockTitleDescription,{className:"mt-0 min-h-[24px]",children:"Included allocation and on-demand charges are only available for the current billing cycle."});return("pro"===n&&"plus"===o&&(C=(0,t.jsx)(m.BlockTitleDescription,{className:"mt-0 min-h-[24px]",children:"Credits allocation is only available for the current billing cycle."})),null===s||void 0===i)?null:"flex"===o||void 0===b&&void 0===w&&void 0===j||"current-billing-cycle"===b||w===_[0]?.start&&j===_[0]?.end?a:C},"UsageAllocationSectionSkeleton",0,function(e){let{plan:l,showV2Allocation:s}=e;return s?(0,t.jsx)(r.UsageBlockRoot,{children:(0,t.jsx)(v.CreditUsageCompactSkeleton,{})}):(0,t.jsxs)(r.UsageBlockRoot,{children:[(0,t.jsx)(a,{plan:l}),(0,t.jsx)(f,{})]})}],3512728)},5653937,e=>{"use strict";var t=e.i(4205214),r=e.i(6143247);let l=(0,e.i(8660982).forwardRef)(function(e,l){let{className:a,...s}=e;return(0,t.jsx)("div",{className:"-ml-6 w-[calc(100%+48px)] overflow-auto",children:(0,t.jsx)("div",{className:(0,r.cn)("px-6",a),ref:l,...s})})});e.s(["UsageTableScrollContainer",0,l])},2326631,e=>{"use strict";var t=e.i(4205214),r=e.i(2051099),l=e.i(5653937),a=e.i(9528889),s=e.i(5937501),i=e.i(8660982);function n(e){let{children:r,marginTop:s="0px",withBlockBox:i=!0}=e,n=(0,t.jsx)(l.UsageTableScrollContainer,{style:{marginTop:s},children:r});return i?(0,t.jsx)(a.UsageBlockBox,{variant:"chart",children:n}):n}function o(e){let t=(0,i.useMemo)(()=>{let t=e.product?.values;if(!t)return;let r={};for(let e of Object.values(t)){let t=e.category,l=e.title;t&&l&&(r[t]||(r[t]=[]),r[t].push(l))}return r},[e]),r=(0,i.useMemo)(()=>{if(t)return Object.keys(t).sort((e,t)=>{let r=s.CATEGORIES.indexOf(e),l=s.CATEGORIES.indexOf(t);return -1===r&&-1===l?e.localeCompare(t):-1===r?1:-1===l?-1:r-l||e.localeCompare(t)})},[t]);return{rowsPerCategory:t,categories:r}}e.s(["EntChartBody",0,function(e){let{handle:l,style:a,isProjectView:s,isEmpty:i,staticItems:n,forecast:o,yAxisFormatter:u}=e;return i?(0,t.jsx)(r.EmptyBody,{}):(0,t.jsx)(r.Body,{handle:l,style:a,isProjectView:s,staticItems:n,forecast:o,yAxisFormatter:u})},"EntLegend",0,function(e){let{handle:l,teamSlug:a,projectSlug:s,queryParams:i,selectedProductAndCategory:u,isProjectView:c,billableItemToChartMap:d,staticItems:f,planIteration:h,isEmpty:m}=e,{rowsPerCategory:p,categories:g}=o(l.data.dimensionsMeta);return m?(0,t.jsx)(t.Fragment,{}):(0,t.jsx)(n,{marginTop:"20px",withBlockBox:!1,children:(0,t.jsx)(r.LegendEnt,{handle:l,maxRows:null,showPercentage:!0,showProgressBar:!0,categories:c?void 0:g,rowsPerCategory:c?void 0:p,showTotal:!0,teamSlug:a,projectSlug:s,queryParams:i,selectedProductAndCategory:u,isProjectView:c,billableItemToChartMap:d,staticItems:f,planIteration:h??"unbundled"})})},"EntSkeletonContent",0,function(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.BodySkeleton,{}),(0,t.jsx)(l.UsageTableScrollContainer,{style:{marginTop:"20px"},children:(0,t.jsx)(r.LegendSkeleton,{})})]})},"ProChartBody",0,function(e){let{handle:l,style:a,isProjectView:s,isEmpty:i,isExpanded:n,staticItems:o,planIteration:u,period:c,cumulative:d,onPeriodChange:f,onCumulativeChange:h}=e;return i?(0,t.jsx)(r.EmptyBody,{}):(0,t.jsx)(r.CollapsibleChart,{handle:l,style:a,isProjectView:s,isEmpty:i,isExpanded:n,staticItems:o,planIteration:u??"unbundled",period:c,cumulative:d,onPeriodChange:f,onCumulativeChange:h})},"ProLegend",0,function(e){let{handle:l,teamSlug:a,projectSlug:s,queryParams:i,selectedProductAndCategory:u,isProjectView:c,billableItemToChartMap:d,team:f,staticItems:h,isInBillingCycle:m=!0,planIteration:p,includedCreditAllocation:g,isEmpty:x}=e,{rowsPerCategory:v,categories:y}=o(l.data.dimensionsMeta);return x?(0,t.jsx)(t.Fragment,{}):(0,t.jsx)(n,{marginTop:"20px",withBlockBox:!1,children:(0,t.jsx)(r.LegendPro,{handle:l,maxRows:null,showPercentage:!0,showProgressBar:!0,categories:c?void 0:y,rowsPerCategory:c?void 0:v,showTotal:!0,teamSlug:a,projectSlug:s,queryParams:i,selectedProductAndCategory:u,isProjectView:c,billableItemToChartMap:d,invoiceItems:f.billing?.invoiceItems,staticItems:h,isInBillingCycle:m,planIteration:p??"unbundled",includedCreditAllocation:g,isEmpty:x})})},"ProPlusLegend",0,function(e){let{handle:l,teamSlug:a,projectSlug:s,queryParams:i,selectedProductAndCategory:u,isProjectView:c,billableItemToChartMap:d,planIteration:f,includedCreditAllocation:h,team:m,staticItems:p,isInBillingCycle:g=!0,isEmpty:x}=e,{rowsPerCategory:v,categories:y}=o(l.data.dimensionsMeta);return(0,t.jsx)(n,{marginTop:"20px",withBlockBox:!1,children:(0,t.jsx)(r.LegendPro,{handle:l,maxRows:null,showPercentage:!0,showProgressBar:!0,categories:c?void 0:y,rowsPerCategory:c?void 0:v,showTotal:!0,teamSlug:a,projectSlug:s,queryParams:i,selectedProductAndCategory:u,isProjectView:c,billableItemToChartMap:d,invoiceItems:m.billing?.invoiceItems,staticItems:p,isInBillingCycle:g,planIteration:f??"unbundled",includedCreditAllocation:h,isEmpty:x})})},"ProSkeletonContent",0,function(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.CollapsibleChartSkeleton,{}),(0,t.jsx)(l.UsageTableScrollContainer,{style:{marginTop:"20px"},children:(0,t.jsx)(r.LegendSkeleton,{})})]})}])}]);

//# debugId=20703895-40ce-1f64-9e2c-4b6135dadf7b
//# sourceMappingURL=cbb339c42d7d3313.js.map