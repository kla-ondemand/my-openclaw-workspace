;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="453d867b-cd87-3dd2-cdd0-9b7c5d50d4c4")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1880374,5977547,e=>{"use strict";var t=e.i(4205214),s=e.i(8660982),a=e.i(4585051),r=e.i(5255926),l=e.i(6881349),n=e.i(3025777),i=e.i(3896588),o=e.i(1947138),c=e.i(935882),u=e.i(8587921);function d(e){let{authorFilter:t}=e,[{isValidating:a},{members:r,isLoadingMore:l}]=(0,u.useMembersInfinite)({},{search:t?.trim()||void 0,sort:"name_asc"},!0,!1),n=(0,s.useMemo)(()=>{if(t?.trim())return r?.find(e=>e.username===t)},[t,r]);return{members:r,isLoadingMembers:a||l,authorMember:n}}function m(e){let{authorFilter:t,deploymentAuthors:a=[],currentUser:r}=e,{members:l,isLoadingMembers:n}=d({authorFilter:t}),i=(0,s.useMemo)(()=>l.filter(e=>e.confirmed),[l]);return{authors:(0,s.useMemo)(()=>{let e=new Map;for(let t of a)e.set(t.username,t);if(t?.trim())for(let t of i)e.set(t.username,{uid:t.uid,username:t.username,githubLogin:t.github?.login||"",gitlabLogin:t.gitlab?.login||"",email:t.email,name:t.name});let s=Array.from(e.values());if(!t?.trim()&&r){let e=s.find(e=>e.username===r.username),t=s.filter(e=>e.username!==r.username);return e?[e,...t.sort((e,t)=>e.username.localeCompare(t.username))]:[{uid:r.uid,username:r.username},...s.sort((e,t)=>e.username.localeCompare(t.username))]}return s.sort((e,t)=>e.username.localeCompare(t.username))},[a,i,t,r]),isLoadingMembers:n}}e.s(["useAuthorCombobox",0,m,"useAuthorSearch",0,d],5977547);let x=e=>e.githubLogin?e.githubLogin:e.gitlabLogin?e.gitlabLogin:e.username,p=(0,s.memo)(e=>{let{loading:r,skeleton:u,onSelect:d,value:p,clearable:g,deploymentAuthors:f,currentUser:b}=e,[y,j]=(0,s.useState)(!1),v=(0,s.useRef)(""),[k,N,{currentValue:E,setValueImmediate:S}]=(0,o.useDebounceState)(p||"",300),{authors:w,isLoadingMembers:C}=m({authorFilter:k,deploymentAuthors:f,currentUser:b}),R=(y||k)&&C,L=(0,s.useMemo)(()=>{let e=new Map;return w.forEach(t=>{e.set(x(t),t)}),e},[w]);(0,s.useEffect)(()=>{if(p&&p!==v.current){v.current=p;let e=w.find(e=>e.username===p||e.githubLogin===p||e.gitlabLogin===p);e?S(x(e)):S(p)}else!p&&v.current&&(v.current="",S(""))},[p,w,S]);let I=(0,s.useCallback)((e,t)=>{if(""===t)return e;let s=t.toLowerCase();return e.filter(e=>{let t=L.get(e.value);return!!t&&(t.username.toLowerCase().includes(s)||t.name?.toLowerCase().includes(s)||t.githubLogin?.toLowerCase().includes(s)||t.gitlabLogin?.toLowerCase().includes(s)||t.email?.toLowerCase().includes(s))})},[L]),A=(0,s.useRef)(null);return((0,c.default)(()=>{E&&A.current?.setValue(E)},[E]),(0,c.default)(()=>{p||A.current?.clear()},[p]),u)?(0,t.jsx)(h,{}):(0,t.jsxs)(l.Combobox,{clearable:g,filter:I,loading:R||r,onChange:e=>{if(e){let t=L.get(e);t&&d?.(t)}else d?.(null),S("")},onChangeOpen:j,placeholder:"All Authors…",ref:A,children:[(0,t.jsx)(l.Combobox.Input,{onChange:e=>{""===e.target.value?S(""):N(e.target.value)}}),(0,t.jsx)(l.Combobox.List,{children:w.map(e=>{let s=x(e);return(0,t.jsxs)(l.Combobox.Option,{value:s,className:"flex items-center gap-2",children:[e.githubLogin?(0,t.jsx)(n.GitHubAvatar,{className:"border-0",size:20,username:e.githubLogin,showIcon:!1}):e.gitlabLogin?(0,t.jsx)(i.GitLabAvatar,{className:"border-0",size:20,username:e.gitlabLogin}):(0,t.jsx)(a.Avatar,{className:"border-0",size:20,username:e.username}),s]},e.username)})})]})});function h(){return(0,t.jsx)(r.Skeleton,{style:{height:40},width:"100%"})}e.s(["AuthorSearchCombobox",0,function(e){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)(h,{}),children:(0,t.jsx)(p,{...e})})}],1880374)},7442760,e=>{"use strict";var t=e.i(1991452);e.s(["useDeploymentListScope",0,function(){let e=(0,t.useRouter)(),s=e.isReady&&"/[teamSlug]/~/[...catchAll]"===e.pathname&&e.query.catchAll?.length===1&&"deployments"===e.query.catchAll[0];return{isReady:e.isReady,scope:s?"TEAM_DEPLOYMENTS":"PROJECT_DEPLOYMENTS"}}])},5598924,5442212,1122901,e=>{"use strict";var t=e.i(4205214),s=e.i(9338892),a=e.i(8660982),r=e.i(5255926),l=e.i(6881349),n=e.i(6352514),i=e.i(1853611),o=e.i(1991452),c=e.i(5677444),u=e.i(9031150),d=e.i(935882);let m=()=>{let e=(0,c.useSearchParams)();return{isReady:(0,o.useRouter)().isReady,filterBranch:e?.get("filterBranch")||void 0}};e.s(["useProjectFilteredBranch",0,function(){let{project:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=m(),[s,r]=(0,a.useState)(t.filterBranch||null);(0,a.useEffect)(()=>{r(t.filterBranch||null)},[t.isReady,t.filterBranch]);let l=(0,o.useRouter)(),n=(0,a.useCallback)(e=>{(0,u.awaitPaint)().then(()=>{r(e),function(e,t){let{teamSlug:s,project:a,slug:r,...l}=e.query;t?l.filterBranch=t:delete l.filterBranch,e.replace({pathname:window.location.pathname,query:l},void 0,{shallow:!0,scroll:!1})}(l,e)})},[l]),i=s?{ref:s}:void 0,c=(0,a.useCallback)(()=>{s&&(r(null),n(null))},[s,n]),x=!e||!t.isReady,p=null!==s,[h,g]=(0,a.useState)(p);return(0,d.default)(()=>{g(p)},[g,x,p]),{showBranchFilterBar:h,filteredBranch:s,setFilteredBranch:n,clearBranch:c,gitSource:i}},"useRouterFilteredBranch",0,m],5442212);var x=e.i(1947138),p=e.i(7401972);let h=(0,a.memo)(e=>{let{loading:r,skeleton:o,onSelect:c,project:u,value:h,includeProductionBranch:f,placeholder:b,skeletonStyle:y,comboboxSize:j,clearable:v}=e,[k,N]=(0,a.useState)(!1),[E,S]=(0,a.useState)(!1),[w,C,{currentValue:R,setValueImmediate:L}]=(0,x.useDebounceState)(h||"",300);(0,a.useEffect)(()=>{h&&L(h)},[L,h]);let[,{branches:I,isValidating:A,fetchedQuery:O}]=(0,p.useProjectDeployedBranches)({project:u,includeProductionBranch:f,query:w},{revalidateOnFocus:!1,revalidateIfStale:!1,revalidateOnReconnect:!1}),D=(O||"")!==w,U=!!E&&!!k&&!!R&&D,{filterBranch:T}=m();(0,a.useEffect)(()=>{T&&L(T)},[L,T]),(0,a.useEffect)(()=>{L(h||"")},[L,h]),(0,a.useEffect)(()=>{k||I&&!A&&N(!0)},[k,I,A]);let[B,M]=(0,a.useState)([]);(0,a.useEffect)(()=>{A||void 0===I||(0!==P.current.query.indexOf(R)&&(P.current={values:[],query:R}),M(I||[]))},[JSON.stringify(I),O]);let P=(0,a.useRef)({values:[],query:""}),_=A||R.length>=w.length&&R.length>=1?P.current.values:[],q=[...new Set([..._,...U?B:I||[]])],F=(0,a.useRef)(null);return((0,d.default)(()=>{R&&F.current?.setValue(R)},[R]),(0,d.default)(()=>{h||F.current?.clear()},[h]),o&&!k)?(0,t.jsx)(g,{skeletonStyle:y}):(0,t.jsxs)(l.Combobox,{clearable:v,filter:function(e,t){let a=""===t?e:(0,s.matchSorter)(e,t,{keys:["value","label"]}),r=[];for(let e of _)a.find(t=>t.value===e)&&r.push(e);let l=[...new Set([...r,...a.map(e=>e.value)])],n=l.map(e=>{let t=a.find(t=>t.value===e);if(!t)throw Error("impossible state");return t});return P.current={values:l,query:R},n},loading:U||r,onChange:e=>{e===T?setTimeout(()=>{c?.(null),F.current?.clear(),L("")}):(i.analytics.track(n.AnalyticsEvent.DEPLOYMENT_OVERVIEW_FILTERS_BRANCH,{value:e}),L(e||""),c?.(e))},onChangeOpen:e=>{S(e)},placeholder:b||"All Branches…",ref:F,size:j,children:[(0,t.jsx)(l.Combobox.Input,{loading:U||r,onChange:e=>{""===e.target.value?L(""):C(e.target.value)}}),(0,t.jsx)(l.Combobox.List,{children:q.map((e,s)=>(0,t.jsx)(l.Combobox.Option,{value:e,children:e},R?e:`${e}${s}`))})]})});function g(e){let{skeletonStyle:s}=e;return(0,t.jsx)(r.Skeleton,{style:s||{height:40},width:"100%"})}e.s(["BranchSearchCombobox",0,function(e){let{skeletonStyle:s}=e;return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)(g,{skeletonStyle:s}),children:(0,t.jsx)(h,{...e})})}],5598924);var f=e.i(9722978),b=e.i(3306538),y=e.i(3869281),j=e.i(2504781),v=e.i(1473216),k=e.i(6143247),N=e.i(2560270);let E={READY:{label:"Ready",className:"bg-[var(--geist-cyan)]",key:"ready"},ERROR:{label:"Error",className:"bg-[var(--geist-error)]",key:"error"},BUILDING:{label:"Building",className:"bg-[var(--geist-warning)]",key:"building"},QUEUED:{label:"Queued",className:"bg-[var(--accents-2)]",key:"queued"},INITIALIZING:{label:"Initializing",className:"bg-[var(--accents-2)]",key:"initializing"},CANCELED:{label:"Canceled",className:"bg-[var(--accents-2)]",key:"canceled"}},S=["ready","error","building","queued","initializing"],w="empty";function C(e){let{status:s,...a}=e;return(0,t.jsx)("span",{className:(0,f.clsx)("inline-block w-[10px] h-[10px] rounded-[5px] ring ring-1 ring-[var(--geist-background)] transition-colors duration-200 ease",s),...a})}let R={[E.INITIALIZING.key]:!0,[E.READY.key]:!0,[E.ERROR.key]:!0,[E.BUILDING.key]:!0,[E.QUEUED.key]:!0,[E.CANCELED.key]:!1},L="Check",I="Uncheck",A="Only",O="Check All";e.s(["default",0,function(e){let{className:s,menuButtonClassName:l,selectedStatusItems:n,handleSelectStatusItem:i,skeleton:o=!1,position:c="right"}=e,[u,d]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),[p,h]=(0,a.useState)(null),[g,S]=(0,a.useState)(!1);(0,a.useEffect)(()=>{o||d(!0)},[o]);let w=Object.values(n).filter(Boolean).length,R=Object.values(E).length,D=w>0&&w<R,U=w===R,T=(e,t)=>{switch(e){case"selectOnly":Object.values(E).forEach(e=>{let{key:s}=e;s!==t&&n[s]&&i(s)}),n[t]||i(t);break;case"selectAll":Object.values(E).forEach(e=>{let{key:t}=e;n[t]||i(t)});break;case"toggle":i(t)}};return(0,t.jsx)("div",{className:(0,f.clsx)("left"===c&&"mr-[var(--geist-space-2x)] max-[600px]:mb-[var(--geist-space-2x)] max-[600px]:mr-0","right"===c&&"ml-0 mr-[var(--geist-space-2x)] max-[997px]:mb-[var(--geist-space-2x)] max-[997px]:ml-0 max-[997px]:mr-[var(--geist-space-2x)] max-[600px]:mx-0",s),children:(0,t.jsx)(r.Skeleton,{show:!!(o&&!u),children:(0,t.jsxs)(v.Root,{open:m,onOpenChange:x,children:[(0,t.jsx)(v.Trigger,{asChild:!0,children:(0,t.jsxs)(j.Button,{className:(0,k.cn)(l,"*:whitespace-nowrap *:flex *:px-1.5 group/trigger"),type:"secondary","aria-label":`Filter by deployment status. ${w} of ${R} statuses selected`,"aria-expanded":m,suffix:(0,t.jsx)("div",{className:"text-[var(--accents-3)] group-hover/trigger:text-gray-1000 transition-colors -mr-1",children:(0,t.jsx)(N.ChevronDown,{})}),children:[(0,t.jsx)("div",{className:"[&>span]:ease w-[45px] text-left [&>span]:relative [&>span]:ring-0 [&>span]:border [&>span]:border-solid [&>span]:border-[var(--themed-bg,var(--ds-background-100))] [&>span]:transition-colors [&>span]:duration-200",children:Object.values(E).map((e,s)=>{let{key:a,className:r}=e;return(0,t.jsx)(C,{status:n[a]?r:"bg-[var(--geist-background)] shadow-[inset_0_0_0_1px_var(--accents-2)]",style:{left:`${-4*s}px`}},a)})}),(0,t.jsx)("span",{className:"flex-1 text-left font-normal text-[var(--geist-foreground)] max-[600px]:text-sm",children:"Status"}),(0,t.jsxs)(b.Badge,{className:"ml-1 h-5 min-w-8 bg-gray-300 px-1.5 text-xs font-medium tabular-nums",variant:"gray-subtle","aria-label":`${w} of ${R} statuses selected`,children:[w,"/",R]})]})}),(0,t.jsx)(v.Portal,{children:(0,t.jsx)(v.Content,{align:"start",className:"z-50 w-[220px] rounded-md bg-background-100 p-2 shadow-menu",sideOffset:5,children:(0,t.jsx)("div",{className:"flex flex-col",children:Object.values(E).map(e=>{let{key:s,className:a,label:r}=e,l=n[s]??!1,o=p===s,c=function(e){let{isHoveringCheckbox:t,isHoveredRow:s,isChecked:a,isMixedSelection:r,allSelected:l,selectedCount:n}=e;return t&&s?a?I:L:r?a?O:A:l?A:0===n?L:""}({isHoveringCheckbox:g,isHoveredRow:o,isChecked:l,isMixedSelection:D,allSelected:U,selectedCount:w});return(0,t.jsxs)("div",{className:"group relative flex items-center *:rounded *:px-1.5 *:py-1.5",onMouseEnter:()=>h(s),onMouseLeave:()=>{h(null),S(!1)},children:[(0,t.jsx)("div",{className:"peer flex items-center !px-0 !py-0 h-8 w-6",onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:(0,t.jsx)(y.Checkbox,{className:"size-full items-center justify-center flex rounded hover:bg-gray-100",checked:l,onChange:()=>i(s),"aria-labelledby":`status-label-${s}`})}),(0,t.jsxs)("button",{id:`status-label-${s}`,className:"group/label flex-1 w-full flex justify-between text-left text-sm text-gray-1000 bg-transparent !pl-2 pr-0 cursor-pointer hover:bg-gray-100 focus-visible:shadow-focus-ring outline-none",onClick:()=>{T(function(e){let{isChecked:t,allSelected:s,isMixedSelection:a,selectedCount:r}=e;return s?"selectOnly":t?"selectAll":a?"selectOnly":0===r?"toggle":"none"}({isChecked:l,allSelected:U,isMixedSelection:D,selectedCount:w}),s)},type:"button","aria-label":`${r}${c?`. ${c}`:""}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(C,{status:a}),r]}),c&&(0,t.jsx)("span",{className:(0,f.clsx)("text-gray-900 ml-auto px-1 py-0.5 rounded-sm text-xs font-medium opacity-0 peer-hover:opacity-100 group-hover/label:opacity-100 group-focus-visible/label:opacity-100",g&&o&&"opacity-100"),onClick:e=>{e.stopPropagation(),T(function(e){switch(e){case A:return"selectOnly";case O:return"selectAll";case L:case I:return"toggle";default:return"none"}}(c),s)},"aria-hidden":"true",children:c})]})]},s)})})})})]})})})},"getReadyStateFilter",0,function(e){let t=Object.keys(e).filter(t=>e[t]).map(e=>e.toUpperCase());return 0===t.length?w:t.join(",")},"useFilterStatus",0,function(){let e=(0,o.useRouter)(),t=(0,c.usePathname)(),s=(0,c.useSearchParams)(),[r,l]=(0,a.useState)(!0),[u,d]=(0,a.useState)(R);return(0,a.useEffect)(()=>{if(r&&e.isReady){var t;d((t=e.query.status)?t===w?{[E.INITIALIZING.key]:!1,[E.READY.key]:!1,[E.ERROR.key]:!1,[E.BUILDING.key]:!1,[E.QUEUED.key]:!1,[E.CANCELED.key]:!1}:{[E.INITIALIZING.key]:t.includes(E.INITIALIZING.key),[E.READY.key]:t.includes(E.READY.key),[E.ERROR.key]:t.includes(E.ERROR.key),[E.BUILDING.key]:t.includes(E.BUILDING.key),[E.QUEUED.key]:t.includes(E.QUEUED.key),[E.CANCELED.key]:t.includes(E.CANCELED.key)}:{[E.INITIALIZING.key]:!0,[E.READY.key]:!0,[E.ERROR.key]:!0,[E.BUILDING.key]:!0,[E.QUEUED.key]:!0,[E.CANCELED.key]:!1}),l(!1)}},[e.query.status,e.isReady,r]),(0,a.useEffect)(()=>{let a;if(r)return;let l=new URLSearchParams(s??{}),n=(a=Object.keys(u).filter(e=>u[e]).sort().join(","),S.sort().join(",")===a?null:""===a?w:a);n?l.set("status",n):l.delete("status"),s&&s.get("status")!==l.get("status")&&e.isReady&&e.replace({pathname:t,query:l.toString()},void 0,{scroll:!1})},[r,u,e,e.query.status,s,t]),{isInitialStatusItems:Object.entries(u).every(e=>{let[t,s]=e;return R[t]===s}),selectedStatusItems:u,resetStatusToDefault(){d(R)},handleSelectStatusItem:e=>{d(t=>{let s={...t,[e]:!t[e]};return i.analytics.track(n.AnalyticsEvent.DEPLOYMENT_OVERVIEW_FILTERS_STATUS,{status:JSON.stringify(s)}),s})},selectStatusFilterValues:Object.keys(u).filter(e=>u[e]).map(e=>e.toUpperCase())}}],1122901)},6546805,e=>{"use strict";var t=e.i(4205214),s=e.i(9722978),a=e.i(6318858),r=e.i(246968),l=e.i(8660982),n=e.i(5677444),i=e.i(5255926),o=e.i(4991687),c=e.i(8674454),u=e.i(8459493),d=e.i(6694387),m=e.i(7957424);let x="text-label-14 pr-4 font-normal md:[font-size:inherit]",p={production:"Production",preview:"Preview"},h={environment:void 0},g={all:"All Environments",...p};function f(e){let{className:r,target:i,onSelect:h,skeleton:f=!1}=e,[b,j]=(0,l.useState)(!1),v=(0,n.useParams)(),{data:k}=(0,m.useCustomEnvironments)(v?.project),N=k?.customEnvironments??[],E=i&&(Object.keys(p).includes(i)||N.some(e=>e.id===i))?i:"all",S=(0,l.useCallback)(e=>{h("all"===e?void 0:e)},[h]);return((0,l.useEffect)(()=>{f||j(!0)},[f]),f&&!b)?(0,t.jsx)(y,{}):(0,t.jsx)("div",{className:(0,s.clsx)("mx-0 w-full @md-page:w-auto",r),children:(0,t.jsxs)(o.MenuContainer,{children:[(0,t.jsx)(d.MenuButton,{align:"flex-grow",className:"min-w-[180px] group/trigger",showChevron:!0,type:"secondary",children:(0,t.jsx)("div",{className:"flex flex-row items-center justify-start flex-1",children:(0,t.jsx)("span",{className:x,children:g[E]||N.find(e=>e.id===E)?.slug})})}),(0,t.jsxs)(c.Menu,{width:300,children:[Object.entries(g).map(e=>{let[s,r]=e,l=E===s;return(0,t.jsxs)(u.MenuItem,{onClick:()=>{S(s)},children:[(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-1",children:(0,t.jsx)("span",{className:x,children:r})}),(0,t.jsx)("div",{className:"flex flex-col items-end justify-start flex-none",children:l?(0,t.jsx)(a.Check,{}):null})]},s)}),N.map(e=>{let s=e.id===E;return(0,t.jsxs)(u.MenuItem,{onClick:()=>{S(e.id)},wrap:"wrap",children:[(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-1",children:(0,t.jsx)("span",{className:x,children:e.slug})}),(0,t.jsx)("div",{className:"flex flex-col items-end justify-start flex-none",children:s?(0,t.jsx)(a.Check,{}):null})]},e.id)})]})]})})}function b(e){if(!e)return!1;let t=Object.keys(p).includes(String(e)),s=String(e).startsWith("env_");return t||s}function y(){return(0,t.jsx)(i.Skeleton,{height:40,width:"100%"})}e.s(["FilterEnvironment",0,function(e){return(0,t.jsx)(l.Suspense,{fallback:(0,t.jsx)(y,{}),children:(0,t.jsx)(f,{...e})})},"useFilterEnvironment",0,function(){let{environmentQuery:e,setEnvironmentQuery:t}=function(){let[e,t]=(0,l.useState)(!1),s=null!==(0,n.useSearchParams)(),[a,i]=(0,r.useQueryState)("environment",r.queryTypes.string),o=(0,n.useParams)(),{data:c,isLoading:u}=(0,m.useCustomEnvironments)(o?.project),d=c?.customEnvironments??[],x=!!a?.startsWith("env_"),p=x&&e&&!!d.find(e=>e.id===a),h=(0,l.useCallback)(e=>{i(b(e)?e:null)},[i]);return(0,l.useEffect)(()=>{s&&!e&&t(!0)},[e,s]),(0,l.useEffect)(()=>{e&&!u&&x&&!p&&i(null)},[x,u,e,p,i]),{environmentQuery:e&&b(a)?a:void 0,setEnvironmentQuery:h}}();(0,l.useEffect)(()=>{e&&a({type:"select",target:e})},[e]);let[s,a]=(0,l.useReducer)((e,s)=>{switch(s.type){case"select":return t(s.target),{...e,environment:s.target};case"clear":return t(void 0),h;default:return e}},h),i=(0,l.useCallback)(e=>{let t=b(e)?e:void 0;(0,l.startTransition)(()=>a({type:"select",target:t}))},[]);return{environment:s.environment,clear:()=>{(0,l.startTransition)(()=>{a({type:"clear"})})},handleSelect:i}}])},2598148,e=>{e.v({indicator:"index-module__OhUGdG__indicator",summary:"index-module__OhUGdG__summary"})},9427114,e=>{"use strict";var t=e.i(4205214),s=e.i(1991452),a=e.i(8660982),r=e.i(5255926),l=e.i(6850581),n=e.i(2504781),i=e.i(4585051),o=e.i(198667),c=e.i(7807066),u=e.i(2446691),d=e.i(6143247),m=e.i(57106),x=e.i(7218483),p=e.i(7442760),h=e.i(6060673),g=e.i(4396019),f=e.i(2695633),b=e.i(3023251),y=e.i(5071474),j=e.i(9222994),v=e.i(5371931),k=e.i(3959677),N=e.i(1553329),E=e.i(8227242),S=e.i(9375869),w=e.i(2598148);function C(e){let{banner:r,button:j,isLoading:v}=e,k=(0,s.useRouter)(),C=(0,u.useType)("warning",!0),{scope:A}=(0,p.useDeploymentListScope)(),O="string"==typeof k.query.project?k.query.project:void 0,{data:D,isLoading:U}=(0,h.useProject)(O),{deployment:T,rollbackDescription:B,isLoading:M}=(0,g.useProjectProductionDeployment)(D?.id),[P,_]=(0,a.useState)(!1),q=(0,S.useDeploymentLink)(T),F=B?.createdAt??D?.lastAliasRequest?.requestedAt,$=(0,x.useAgo)(F);if("TEAM_DEPLOYMENTS"===A)return(0,t.jsxs)("span",{children:["All deployments from"," ",(0,t.jsx)("span",{className:"text-copy-14-mono",children:k.query.teamSlug})]});if(v||U||M)return(0,t.jsx)(R,{});if(T&&D?.lastAliasRequest?.type==="rollback"&&"succeeded"===D.lastAliasRequest.jobStatus&&T.id===D.lastAliasRequest.toDeploymentId)return(0,t.jsxs)(I,{button:j,children:[(0,t.jsx)(N.UndoRollbackModal,{open:P,setOpen:_}),(0,t.jsxs)("details",{className:(0,d.cn)(C,"group rounded-md -mt-2 -mb-3 v3-colors [&[open]]:border [&[open]]:!border-amber-400 !border-transparent transition-colors duration-100 [&[open]]:duration-200"),children:[(0,t.jsxs)("summary",{className:(0,d.cn)(w.default.summary,"flex justify-between items-center gap-2 py-1 cursor-pointer rounded-md pl-2.5 pr-1 select-none ring-amber-600 outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-background-100 group/trigger"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,t.jsx)("div",{className:(0,d.cn)(w.default.indicator,"rounded-sm p-0.5 -m-0.5 aspect-square flex items-center justify-center"),children:(0,t.jsx)(c.ChevronRight,{size:14,className:"h-[1lh] transition-transform duration-250 ease-[cubic-bezier(0.77,0,0.175,1)] group-open:rotate-90 group-open:translate-x-0 translate-x-px"})}),(0,t.jsxs)("span",{className:"text-copy-14",children:["Rolled back to"," ",(0,t.jsx)(m.Link,{className:"font-medium",href:q,children:(0,y.default)(T).hash})," ",(0,t.jsx)(l.RelativeTimeCard,{date:F,side:"bottom",className:"underline decoration-dashed underline-offset-2 decoration-amber-400 hover:decoration-amber-600",children:$})," ",B?(0,t.jsxs)("span",{className:"hidden @md-page:inline-block",children:["by"," ",(0,t.jsx)(i.Avatar,{username:B?.username,className:"ml-0.5 mr-px -translate-y-px border-0 align-middle",size:16})," ",B?.username]}):null]})]}),(0,t.jsx)(n.Button,{size:"small",type:"secondary",onClick:()=>{_(e=>!e)},children:"Undo Rollback"})]}),(0,t.jsxs)("div",{className:"flex flex-col overflow-hidden transition-[height] duration-250 ease-[cubic-bezier(0.645,0.045,0.355,1)] h-0 group-open:h-auto [interpolate-size:allow-keywords]",children:[(0,t.jsx)("span",{"aria-hidden":!0}),(0,t.jsx)("div",{className:"pt-1 pb-4 flex flex-col gap-y-2 pl-[34px] pr-2",children:B?.description?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"border-l-2 border-l-amber-400 pl-3 py-0.5",children:(0,t.jsx)("blockquote",{className:"text-copy-14 max-w-prose",children:(0,t.jsx)(E.LinkParser,{text:B.description})})})}):(0,t.jsx)("p",{className:"text-copy-14",children:"No reason provided."})}),(0,t.jsxs)("div",{className:"py-2 pl-4 pr-2 bg-amber-100 border-t border-amber-400 rounded-b-md",children:[!1===D.autoAssignCustomDomains&&"Auto-assignment disabled for production domains."," ","Learn more about"," ",(0,t.jsx)(m.Link,{external:!0,href:"/docs/instant-rollback",children:"Instant Rollback"})]})]})]})]});let G=T?(0,f.getGitMeta)(T.meta):L(D?.link),z=L(D?.link);if(!G||!D?.link){let e=T?.name??D?.name;return(0,t.jsx)(I,{button:j,children:(0,t.jsx)("span",{className:"flex h-11 @md-page:h-auto",children:e?(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900",children:["All ",(0,t.jsx)("span",{className:"text-copy-14 text-gray-1000",children:e})," ","deployments"]}):null})})}return r?(0,t.jsx)(I,{button:j,children:r}):(0,t.jsx)(I,{button:j,children:(0,t.jsx)("p",{className:"text-copy-14 text-gray-900 h-11 @md-page:h-auto",children:(0,t.jsxs)("span",{className:"flex flex-row flex-wrap items-center",children:[(0,t.jsx)(o.RefreshClockwise,{className:"shrink-0",size:14}),(0,t.jsx)("span",{className:"pl-2",children:"Automatically created "}),(0,t.jsx)("span",{className:"pr-0.5",children:"for pushes to "}),(0,t.jsx)(m.Link,{className:"basis-full @sm-page:basis-auto",href:z?.branchUrl??G.branchUrl,children:(0,t.jsxs)("span",{className:"flex flex-row items-center justify-start gap-1 flex-initial",style:{display:"inline-flex"},children:[(0,t.jsx)("span",{"aria-hidden":!0,children:G.logo}),(0,t.jsx)("span",{className:"text-copy-14-mono",children:(0,b.getRepoFromLink)(D.link,{includeOrg:!0})})]})})]})})})}function R(){return(0,t.jsx)("span",{className:"flex h-11 flex-col @md-page:h-auto @md-page:w-1/3",children:(0,t.jsx)(r.Skeleton,{height:22,width:"100%"})})}function L(e){let{org:s,repo:a}=(0,b.getOrgAndRepoFromLink)(e)??{},{productionBranch:r}=e??{};if(s&&a&&r)switch(e?.type){case"github":return{logo:(0,t.jsx)(k.default,{}),branchUrl:`https://github.com/${s}/${a}/tree/${r}`};case"gitlab":return{logo:(0,t.jsx)(v.default,{}),branchUrl:`https://gitlab.com/${s}/${a}/-/tree/${r}`};case"bitbucket":return{logo:(0,t.jsx)(j.default,{}),branchUrl:`https://bitbucket.org/${s}/${a}/branch/${r}`};default:return}}function I(e){let{children:s,button:a}=e;return(0,t.jsxs)("aside",{className:"relative pl-[3px]",children:[s,(0,t.jsx)("div",{className:"absolute right-0 top-0 translate-y-[calc(-100%-20px)]",children:a})]})}e.s(["DeploymentsHeader",0,function(e){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)(R,{}),children:(0,t.jsx)(C,{...e})})}])},3039157,e=>{"use strict";var t=e.i(4205214),s=e.i(6143247),a=e.i(1794286),r=e.i(9318197),l=e.i(5819220),n=e.i(979715),i=e.i(4004502),o=e.i(4450569),c=e.i(8062867),u=e.i(2652226),d=e.i(5598924),m=e.i(1880374),x=e.i(1122901),p=e.i(9427114),h=e.i(6546805),g=e.i(3748432);let f=()=>void 0;function b(){return(0,t.jsxs)(l.Entity,{className:(0,s.cn)("rounded border border-solid border-gray-alpha-400 @md-page:border-0 @md-page:[&:not(:first-of-type)]:rounded-t-[0px] @md-page:[&:not(:first-of-type)]:border-t","@md-page:[&:not(:first-of-type)]:mt-[-1px]"),containerClassName:"@sm-page:gap-x-4","data-testid":(0,i.tid)("deployments","deployment-entity","no-uid"),menuItems:null,placeholder:!0,children:[(0,t.jsx)(n.EntityField,{className:"max-w-[200px]","data-testid":(0,i.tid)("deployment-entity","target"),descriptionWrap:!1,description:null,descriptionSkeletonWidth:80,title:null,titleSkeletonWidth:140,minWidth:140}),(0,t.jsx)(n.EntityField,{description:null,descriptionSkeletonWidth:146,descriptionWrap:!1,title:null,titleSkeletonWidth:146,width:146}),(0,t.jsx)(n.EntityField,{description:null,descriptionSkeletonWidth:120,descriptionWrap:!1,title:null,titleSkeletonWidth:80,width:120}),(0,t.jsx)(n.EntityField,{title:null,description:null}),(0,t.jsx)(n.EntityField,{avatar:null,description:null,right:!0})]})}e.s(["DeploymentsSkeleton",0,function(){return(0,t.jsx)(g.NavigationMarker,{phase:"skeleton",label:"DeploymentsSkeleton",children:(0,t.jsx)("div",{className:"h-full bg-background-200",children:(0,t.jsxs)(u.default,{title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h1",{className:"text-[32px] leading-[40px] tracking-[-0.79px] font-medium",children:"Deployments"}),(0,t.jsx)(p.DeploymentsHeader,{isLoading:!0})]}),updatedStyles:!0,children:[(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2 @md-page:flex-row @md-page:flex-wrap @lg-page:flex-nowrap",children:[(0,t.jsx)("div",{className:"@md-page:w-[300px] @md-page:grow @lg-page:w-auto @lg-page:flex-1 [@media(min-width:700px)]:w-full",children:(0,t.jsx)(d.BranchSearchCombobox,{skeleton:!0})}),(0,t.jsx)("div",{className:"@md-page:w-[300px] @md-page:grow @lg-page:w-auto @lg-page:flex-1 [@media(min-width:700px)]:w-full",children:(0,t.jsx)(m.AuthorSearchCombobox,{skeleton:!0})}),(0,t.jsx)("div",{className:"@lg-page:flex-0 relative @md-page:flex-1 [&_button]:!w-full",children:(0,t.jsx)(h.FilterEnvironment,{onSelect:f,skeleton:!0})}),(0,t.jsx)(a.Calendar,{onChange:f,skeleton:!0,value:void 0}),(0,t.jsx)(x.default,{handleSelectStatusItem:f,position:"none",selectedStatusItems:{},skeleton:!0})]}),(0,t.jsx)(r.Spacer,{y:.5})]}),(0,t.jsx)(c.EntityGroup,{className:"border-none shadow-none @md-page:border @md-page:border-solid @md-page:border-gray-alpha-400",children:(0,t.jsxs)(o.default,{className:"gap-3 @md-page:gap-0",children:[(0,t.jsx)(b,{}),(0,t.jsx)(b,{}),(0,t.jsx)(b,{}),(0,t.jsx)(b,{}),(0,t.jsx)(b,{}),(0,t.jsx)(b,{}),(0,t.jsx)(b,{}),(0,t.jsx)(b,{}),(0,t.jsx)(b,{}),(0,t.jsx)(b,{}),(0,t.jsx)(b,{}),(0,t.jsx)(b,{}),(0,t.jsx)(b,{}),(0,t.jsx)(b,{}),(0,t.jsx)(b,{}),(0,t.jsx)(b,{}),(0,t.jsx)(b,{}),(0,t.jsx)(b,{}),(0,t.jsx)(b,{}),(0,t.jsx)(b,{})]})})]})})})}])}]);

//# debugId=453d867b-cd87-3dd2-cdd0-9b7c5d50d4c4
//# sourceMappingURL=f00473f927cd244b.js.map