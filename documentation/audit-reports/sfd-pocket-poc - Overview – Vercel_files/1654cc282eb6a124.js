;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="f7de4c89-c706-7ab3-1985-facfee54eb0f")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4006531,t=>{"use strict";var e=t.i(991605),i=t.i(4405391);t.s(["sizeFormatter",0,function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"short",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!(0,i.isNumber)(t))return"–";let n=(0,e.default)(t,{maximumFractionDigits:"short"===a?0:r,minimumFractionDigits:2!==r?r:void 0});return"short"===a&&n.length<5?(0,e.default)(t,{maximumFractionDigits:r}):n}])},7619856,t=>{"use strict";var e=Math.PI,i=2*e,a=i-1e-6;function r(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function n(){return new r}r.prototype=n.prototype={constructor:r,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,i,a){this._+="Q"+ +t+","+ +e+","+(this._x1=+i)+","+(this._y1=+a)},bezierCurveTo:function(t,e,i,a,r,n){this._+="C"+ +t+","+ +e+","+ +i+","+ +a+","+(this._x1=+r)+","+(this._y1=+n)},arcTo:function(t,i,a,r,n){t*=1,i*=1,a*=1,r*=1,n*=1;var l=this._x1,s=this._y1,o=a-t,c=r-i,u=l-t,d=s-i,f=u*u+d*d;if(n<0)throw Error("negative radius: "+n);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=i);else if(f>1e-6)if(Math.abs(d*o-c*u)>1e-6&&n){var h=a-l,x=r-s,p=o*o+c*c,m=Math.sqrt(p),g=Math.sqrt(f),v=n*Math.tan((e-Math.acos((p+f-(h*h+x*x))/(2*m*g)))/2),y=v/g,j=v/m;Math.abs(y-1)>1e-6&&(this._+="L"+(t+y*u)+","+(i+y*d)),this._+="A"+n+","+n+",0,0,"+ +(d*h>u*x)+","+(this._x1=t+j*o)+","+(this._y1=i+j*c)}else this._+="L"+(this._x1=t)+","+(this._y1=i)},arc:function(t,r,n,l,s,o){t*=1,r*=1,n*=1,o=!!o;var c=n*Math.cos(l),u=n*Math.sin(l),d=t+c,f=r+u,h=1^o,x=o?l-s:s-l;if(n<0)throw Error("negative radius: "+n);null===this._x1?this._+="M"+d+","+f:(Math.abs(this._x1-d)>1e-6||Math.abs(this._y1-f)>1e-6)&&(this._+="L"+d+","+f),n&&(x<0&&(x=x%i+i),x>a?this._+="A"+n+","+n+",0,1,"+h+","+(t-c)+","+(r-u)+"A"+n+","+n+",0,1,"+h+","+(this._x1=d)+","+(this._y1=f):x>1e-6&&(this._+="A"+n+","+n+",0,"+ +(x>=e)+","+h+","+(this._x1=t+n*Math.cos(s))+","+(this._y1=r+n*Math.sin(s))))},rect:function(t,e,i,a){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +i+"v"+ +a+"h"+-i+"Z"},toString:function(){return this._}},t.s(["path",0,n],7619856)},7828106,t=>{"use strict";t.s(["default",0,function(t){return function(){return t}}])},4354043,t=>{"use strict";t.s(["x",0,function(t){return t[0]},"y",0,function(t){return t[1]}])},969803,(t,e,i)=>{"use strict";function a(t,e,i){t instanceof RegExp&&(t=r(t,i)),e instanceof RegExp&&(e=r(e,i));var a=n(t,e,i);return a&&{start:a[0],end:a[1],pre:i.slice(0,a[0]),body:i.slice(a[0]+t.length,a[1]),post:i.slice(a[1]+e.length)}}function r(t,e){var i=e.match(t);return i?i[0]:null}function n(t,e,i){var a,r,n,l,s,o=i.indexOf(t),c=i.indexOf(e,o+1),u=o;if(o>=0&&c>0){if(t===e)return[o,c];for(a=[],n=i.length;u>=0&&!s;)u==o?(a.push(u),o=i.indexOf(t,u+1)):1==a.length?s=[a.pop(),c]:((r=a.pop())<n&&(n=r,l=c),c=i.indexOf(e,u+1)),u=o<c&&o>=0?o:c;a.length&&(s=[n,l])}return s}e.exports=a,a.range=n},1766947,t=>{"use strict";var e=t.i(8660982),i=t.i(8264458),a=["from","to","fill","className","innerRef"];function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t}).apply(this,arguments)}t.s(["Line",0,function(t){var n=t.from,l=void 0===n?{x:0,y:0}:n,s=t.to,o=void 0===s?{x:1,y:1}:s,c=t.fill,u=t.className,d=t.innerRef,f=function(t,e){if(null==t)return{};var i,a,r={},n=Object.keys(t);for(a=0;a<n.length;a++)i=n[a],e.indexOf(i)>=0||(r[i]=t[i]);return r}(t,a),h=l.x===o.x||l.y===o.y;return e.default.createElement("line",r({ref:d,className:(0,i.default)("visx-line",u),x1:l.x,y1:l.y,x2:o.x,y2:o.y,fill:void 0===c?"transparent":c,shapeRendering:h?"crispEdges":"auto"},f))}],1766947)},337747,t=>{"use strict";var e=t.i(7619856),i=t.i(7828106),a=t.i(7546294),r=t.i(5243678),n=t.i(4354043);t.s(["area",0,function(){var t=n.x,l=null,s=(0,i.default)(0),o=n.y,c=(0,i.default)(!0),u=null,d=a.default,f=null;function h(i){var a,r,n,h,x,p=i.length,m=!1,g=Array(p),v=Array(p);for(null==u&&(f=d(x=(0,e.path)())),a=0;a<=p;++a){if(!(a<p&&c(h=i[a],a,i))===m)if(m=!m)r=a,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),n=a-1;n>=r;--n)f.point(g[n],v[n]);f.lineEnd(),f.areaEnd()}m&&(g[a]=+t(h,a,i),v[a]=+s(h,a,i),f.point(l?+l(h,a,i):g[a],o?+o(h,a,i):v[a]))}if(x)return f=null,x+""||null}function x(){return(0,r.default)().defined(c).curve(d).context(u)}return h.x=function(e){return arguments.length?(t="function"==typeof e?e:(0,i.default)(+e),l=null,h):t},h.x0=function(e){return arguments.length?(t="function"==typeof e?e:(0,i.default)(+e),h):t},h.x1=function(t){return arguments.length?(l=null==t?null:"function"==typeof t?t:(0,i.default)(+t),h):l},h.y=function(t){return arguments.length?(s="function"==typeof t?t:(0,i.default)(+t),o=null,h):s},h.y0=function(t){return arguments.length?(s="function"==typeof t?t:(0,i.default)(+t),h):s},h.y1=function(t){return arguments.length?(o=null==t?null:"function"==typeof t?t:(0,i.default)(+t),h):o},h.lineX0=h.lineY0=function(){return x().x(t).y(s)},h.lineY1=function(){return x().x(t).y(o)},h.lineX1=function(){return x().x(l).y(s)},h.defined=function(t){return arguments.length?(c="function"==typeof t?t:(0,i.default)(!!t),h):c},h.curve=function(t){return arguments.length?(d=t,null!=u&&(f=d(u)),h):d},h.context=function(t){return arguments.length?(null==t?u=f=null:f=d(u=t),h):u},h}],337747)},7238010,t=>{"use strict";t.s(["default",0,function(t,e){t(e)}])},2890289,t=>{"use strict";var e=t.i(337747),i=t.i(6854195),a=t.i(7238010);t.s(["area",0,function(t){var i=void 0===t?{}:t,r=i.x,n=i.x0,l=i.x1,s=i.y,o=i.y0,c=i.y1,u=i.defined,d=i.curve,f=(0,e.area)();return r&&(0,a.default)(f.x,r),n&&(0,a.default)(f.x0,n),l&&(0,a.default)(f.x1,l),s&&(0,a.default)(f.y,s),o&&(0,a.default)(f.y0,o),c&&(0,a.default)(f.y1,c),u&&f.defined(u),d&&f.curve(d),f},"line",0,function(t){var e=void 0===t?{}:t,r=e.x,n=e.y,l=e.defined,s=e.curve,o=(0,i.line)();return r&&(0,a.default)(o.x,r),n&&(0,a.default)(o.y,n),l&&o.defined(l),s&&o.curve(s),o}])},4778584,t=>{"use strict";var e=t.i(8660982),i=t.i(8264458),a=t.i(2890289),r=["children","data","x","y","fill","className","curve","innerRef","defined"];function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t}).apply(this,arguments)}t.s(["LinePath",0,function(t){var l=t.children,s=t.data,o=t.x,c=t.y,u=t.fill,d=t.className,f=t.curve,h=t.innerRef,x=t.defined,p=function(t,e){if(null==t)return{};var i,a,r={},n=Object.keys(t);for(a=0;a<n.length;a++)i=n[a],e.indexOf(i)>=0||(r[i]=t[i]);return r}(t,r),m=(0,a.line)({x:o,y:c,defined:void 0===x?function(){return!0}:x,curve:f});return l?e.default.createElement(e.default.Fragment,null,l({path:m})):e.default.createElement("path",n({ref:h,className:(0,i.default)("visx-linepath",d),d:m(void 0===s?[]:s)||"",fill:void 0===u?"transparent":u,strokeLinecap:"round"},p))}],4778584)},6640218,t=>{"use strict";var e=t.i(8660982),i=t.i(8264458),a=["className","innerRef"];function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t}).apply(this,arguments)}t.s(["default",0,function(t){var n=t.className,l=t.innerRef,s=function(t,e){if(null==t)return{};var i,a,r={},n=Object.keys(t);for(a=0;a<n.length;a++)i=n[a],e.indexOf(i)>=0||(r[i]=t[i]);return r}(t,a);return e.default.createElement("rect",r({ref:l,className:(0,i.default)("visx-bar",n)},s))}])},7796852,4099691,2285167,4639679,t=>{"use strict";t.s(["getFirstItem",0,function(t){return null==t?void 0:t[0]},"getSecondItem",0,function(t){return null==t?void 0:t[1]}],7796852),t.s(["default",0,function(t){if("bandwidth"in t)return t.bandwidth();var e=t.range(),i=t.domain();return Math.abs(e[e.length-1]-e[0])/i.length}],4099691);var e=t.i(6469467),i=t.i(7448903),a=t.i(2004754),r=t.i(1219720),n=t.i(9824722),l={ascending:e.stackOrderAscending,descending:i.stackOrderDescending,insideout:a.stackOrderInsideOut,none:r.stackOrderNone,reverse:n.stackOrderReverse};Object.keys(l),t.s(["default",0,function(t){return t&&l[t]||l.none}],2285167);var s=t.i(1089043),o=t.i(1360520),c=t.i(3729955),u=t.i(9422769),d=t.i(5141407),f={expand:s.stackOffsetExpand,diverging:o.stackOffsetDiverging,none:c.stackOffsetNone,silhouette:u.stackOffsetSilhouette,wiggle:d.stackOffsetWiggle};Object.keys(f),t.s(["default",0,function(t){return t&&f[t]||f.none}],4639679)},4312512,t=>{"use strict";var e=t.i(8660982),i=t.i(8264458),a=t.i(1377254),r=t.i(9310550),n=t.i(7796852),l=t.i(4099691),s=t.i(7238010),o=t.i(2285167),c=t.i(4639679),u=t.i(6640218),d=["data","className","top","left","x","y0","y1","xScale","yScale","color","keys","value","order","offset","children"];function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t}).apply(this,arguments)}t.s(["BarStack",0,function(t){var h=t.data,x=t.className,p=t.top,m=t.left,g=t.x,v=t.y0,y=void 0===v?n.getFirstItem:v,j=t.y1,b=void 0===j?n.getSecondItem:j,_=t.xScale,k=t.yScale,M=t.color,O=t.keys,w=t.value,N=t.order,T=t.offset,S=t.children,C=function(t,e){if(null==t)return{};var i,a,r={},n=Object.keys(t);for(a=0;a<n.length;a++)i=n[a],e.indexOf(i)>=0||(r[i]=t[i]);return r}(t,d),L=(0,a.stack)();O&&L.keys(O),w&&(0,s.default)(L.value,w),N&&L.order((0,o.default)(N)),T&&L.offset((0,c.default)(T));var I=L(h),D=(0,l.default)(_),R=I.map(function(t,e){var i=t.key;return{index:e,key:i,bars:t.map(function(e,a){var r=(k(y(e))||0)-(k(b(e))||0),n=k(b(e)),l="bandwidth"in _?_(g(e.data)):Math.max((_(g(e.data))||0)-D/2);return{bar:e,key:i,index:a,height:r,width:D,x:l||0,y:n||0,color:M(t.key,a)}})}});return S?e.default.createElement(e.default.Fragment,null,S(R)):e.default.createElement(r.Group,{className:(0,i.default)("visx-bar-stack",x),top:p,left:m},R.map(function(t){return t.bars.map(function(i){return e.default.createElement(u.default,f({key:"bar-stack-"+t.index+"-"+i.index,x:i.x,y:i.y,height:i.height,width:i.width,fill:i.color},C))})}))}],4312512)},9249182,t=>{"use strict";var e=t.i(6640218);t.s(["Bar",()=>e.default])},3704339,t=>{"use strict";var e=t.i(8660982),i=["tooltipOpen"];function a(){return(a=Object.assign.bind()).apply(this,arguments)}t.s(["useTooltip",0,function(t){var r=(0,e.useState)(a({tooltipOpen:!1},t)),n=r[0],l=r[1],s=(0,e.useCallback)(function(t){return l("function"==typeof t?function(e){e.tooltipOpen;var r=function(t,e){if(null==t)return{};var i,a,r={},n=Object.keys(t);for(a=0;a<n.length;a++)i=n[a],e.indexOf(i)>=0||(r[i]=t[i]);return r}(e,i);return a({},t(r),{tooltipOpen:!0})}:{tooltipOpen:!0,tooltipLeft:t.tooltipLeft,tooltipTop:t.tooltipTop,tooltipData:t.tooltipData})},[l]),o=(0,e.useCallback)(function(){return l({tooltipOpen:!1,tooltipLeft:void 0,tooltipTop:void 0,tooltipData:void 0})},[l]);return{tooltipOpen:n.tooltipOpen,tooltipLeft:n.tooltipLeft,tooltipTop:n.tooltipTop,tooltipData:n.tooltipData,updateTooltip:l,showTooltip:s,hideTooltip:o}}],3704339)},3851902,t=>{"use strict";var e=t.i(1230902),i=t.i(9107401),a=t.i(9598279),r=t.i(1736425),n=t.i(4495794),l=t.i(4405391);t.s(["formatDate",0,(t,i)=>{let a=new Date(t);switch(i){case"hour":return(0,e.format)(a,"MMM d HH:mm");case"week":default:return(0,e.format)(a,"MMM d");case"month":return(0,e.format)(a,"MMM d, y")}},"formatFullDateWithRange",0,function(t,l,s,o){let c,u=new Date(t),d=!s||u>=s?u:s;switch(l){case"hour":return c=(0,i.addHours)(u,1),c=!o||c<=o?c:o,(0,e.format)(d,"MMM d HH:mm")+" – "+(0,e.format)(c,"MMM d HH:mm");case"week":c=(0,r.addWeeks)(u,1),c=!o||c<=o?c:o;break;case"month":c=(0,n.addMonths)(u,1),c=!o||c<=o?c:o;break;default:c=(0,a.addDays)(u,1),c=!o||c<=o?c:o}return c||=(0,a.addDays)(u,1),(0,e.format)(d,"MMM d, y HH:mm")+" – "+(0,e.format)(c,"MMM d, y HH:mm")},"formatPercentage",0,(t,e)=>{if(0===e||!(0,l.isNumber)(t))return"0%";let i=t/e*100;return i.toFixed(+(i%1!=0))+"%"}])},3467212,t=>{t.v({locked:"index-module__8QoHLa__locked",tooltip:"index-module__8QoHLa__tooltip"})},8719390,t=>{t.v({"auto-visibility":"chart-container-module__ANdnOW__auto-visibility",container:"chart-container-module__ANdnOW__container",figure:"chart-container-module__ANdnOW__figure"})},2892045,t=>{t.v({colorDot:"legend-module__1rStOa__colorDot",title:"legend-module__1rStOa__title"})},2593092,t=>{t.v({bar:"bar-chart-module__h5ayfW__bar","bar-overlay":"bar-chart-module__h5ayfW__bar-overlay",chartContent:"bar-chart-module__h5ayfW__chartContent",chartWrapper:"bar-chart-module__h5ayfW__chartWrapper"})},2815631,1091997,5225151,2800132,t=>{"use strict";var e=t.i(4205214),i=t.i(8660982),a=t.i(6881349),r=t.i(8161149),n=t.i(57106),l=t.i(5338940),s=t.i(7275883),o=t.i(6838069),c=t.i(850302),u=t.i(277234),d=t.i(4244280),f=t.i(5779481),h=t.i(9249182),x=t.i(1766947),p=t.i(4778584),m=t.i(8125826),g=t.i(1752298),v=t.i(8545185),y=t.i(5158601),j=t.i(8295952),b=t.i(3489437),_=t.i(2480776),k=t.i(157972);function M(t){let{data:e=[],width:a,range:r,keys:n,colors:l,granularity:s}=t,o=e.map(t=>{let{date:e}=t;return e}),{valueScale:c,tickXValues:u,tickYValues:d}=(0,i.useMemo)(()=>{let t=Math.round(o.length/(a<480?3:a<720||"hour"===s?4:8)),e=function(t){if(t<=0)return .1;for(let e of[.05,.1,.2,.3,.5,1,2,3,5,10,20,30,50,100,200,300,500,1e3,2e3,3e3,5e3,1e4,2e4,3e4,5e4,1e5])if(t<=e)return e;return Math.pow(10,Math.ceil(Math.log10(t)))}(r);return{valueScale:(0,b.scaleLinear)({domain:[0,e],range:[200,0],clamp:!0}),tickXValues:o.length<=3?o:o.filter((e,i)=>i%t==t>>1),tickYValues:0===e?[0]:[0,e/5,2*e/5,3*e/5,4*e/5,e]}},[o,s,r,a]);return{valueScale:c,colorScale:(0,i.useMemo)(()=>(0,_.scaleOrdinal)({domain:n,range:l}),[l,n]),tickYValues:d,tickXValues:u}}var O=t.i(3513482),w=t.i(3704339),N=t.i(2523660),T=t.i(3070041),S=t.i(3467212);let C=t=>{let{left:i,top:a,containerWidth:r,children:n}=t,l="-50%",s="0",o="0";if(void 0!==i){let{innerWidth:t}=window,e=i+(t<741?-150:0)+(t-r)/2,a=t-e-300;e<0&&(l=-e/3-50+"%",s=`calc(${e/3+50}% - 8px)`,o="unset"),a<0&&(l=a/3-50+"%",s="unset",o=`calc(${a/3+50}% - 8px)`)}let c=(0,T.useSpring)({left:i,top:a,transform:`translate3d(${l}, -100%, 0)`,config:{mass:.05,tension:400,friction:30}});return(0,e.jsx)(N.animated.div,{className:S.default.tooltip,style:{...c,"--arrow-left":s,"--arrow-right":o},children:n})};var L=t.i(3851902);function I(){let{tooltipOpen:t,tooltipLeft:e,tooltipTop:a,tooltipData:r,hideTooltip:n,showTooltip:l}=(0,w.useTooltip)(),s=(0,i.useRef)(null),o=(0,i.useCallback)(()=>{s.current=window.setTimeout(()=>{n()},200)},[n]);return{tooltipData:r,showTooltip:l,hideTooltip:o,cancelHideTooltip:(0,i.useCallback)(()=>{s.current&&(clearTimeout(s.current),s.current=null)},[]),usageTooltipProps:{isOpen:t,left:e,top:a,data:r,hide:o}}}let D=(0,i.memo)(function(t){let{isOpen:i,width:a,left:r,top:n,data:l,formatter:s}=t;if(!i||!l)return null;let{date:o,records:c}=l.data;return(0,e.jsx)(C,{containerWidth:a,left:r,top:n,children:(0,e.jsxs)("div",{className:"flex flex-col items-stretch justify-start flex-initial p-4",children:[Object.keys(c).map(t=>(0,e.jsxs)("p",{className:"text-[14px] leading-[20px] font-medium",children:[t," - ",s(c[t])]},t)),(0,e.jsx)("p",{className:"text-copy-14",children:(0,L.formatFullDateWithRange)(o)})]})})});var R=t.i(9310550),P=t.i(8861835),E=t.i(4573068),B=t.i(8587628),A=t.i(9722978),W=t.i(5255926);function $(){return(0,e.jsx)(W.Skeleton,{height:234,style:{marginTop:5},width:"100%"})}var H=t.i(8719390);function F(t){let{chartRef:a,chartScales:{dateScale:r,valueScale:n},children:l,formatter:s,loading:o,tickXValues:c,tickYValues:u,usageTooltip:{cancelHideTooltip:d,hideTooltip:f,usageTooltipProps:h},width:x}=t,p=(0,i.useRef)(null),m=(0,i.useRef)(null);return o?(0,e.jsx)($,{}):(0,e.jsxs)("figure",{className:H.default.figure,onMouseEnter:d,onMouseLeave:f,ref:a,style:{visibility:x?"visible":"hidden"},children:[(0,e.jsxs)("div",{className:(0,A.clsx)(H.default.container,H.default["auto-visibility"]),children:[(0,e.jsx)("svg",{height:227,width:m.current?m.current.getBBox().width:50,ref:m,children:(0,e.jsx)(E.AxisLeft,{hideAxisLine:!0,hideTicks:!0,left:8,scale:n,tickFormat:t=>s(t),tickLabelProps:()=>({fill:"var(--accents-5)",fontSize:14,textAnchor:"start"}),tickValues:u,top:5})}),(0,e.jsxs)("svg",{height:227,ref:p,width:"calc(100% - 50px)",children:[(0,e.jsx)(P.AxisBottom,{hideAxisLine:!0,hideTicks:!0,scale:r,tickFormat:t=>(0,L.formatDate)(t),tickLabelProps:()=>({fill:"var(--accents-5)",fontSize:14,textAnchor:"middle"}),tickValues:c,top:200}),(0,e.jsx)(B.GridRows,{scale:n,stroke:"var(--accents-2)",tickValues:u,width:p.current?p.current.clientWidth-20:400,left:20}),(0,e.jsx)(R.Group,{children:l})]})]}),(0,e.jsx)(D,{...h,formatter:s,width:x})]})}var U=t.i(2892045);function V(t){let{title:i,color:a,value:r,formatter:l,suffix:s,linkMapper:o}=t;return(0,e.jsxs)("div",{className:"flex flex-row items-stretch justify-between flex-initial",children:[(0,e.jsxs)("p",{className:`text-heading-14 ${U.default.title}`,title:i,children:[(0,e.jsx)("span",{className:U.default.colorDot,style:{background:a}}),o?(0,e.jsx)(n.Link,{href:o(i),children:i}):i]}),r?(0,e.jsx)("p",{className:"text-copy-14",title:i,children:`${s??""}: ${l(r)}`}):null]})}var z=t.i(2593092);function X(t){let a,{chartData:r=[],formatter:n,title:l,description:s,legendSuffix:o,linkMapper:c}=t,[u,{width:d}]=(0,g.default)(),{range:f,keys:j}=(0,i.useMemo)(()=>{let t=Object.keys(r[0].records),e=r.reduce((e,i)=>[...e,t.reduce((t,e)=>Math.max(t,Number(i.records[e]??0)),0)],[]);return{keys:t,range:Math.max(...e)}},[r]),{colorScale:b,dateScale:_,valueScale:w,tickYValues:N,tickXValues:T}=function(t){let{data:e=[],width:a}=t;return{dateScale:(0,i.useMemo)(()=>{let t=e.map(t=>{let{date:e}=t;return e});return(0,k.scalePoint)({domain:t,range:[0,a-36],padding:.3})},[e,a]),...M(t)}}({data:r,width:d,range:f,keys:j,colors:O.defaultMetricColors}),{usageTooltipProps:S,tooltipData:C,showTooltip:L,hideTooltip:D,cancelHideTooltip:R}=I(),P=(0,i.useMemo)(()=>{let t,e,i;return t=_.domain(),e=_(t[0])??0,i=_.step(),a=>Math.max(0,Math.min(Math.round((a-e)/i),t.length-1))},[_]),E=(0,i.useMemo)(()=>Object.fromEntries(j.map(t=>{let e=r.map(e=>e.records[t]).filter(t=>void 0!==t);return[t,e.at(-1)]})),[j,r]),B=(0,i.useCallback)(t=>{let e;R();let{x:i,y:a}=(0,v.localPoint)(t)||{x:0,y:0},n=P(i),l=r[n],s=Object.values(l.records).filter(t=>"number"==typeof t).sort((t,e)=>t-e);if(!s.length)return;let o=w.invert(a),c=(e=s.length-1,(0,m.bisector)(t=>t).left(s,o,0,e));if(C&&n===C.index&&c===C.yIndex)return;let u=(w(s[c])||0)-22,d=(_(l.date)||0)+50;L({tooltipData:{data:l,index:n,yIndex:c},tooltipLeft:d,tooltipTop:u})},[R,r,_,P,L,C,w]);return void 0!==S.left&&(a=P(S.left-50)),(0,e.jsxs)("div",{className:(0,A.default)("flex flex-col items-stretch justify-start flex-initial",z.default.chartWrapper),children:[(0,e.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-1 flex-initial p-6",children:[(0,e.jsx)("p",{className:"text-heading-16 capitalize",children:l}),(0,e.jsx)("p",{className:"text-copy-14",children:s})]}),(0,e.jsx)("div",{className:(0,A.default)("flex flex-col items-stretch justify-start flex-initial p-6",z.default.chartContent),children:(0,e.jsxs)(F,{chartRef:u,chartScales:{dateScale:_,valueScale:w},formatter:n,loading:!1,tickXValues:T,tickYValues:N,usageTooltip:{cancelHideTooltip:R,hideTooltip:D,usageTooltipProps:S},width:d,children:[void 0!==S.left&&(0,e.jsx)(x.Line,{from:{x:S.left-50,y:0},pointerEvents:"none",stroke:"var(--accents-2)",strokeWidth:1,to:{x:S.left-50,y:200}}),j.map(t=>{let i=b(t),n=r.map(e=>({date:e.date,value:e.records[t]})),l="number"==typeof a?n[a]?.value:void 0,s=void 0!==l?w(l):void 0;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(p.LinePath,{curve:y.curveLinear,data:r,stroke:i,strokeWidth:2,x:t=>{let{date:e}=t;return _(e)??0},y:e=>w(e.records[t]??0)}),void 0!==S.left&&void 0!==s&&(0,e.jsx)("circle",{cx:S.left-50,cy:s,fill:i,pointerEvents:"none",r:4,stroke:"white",strokeWidth:2}),(0,e.jsx)(h.Bar,{fill:"transparent",height:200,onMouseMove:B,onTouchMove:B,rx:0,width:d,x:0,y:0})]})})]})}),(0,e.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial p-6",children:j.map(t=>(0,e.jsx)(V,{color:b(t),formatter:n,linkMapper:c,suffix:o,title:t,value:E[t]},t))})]})}t.s(["MarketplaceLineChart",0,X],1091997);var Y=t.i(4312512);function G(t){let{chartData:a=[],formatter:r,title:n,description:l,legendSuffix:s,linkMapper:o}=t,[c,{width:u}]=(0,g.default)(),{range:d,keys:f}=(0,i.useMemo)(()=>{let t=Object.keys(a[0].records),e=a.reduce((e,i)=>[...e,t.reduce((t,e)=>t+i.records[e]?Number(i.records[e]):0,0)],[]);return{keys:t,range:Math.max(...e)}},[a]),{valueScale:h,dateScale:x,tickYValues:p,tickXValues:m,colorScale:y}=function(t){let{data:e=[],width:a}=t;return{dateScale:(0,i.useMemo)(()=>{let t=e.map(t=>{let{date:e}=t;return e});return(0,j.scaleBand)({domain:t,range:[0,a-36],padding:.4375,paddingOuter:.3})},[e,a]),...M(t)}}({data:a,width:u,range:d,keys:f,colors:O.defaultMetricColors}),{usageTooltipProps:b,tooltipData:_,showTooltip:k,hideTooltip:w,cancelHideTooltip:N}=I();return(0,e.jsxs)("div",{className:(0,A.default)("flex flex-col items-stretch justify-start flex-initial",z.default.chartWrapper),children:[(0,e.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-1 flex-initial p-6",children:[(0,e.jsx)("p",{className:"text-heading-16 capitalize",children:n}),(0,e.jsx)("p",{className:"text-copy-14",children:l})]}),(0,e.jsx)("div",{className:(0,A.default)("flex flex-col items-stretch justify-start flex-initial p-6",z.default.chartContent),children:(0,e.jsx)(F,{chartRef:c,chartScales:{dateScale:x,valueScale:h},formatter:r,tickXValues:m,tickYValues:p,usageTooltip:{cancelHideTooltip:N,hideTooltip:w,usageTooltipProps:b},width:u,children:(0,e.jsx)(Y.BarStack,{color:y,data:a,keys:f,value:(t,e)=>t.records[e]??0,x:t=>{let{date:e}=t;return e},xScale:x,yScale:h,children:t=>[t[t.length-1]?.bars.map(i=>(0,e.jsx)("rect",{className:z.default["bar-overlay"],height:h(0),onMouseMove:()=>{if(!_||i.index!==_.index){let t=Math.round((h(i.bar[1])||0)-22),e=Math.round(i.x+50+i.width/2);k({tooltipData:{data:i.bar.data,index:i.index,yIndex:0},tooltipTop:t,tooltipLeft:e})}},onTouchMove:e=>{N();let{x:a}=(0,v.localPoint)(e)||{x:0},r=~~(a/(i.width/.5625)),n=t[t.length-1].bars[r];if(n&&(!_||n.index!==_.index)){let t=Math.round((h(n.bar[1])||0)-22),e=Math.round(n.x+50+n.width/2);k({tooltipData:{data:n.bar.data,index:r,yIndex:0},tooltipTop:t,tooltipLeft:e})}},width:i.width/.5625,x:i.x-.4375*i.width*.5/.5625,y:0},`bar-stack-${i.index}-overlay`)),...t.map(t=>t.bars.map(i=>(0,e.jsx)("rect",{className:z.default.bar,fill:i.color,height:i.height,width:i.width,x:i.x,y:i.y},`bar-stack-${t.index}-${i.index}`)))]})})}),(0,e.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial p-6",children:f.map(t=>(0,e.jsx)(V,{color:O.defaultMetricColors[f.indexOf(t)],formatter:r,linkMapper:o,suffix:s,title:t,value:a.reduce((e,i)=>e+i.records[t],0)},t))})]})}function q(t){return(0,e.jsxs)("div",{className:(0,A.default)("flex flex-col items-stretch justify-start flex-initial",z.default.chartWrapper),children:[(0,e.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-1 flex-initial p-6",children:[t.title?(0,e.jsx)("p",{className:"text-heading-16 capitalize",children:t.title}):(0,e.jsx)(W.Skeleton,{boxHeight:24,height:24,width:120}),t.description?(0,e.jsx)("p",{className:"text-copy-14",children:t.description}):(0,e.jsx)(W.Skeleton,{boxHeight:20,height:20,width:220})]}),(0,e.jsx)("div",{className:(0,A.default)("flex flex-col items-stretch justify-start flex-initial p-6",z.default.chartContent),children:(0,e.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial pt-6 pb-3",children:(0,e.jsx)(W.Skeleton,{height:227,width:"calc(100% - 50px)"})})}),(0,e.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial p-6",children:[...Array(t.dimensions).keys()].map(t=>(0,e.jsx)(W.Skeleton,{boxHeight:20,height:16,width:180},t))})]})}t.s(["MarketplaceBarChart",0,G,"MarketplaceChartPlaceholder",0,q],5225151);var Q=t.i(266062),K=t.i(5074599);t.i(3092247);var Z=t.i(397510);t.s(["ResourceUsageCharts",0,function(t){var h;let{resourceId:x}=t,{data:p}=(0,f.useResourceItem)({resourceId:x}),m=p?.store,g=!m||m.product.integration.supportsInstallationBillingPlans,{team:v}=(0,l.useTeam)(),[y,j]=(0,i.useState)("week"),{data:b}=(h=m&&v?{integrationConfigurationId:m.product.integrationConfigurationId,resourceId:m.id,teamId:v.id,period:y}:null,(0,c.default)(()=>{if(!h)return null;let{integrationConfigurationId:t,resourceId:e,teamId:i,period:a}=h,r=new URLSearchParams;return r.append("teamId",i),r.append("period",a),`${d.API_INTEGRATION_CONTROLLER}/installations/${t}/resources/${e}/billing/data/series?${r.toString()}`},u.fetchAPI)),_=(0,i.useMemo)(()=>{if(!m||!b)return;let t=b.credit?.balanceTotalCent.length?b.credit.balanceTotalCent.map(t=>({records:{[m.name]:t.value/100},date:new Date(t.timestamp).getTime()})):void 0,e=b.spending?.totalCent.length?b.spending.totalCent.map(t=>({records:{[m.name]:t.value/100},date:new Date(t.timestamp).getTime()})):void 0,i=b.usage?b.usage.byMetrics.map(t=>({metric:t,data:t.usageItems.map(t=>({records:{[m.name]:t.value},date:new Date(t.timestamp).getTime()}))})):void 0;return{noData:!t&&!e&&!i,prepayment:t,subscription:e,usageByMetric:i}},[m,b]);return m&&_?_.noData?g?(0,e.jsx)(r.EmptyState.Root,{description:(0,e.jsxs)(e.Fragment,{children:["Usage tracking is available at the organization level."," ",(0,e.jsxs)(n.Link,{variant:"primary",href:v?(0,o.getInstallationDetailsLink)({teamSlug:v.slug,configurationId:m.product.integrationConfigurationId,integrationSlug:m.product.integration.slug,isMarketplace:!0,path:"usage"}):"",children:["See"," ",(0,K.getInstallationTitleBySlug)({slug:m.product.integration.slug})]})]}),icon:(0,e.jsx)(r.EmptyState.Icon,{icon:(0,e.jsx)(s.ChartBarPeak,{size:32})})}):(0,e.jsx)(r.EmptyState.Root,{description:"edgedb"===m.product.integration.slug?"There are no data available yet for this period.":"Usage tracking is not yet available for this service.",icon:(0,e.jsx)(r.EmptyState.Icon,{icon:(0,e.jsx)(s.ChartBarPeak,{size:32})}),title:"No data available",children:(0,e.jsx)(Z.OpenInPartnerDashboardButton,{componentType:"button",buttonVariant:"secondary",integrationConfigurationId:m.product.integrationConfigurationId,label:`See usage in ${m.product.integration.name}`,teamIdOrSlug:v?.id,path:"usage"})}):(0,e.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-5 flex-initial",children:[(0,e.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 flex-initial",children:[(0,e.jsx)("p",{className:"text-heading-20",children:"Usage Report"}),(0,e.jsxs)(a.Combobox,{clearable:!1,noInputPrefix:!0,onChange:t=>{t&&j(t)},value:y,width:140,children:[(0,e.jsx)(a.Combobox.Input,{}),(0,e.jsxs)(a.Combobox.List,{children:[(0,e.jsx)(a.Combobox.Option,{value:"week",children:"Last 7 days"}),(0,e.jsx)(a.Combobox.Option,{value:"month",children:"Last month"}),(0,e.jsx)(a.Combobox.Option,{value:"year",children:"Last year"})]})]})]}),m.product.integration.supportsInstallationBillingPlans?null:(0,e.jsxs)(e.Fragment,{children:[_.prepayment?(0,e.jsx)(X,{chartData:_.prepayment,description:"This chart shows the balance over time.",formatter:o.formatMarketplaceBillingTotal,legendSuffix:"Balance",title:"Balance"}):null,_.subscription?(0,e.jsx)(X,{chartData:_.subscription,description:"This chart shows the cost over time.",formatter:o.formatMarketplaceBillingTotal,legendSuffix:"Total Cost",title:"Total Cost"}):null]}),_.usageByMetric?.map(t=>"total"===t.metric.type?(0,e.jsx)(X,{chartData:t.data,description:`This chart shows the ${t.metric.name} over time.`,formatter:(0,Q.formatUsageValueByUnit)(t.metric.units),legendSuffix:`Total ${t.metric.name}`,title:t.metric.name},t.metric.name):(0,e.jsx)(G,{chartData:t.data,description:`This chart shows the ${t.metric.name} over time.`,formatter:(0,Q.formatUsageValueByUnit)(t.metric.units),legendSuffix:`Total ${t.metric.name}`,title:t.metric.name},t.metric.name))]}):(0,e.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-5 flex-initial",children:[(0,e.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 flex-initial",children:[(0,e.jsx)("p",{className:"text-heading-20",children:"Usage Report"}),(0,e.jsxs)(a.Combobox,{clearable:!1,noInputPrefix:!0,value:"week",width:140,children:[(0,e.jsx)(a.Combobox.Input,{}),(0,e.jsx)(a.Combobox.List,{children:(0,e.jsx)(a.Combobox.Option,{value:"week",children:"Last 7 days"})})]})]}),g?null:(0,e.jsx)(q,{dimensions:1})]})}],2800132),t.i(7752924),t.s([],2815631)}]);

//# debugId=f7de4c89-c706-7ab3-1985-facfee54eb0f
//# sourceMappingURL=29a4ef8e94092e1f.js.map