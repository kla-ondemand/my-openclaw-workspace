;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="3ee7e405-7e83-3560-a515-2bb2cc1b1986")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7660824,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),l=e.i(4576476),a=e.i(2978814),n=e.i(4260542);e.s(["MotionConfig",0,function(e){let{children:i,isValidProp:s,...o}=e;s&&(0,a.loadExternalIsValidProp)(s),(o={...(0,r.useContext)(l.MotionConfigContext),...o}).isStatic=(0,n.useConstant)(()=>o.isStatic);let u=(0,r.useMemo)(()=>o,[JSON.stringify(o.transition),o.transformPagePoint,o.reducedMotion]);return(0,t.jsx)(l.MotionConfigContext.Provider,{value:u,children:i})}])},6850581,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),l=e.i(1344973),a=e.i(5797774);function n(e){let{date:r}=e,a=c(r);return(0,t.jsx)(l.Text,{as:"span",color:"gray-900",variant:"label-14",children:a})}function i(e){let{date:r}=e,l=Intl.DateTimeFormat().resolvedOptions().timeZone,a=u(r);return(0,t.jsxs)("div",{className:"flex flex-col gap-3 min-w-[300px] ",children:[(0,t.jsx)("div",{className:"flex flex-col gap-3",children:(0,t.jsx)("span",{className:"tabular-nums text-label-13 text-gray-900",children:a})}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(s,{date:r,zone:"UTC"}),(0,t.jsx)(s,{date:r,zone:l})]})]})}function s(e){let{date:r,zone:l}=e,a=new Date(r),n=new Intl.DateTimeFormat("en-US",{timeZone:l,timeZoneName:"short"}).formatToParts(a).find(e=>"timeZoneName"===e.type)?.value||l,i=a.toLocaleString("en-US",{timeZone:l,year:"numeric",month:"long",day:"numeric"}),s=a.toLocaleTimeString("en-US",{timeZone:l,hour:"2-digit",minute:"2-digit",second:"2-digit"});return(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:"flex items-center justify-center h-4 px-1.5 bg-gray-200 rounded-xs",children:(0,t.jsx)("span",{className:"text-label-12-mono text-gray-900",children:n})}),(0,t.jsx)("span",{className:"text-label-13",children:i})]}),(0,t.jsx)("span",{className:"tabular-nums text-label-12-mono text-gray-900",children:s})]})}let o=[{unit:"year",ms:31536e6},{unit:"month",ms:2628e6},{unit:"day",ms:864e5},{unit:"hour",ms:36e5},{unit:"minute",ms:6e4},{unit:"second",ms:1e3}];function u(e){let[t,l]=(0,r.useState)("");return(0,r.useEffect)(()=>{let t=()=>{let t=function(e){let t=Math.abs(e),r=[];for(let{unit:e,ms:l}of o){let a=Math.floor(t/l);if((a>0||r.length>0)&&(r.push(`${a} ${e}${1!==a?"s":""}`),t%=l),3===r.length)break}return r.join(", ")}(new Date().getTime()-e);l(t?`${t} ago`:"Just now")};t();let r=setInterval(t,1e3);return()=>clearInterval(r)},[e]),t}function c(e){let[t,l]=(0,r.useState)("");return(0,r.useEffect)(()=>{if(!e)return void l("");let t=()=>{let t=new Date().getTime()-e,r=Math.floor(t/864e5),a=Math.floor(t/36e5),n=Math.floor(t/6e4);r>0?l(`${r} day${r>1?"s":""} ago`):a>0?l(`${a} hour${a>1?"s":""} ago`):n>0?l(`${n} minute${n>1?"s":""} ago`):l("Just now")};t();let r=setInterval(t,6e4);return()=>clearInterval(r)},[e]),t}e.s(["RelativeTimeCard",0,function(e){let{date:r,children:l,...s}=e,o=void 0===l?(0,t.jsx)(n,{date:r}):l;return r?(0,t.jsx)(a.ContextCard.Trigger,{content:(0,t.jsx)(i,{date:r}),...s,children:o}):o},"useShortTimeAgo",0,c,"useTimeAgo",0,u])},7712782,e=>{"use strict";var t=e.i(7432042);let r="Just now",l=" ago",a=(0,t.default)("1s"),n=(0,t.default)("1m"),i=(0,t.default)("1h"),s=(0,t.default)("1y"),o=(0,t.default)("1y")/12,u=(0,t.default)("1w"),c=(0,t.default)("1d"),d=new Intl.DateTimeFormat("en",{day:"numeric",month:"short"}),m=new Intl.DateTimeFormat("en",{dateStyle:"short"});e.s(["AGO_JUST_NOW_LABEL_DEFAULT",0,r,"AGO_JUST_NOW_THRESHOLD_DEFAULT",0,44e3,"AGO_SUFFIX_DEFAULT",0,l,"DAYS_LEFT_SUFFIX_DEFAULT",0," days left","ago",0,function(e){let{long:p,suffix:f=l,justNowThreshold:h=44e3,justNowLabel:g=r,includeSeconds:y,formatYearsWeeksMonths:x,alwaysRelative:b=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"";let v=Math.max(e,1e3);if(v<h)return g;if(y){let e=Math.round(v/a)*a,r=e%n,l=e-r,s=r>0&&r<n&&l<i?(0,t.default)(r):"",o=l>0?(0,t.default)(l):"";return`${o}${s&&o?" ":""}${s}${f}`}if(!b){if(v<3*c)return`${(0,t.default)(v)}${f}`;let r=new Date,l=new Date(r.valueOf()-e);return(l.getFullYear()===r.getFullYear()?d:m).format(l)}if(x){let e=Math.floor(v/s);if(e>0)return`${e}y${f}`;let t=Math.floor(v/o);if(t>0)return`${t}mo${f}`;let r=Math.floor(v/u);if(r>0)return`${r}w${f}`}return`${(0,t.default)(v,{long:p})}${f}`}])},6985651,e=>{e.v({icon:"icon-module__yqmEeW__icon",wrapper:"icon-module__yqmEeW__wrapper"})},76079,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),l=e.i(6677848),a=e.i(4585051),n=e.i(6985651);let i=e=>{let{icon:r,left:i,right:s,size:o,bottom:u=-5,iconTitle:c,style:d,iconBackground:m,gitType:p,...f}=e;return void 0===s&&void 0===i&&(i=-3),(0,t.jsxs)("div",{className:n.default.wrapper,style:{...d,"--size":(0,l.px)(o)},children:[(0,t.jsx)(a.Avatar,{size:o,...f}),r?(0,t.jsx)("div",{"aria-hidden":!0,className:n.default.icon,"data-background":m?"true":"false","data-git-type":p,style:{left:i,bottom:u,right:s},title:c,children:r}):null]})};i.displayName="AvatarWithIcon";let s=(0,r.memo)(i);e.s(["AvatarWithIcon",0,s])},9358876,e=>{"use strict";e.s(["pluralize",0,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=1!==t?`${e}s`:e;return r&&(l=`${t} ${l}`),l}])},2988836,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)(`<path d="M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8Z" fill="currentColor" fill-opacity="0.08"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8 6C8.55228 6 9 5.55228 9 5C9 4.44772 8.55228 4 8 4C7.44771 4 7 4.44772 7 5C7 5.55228 7.44771 6 8 6ZM7 7H6.25V8.5H7H7.24999V10.5V11.25H8.74999V10.5V8C8.74999 7.44772 8.30227 7 7.74999 7H7Z" fill="currentColor"/>`);e.s(["InformationFillSmall",0,t])},7849855,9871375,e=>{"use strict";var t=e.i(9668517),r=e.i(5677444),l=e.i(8660982);let a={status:"creating-repo",cloneRepoStatus:"not-started",projectId:null,projectName:"",clonedRepo:{id:null,slug:null},repo:{namespace:"",name:"",namespaceId:"",ownerType:"",gitType:""},deploymentId:null,deploymentReset:!1,flowId:null,microfrontendsGroupId:null,isMonorepo:!1,projects:[]},n=l.createContext({...a,dispatch:()=>void 0});n.displayName="ProjectCloneContext";let i=()=>l.useContext(n);function s(e,t){switch(t.type){case"SET_STATUS":return{...e,status:t.status};case"SET_CLONE_REPO_STATUS":return{...e,cloneRepoStatus:t.cloneRepoStatus};case"SET_TARGET_NAMESPACE":return{...e,repo:{...e.repo,namespace:t.namespace,namespaceId:t.namespaceId,ownerType:t.ownerType}};case"SET_TARGET_REPO":return{...e,repo:{...e.repo,name:t.name}};case"SET_GIT_TYPE":return{...e,repo:{...e.repo,gitType:t.gitType}};case"SET_PROJECT_ID":return{...e,projectId:t.projectId};case"SET_PROJECT_NAME":return{...e,projectName:t.projectName};case"SET_CLONED_REPO":return{...e,clonedRepo:{id:t.data.id,slug:t.data.slug}};case"SET_DEPLOYMENT_ID":return{...e,deploymentId:t.deploymentId};case"RESET":return a;case"SET_DEPLOYMENT_RESET":return{...e,deploymentReset:t.deploymentReset};case"SET_FLOW_ID_ONCE":return{...e,flowId:e.flowId||t.flowId};case"SET_MICROFRONTENDS_GROUP_ID":return{...e,microfrontendsGroupId:t.microfrontendsGroupId};case"SET_MONOREPO_MODE":return{...e,isMonorepo:t.isMonorepo};case"SET_PROJECTS":return{...e,projects:t.projects.map(e=>({directory:e.rootDirectory,name:e.projectName,id:null,deploymentId:null,status:"pending"}))};case"UPDATE_PROJECT_STATUS":return{...e,projects:e.projects.map(e=>e.name===t.projectName?{...e,id:t.projectId,framework:t.framework,status:t.status,error:t.error}:e)};case"UPDATE_PROJECT_DEPLOYMENT_ID":return{...e,projects:e.projects.map(e=>e.name===t.projectName?{...e,deploymentId:t.deploymentId}:e)};default:return e}}e.s(["ProjectCloneContext",0,n,"useProjectCloneContext",0,i,"useProjectCloneReducer",0,function(){return l.useReducer(s,a)}],9871375),e.s(["useProjectAndTeamSlug",0,function(){let e=(0,r.useParams)(),l=(0,t.useTeamSlug)();return{projectSlug:e?.project??null,hasProject:!!e?.project,teamSlug:l??null}},"useProjectSlug",0,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.useParams)(),l=i();if(l.projectName&&l.projectId)return{projectSlug:l.projectName,hasProject:!0};let a=t?.project??e.projectSlug;return{projectSlug:a??null,hasProject:!!a}}],7849855)},3410109,e=>{"use strict";var t=e.i(8660982),r=e.i(7849855);e.s(["useProjectScopedResourceConnection",0,function(e){let{store:l}=e,{projectSlug:a}=(0,r.useProjectSlug)(),[n,i]=(0,t.useState)(()=>{if(l?.projectsMetadata&&l.projectsMetadata.length>0){let e=0;if(a){let t=l.projectsMetadata.findIndex(e=>e.name===a);-1!==t&&(e=t)}return l.projectsMetadata[e]}});return(0,t.useEffect)(()=>{if(l?.projectsMetadata&&l.projectsMetadata.length>0){let e=0;if(a){let t=l.projectsMetadata.findIndex(e=>e.name===a);-1!==t&&(e=t)}(0,t.startTransition)(()=>{i(l.projectsMetadata[e])})}},[l?.projectsMetadata,a]),{connection:n,setConnection:i,isConnectionProcessed:!0}}])},3182268,e=>{"use strict";e.i(7849855),e.i(3410109),e.s([])},5576066,e=>{"use strict";var t=e.i(4205214),r=e.i(57106);e.s(["Link",0,function(e){let{as:l,children:a,href:n,locale:i,prefetch:s,replace:o,scroll:u,shallow:c,...d}=e;return(0,t.jsx)(r.Link,{as:l,href:n,locale:i,prefetch:s,replace:o,scroll:u,shallow:c,...d,children:a})}])},9623499,e=>{"use strict";e.i(5576066),e.s([])},931197,e=>{"use strict";var t,r,l,a,n,i=((t={}).Production="production",t.Preview="preview",t),s=((r={}).Hour="1h",r.Day="1d",r.Week="1w",r.Month="1m",r),o=((l={}).Desktop="desktop",l.Mobile="mobile",l),u=((a={}).RES="RES",a.FID="FID",a.CLS="CLS",a.TTFB="TTFB",a.LCP="LCP",a.FCP="FCP",a.INP="INP",a),c=((n={}).Good="good",n.Improvable="improvable",n.Poor="poor",n);e.s(["DeviceType",()=>o,"Environment",()=>i,"Granularity",()=>s,"MetricType",()=>u,"Rating",()=>c])},9788962,e=>{"use strict";e.s(["default",0,function(e){return{all:e=e||new Map,on:function(t,r){var l=e.get(t);l?l.push(r):e.set(t,[r])},off:function(t,r){var l=e.get(t);l&&(r?l.splice(l.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var l=e.get(t);l&&l.slice().map(function(e){e(r)}),(l=e.get("*"))&&l.slice().map(function(e){e(t,r)})}}}])},3748432,e=>{"use strict";e.i(2144405);var t=e.i(4205214),r=e.i(8660982),l=e.i(5677444),a=e.i(8612999),n=e.i(5773208);let i={hard:{skeleton:"primary-light",content:"primary-dark"},soft:{skeleton:"secondary-light",content:"secondary-dark"}};function s(e,t){let r=e?"hard":"soft";return{track:"Navigation Phases â–²",color:i[r][t.phase],properties:[["Navigation Type",r]].concat(Object.entries(t).map(e=>{let[t,r]=e;return[t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),String(r)]}))}}function o(e,t,r){let l=JSON.stringify(e,t,r);return"string"==typeof l?l.replace(/</g,"\\u003c"):l}function u(e){let{children:l,...a}=e;return(0,t.jsxs)(t.Fragment,{children:[l,(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("span",{"data-navigation-marker":`${a.phase}-${a.label}`,style:{width:"1px",height:"1px",opacity:0,position:"absolute"}}),children:(0,t.jsx)(c,{...a})})]})}function c(e){let i,u,{phase:c,label:m,routeOverride:p}=e,f=(i=(0,l.usePathname)(),u=(0,l.useParams)(),(0,r.useMemo)(()=>{if(!u)return(0,a.computeRoute)(i,{});let{catchAll:e,...t}=u;return(0,a.computeRoute)(i,t)},[i,u])),h=p??f??"unknown",g=(0,r.useRef)(!1);(0,r.useEffect)(()=>{if(!g.current&&(g.current=!0,!d(c,"interactive",m)))return requestAnimationFrame(()=>{requestAnimationFrame(()=>{var e=c,t=h,r=m;let l=performance.now(),a={phase:e,route:t,target_env:"production",label:r,state:"interactive"};try{performance.measure(`${e} interactive`,{start:n.routerState.lastRouterTransition.startMsSinceOrigin,end:l,detail:{vercelNavigation:{isHardNavigation:n.routerState.isHardNavigation,attrs:a},devtools:s(n.routerState.isHardNavigation,a)}})}catch{}})}),()=>{"skeleton"===c||d(c,"unmounted",m)||0===n.routerState.lastRouterTransition.startMsSinceOrigin||requestAnimationFrame(()=>{let e={phase:c,route:h,label:m,target_env:"production",state:"unmounted"};performance.measure(`${c} unmount`,{start:n.routerState.lastRouterTransition.startMsSinceOrigin,end:performance.now(),detail:{vercelNavigation:{isHardNavigation:!1,attrs:e},devtools:s(n.routerState.isHardNavigation,e)}})})}},[c,h,m]);let y={phase:c,label:m,route:h,target_env:"production",state:"visible"},x=o(`${c} visible`),b=o(m),v=JSON.stringify(o(y)),j=JSON.stringify(o(s(!0,y))),S=`
  requestAnimationFrame(() => {
    globalThis.__VERCEL_NAVIGATION_METRICS_RECORDED_MEASURES = globalThis.__VERCEL_NAVIGATION_METRICS_RECORDED_MEASURES || new Map();
    if (globalThis.__VERCEL_NAVIGATION_METRICS_RECORDED_MEASURES.has(${x})) {
      
      return;
    }
    globalThis.__VERCEL_NAVIGATION_METRICS_RECORDED_MEASURES.set(${x}, ${b});

    try {
      performance.measure(${x}, {
        end: performance.now(),
        detail: {
          vercelNavigation: {
            isHardNavigation: true,
            attrs: JSON.parse(${v}),
          },
          devtools: JSON.parse(${j})
        }
      });
    } catch {}
  });
`;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("script",{dangerouslySetInnerHTML:{__html:S}})})}function d(e,t,r){let l=(0,n.getRecordedMeasures)();return!!l.has(`${e} ${t}`)||(l.set(`${e} ${t}`,r||"unknown"),!1)}e.s(["ConditionalNavigationMarker",0,function(e){let{children:r,enabled:l,phase:a,label:n,routeOverride:i}=e;return(0,t.jsxs)(t.Fragment,{children:[r,l&&(0,t.jsx)(u,{phase:a,label:n,routeOverride:i})]})},"NavigationMarker",0,u],3748432)},8587921,7873387,e=>{"use strict";var t=e.i(8660982),r=e.i(850302),l=e.i(7222834),a=e.i(8042625),n=e.i(277234),i=e.i(4244280),s=e.i(9668517),o=e.i(5338940),u=e.i(1717203),c=e.i(7557283);let d=e=>(r,l,a)=>{let n=(0,t.useRef)(void 0),i=e(r,l,a);(0,t.useEffect)(()=>{void 0!==i.data&&(n.current=i.data)},[i.data]);let s=(0,t.useCallback)(()=>{n.current=void 0},[]);return{...i,data:void 0===i.data?n.current:i.data,isLagging:void 0===i.data&&void 0!==n.current,resetLaggy:s}};e.s(["default",0,d],7873387),e.s(["MEMBERS_LIMIT",0,20,"default",0,function(){let{sort:e="date_desc",limit:t=20,filterByUserIds:l,until:s,role:d,includeEntitlements:m,includePermissionRequests:p}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:h,team:g}=(0,o.useTeam)(),{isLoading:y,can:x}=(0,u.default)(),b=!y&&x(c.Action.List,c.Resource.TeamFellowMembership);return(0,r.default)(()=>h&&g&&b?`${i.API_TEAMS_MEMBERS_V3}/${g.id}/members${(0,a.encode)({sort:e,until:s,limit:t,role:d,filterByUserIds:l,includeEntitlements:m,includePermissionRequests:p})}`:null,e=>(0,n.fetchAPI)(e,{throwOnHTTPError:!0}),f)},"useMembersForTeam",0,function(e){let{limit:t=20,until:l,role:s,sort:o="date_desc"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,r.default)(()=>e?`${i.API_TEAMS_MEMBERS_V3}/${e.id}/members${(0,a.encode)({until:l,limit:t,role:s,sort:o})}`:null,e=>(0,n.fetchAPI)(e,{throwOnHTTPError:!0}),u)},"useMembersInfinite",0,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{search:m,limit:p,role:f,eligibleMembersForProjectId:h,sort:g="date_desc",filterByUserIds:y,includeEntitlements:x,mfaStateFilter:b,includePermissionRequests:v}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},j=arguments.length>2&&void 0!==arguments[2]&&arguments[2],S=arguments.length>3&&void 0!==arguments[3]&&arguments[3],{isReady:w,team:T}=(0,o.useTeam)(),{isLoading:_,can:M}=(0,u.default)(),N=!_&&M(c.Action.List,c.Resource.TeamFellowMembership),C=(0,s.useTeamSlug)(),E=p||20,k=(0,l.default)((e,t)=>{if(!w||!T||!N)return null;if(0===e)return`${i.API_TEAMS_MEMBERS_V3}/${T.id}/members${(0,a.encode)({sort:g,limit:E,search:m,role:f,eligibleMembersForProjectId:h,filterByUserIds:y,includeEntitlements:!!x||void 0,filterByMfaState:"all"!==b?b:void 0,includePermissionRequests:v})}`;let r=t?.pagination.nextPageCursor;return r?`${i.API_TEAMS_MEMBERS_V3}/${T.id}/members${(0,a.encode)({sort:g,limit:E,nextPageCursor:r,search:m,role:f,eligibleMembersForProjectId:h,includeEntitlements:!!x||void 0,filterByMfaState:"all"!==b?b:void 0,includePermissionRequests:v})}`:null},e=>(0,n.fetchAPI)(e,{throwOnHTTPError:!0}),{...e,use:j?[d]:[]});(0,t.useEffect)(()=>{j&&k.resetLaggy()},[C,j]);let R=(0,t.useMemo)(()=>k.data?.flatMap(e=>e.members.slice(0,E))||[],[k.data,E]),A=(0,t.useMemo)(()=>k.data?.flatMap(e=>e.permissionRequests||[])||[],[k.data]),I=!!k.data,P=I&&0===R.length,$=!!(I&&k.data&&k.size>k.data.length),O=!!(I&&k.data&&!k.data[k.data.length-1]?.pagination?.nextPageCursor);return(0,r.default)(()=>{if(!S||!k.data||O||!w||!T)return null;let e=k.data[k.data.length-1].pagination.nextPageCursor;return`${i.API_TEAMS_MEMBERS_V3}/${T.id}/members${(0,a.encode)({sort:g,limit:E,nextPageCursor:e,search:m,role:f,eligibleMembersForProjectId:h,includeEntitlements:x,filterByMfaState:"all"!==b?b:void 0,includePermissionRequests:v})}`},e=>(0,n.fetchAPI)(e,{throwOnHTTPError:!0})),[k,{members:R,permissionRequests:A.filter(e=>null!=e),initialDataLoaded:I,isEmpty:P,loadMore:()=>k.setSize(k.size+1),isLoadingMore:$,isReachingEnd:O,isLagging:k.isLagging}]},"useSuggestedMembersInfinite",0,function(){let{limit:e=25,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{can:i,isLoading:d}=(0,u.default)(),m=!d&&i(c.Action.Create,c.Resource.TeamFellowMembership),{isReady:p,team:f}=(0,o.useTeam)(),h=(0,s.useTeamSlug)(),g=(0,l.default)((t,r)=>{if(!p||!f||!m)return null;if(!t)return`/api/teams/${h}/members/suggested${(0,a.encode)({limit:e})}`;let l=r?.members,n=l?.length===e?l[l.length-1].email:null;return n?`/api/teams/${h}/members/suggested${(0,a.encode)({limit:e,from:n})}`:null},e=>(0,n.fetchAPI)(e,{throwOnHTTPError:!0}),r),y=(0,t.useMemo)(()=>g.data?.flatMap(t=>t.members.slice(0,e))||[],[g.data,e]),x=!!g.data,b=x&&0===y.length,v=!!(x&&g.data&&g.size>g.data.length),j=!!(x&&g.data&&g.data[g.data.length-1]?.members.length<e);return[g,{members:y,initialDataLoaded:x,isEmpty:b,loadMore:()=>g.setSize(g.size+1),isLoadingMore:v,isReachingEnd:j}]}],8587921)},9584456,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M4.3934 0.292893C4.58094 0.105357 4.83529 0 5.10051 0H10.8995C11.1647 0 11.4191 0.105357 11.6066 0.292893L15.7071 4.3934C15.8946 4.58093 16 4.83529 16 5.10051V10.8995C16 11.1647 15.8946 11.4191 15.7071 11.6066L11.6066 15.7071C11.4191 15.8946 11.1647 16 10.8995 16H5.10051C4.83529 16 4.58094 15.8946 4.3934 15.7071L0.292894 11.6066C0.105357 11.4191 0 11.1647 0 10.8995V5.10051C0 4.83529 0.105357 4.58094 0.292893 4.3934L4.3934 0.292893ZM8.75 3.75V4.5V8L8.75 8.75H7.25V8V4.5V3.75H8.75ZM8 12C8.55229 12 9 11.5523 9 11C9 10.4477 8.55229 10 8 10C7.44772 10 7 10.4477 7 11C7 11.5523 7.44772 12 8 12Z" fill="currentColor"/>');e.s(["StopFill",0,t])},2627304,e=>{"use strict";var t=e.i(4205214),r=e.i(4585051),l=e.i(5468328),a=e.i(9584456),n=e.i(8660982);e.s(["AvatarWithError",0,function(e){let{Component:i=r.Avatar,tooltipProps:s,...o}=e,[u,c]=(0,n.useState)(!1),d=(0,n.useMemo)(()=>({"--size":`${o.size}px`}),[o.size]);return u?(0,t.jsx)(l.Tooltip,{...s,children:(0,t.jsx)("div",{className:"flex flex-col items-center justify-center flex-initial size-[--size] rounded-full bg-gray-300 text-gray-900 shadow-border-inset",style:d,children:(0,t.jsx)(a.StopFill,{size:.5*o.size})})}):(0,t.jsx)(i,{...o,onError:()=>{o.onError?.(),c(!0)}})}])},545405,e=>{"use strict";e.s(["copyToClipboard",0,function(e){navigator.clipboard.writeText(e)}])},5614970,e=>{"use strict";var t=e.i(4205214),r=e.i(3959677),l=e.i(5371931),a=e.i(9222994);e.s(["default",0,function(e){let{gitType:n,...i}=e;switch(n){case"github":case"github-custom-host":case"ghes":return(0,t.jsx)(r.default,{...i});case"github-limited":return(0,t.jsx)(r.default,{...i,fill:"red"});case"gitlab":return(0,t.jsx)(l.default,{...i});case"bitbucket":return(0,t.jsx)(a.default,{...i});default:throw Error(`gitType ${n} not defined in GitLogo`)}}])},6870754,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),l=e.i(2504781);let a=(0,r.forwardRef)(function(e,r){let{placeholder:a,loading:n,children:i,noGap:s,noBorderRadius:o,onClick:u,disabled:c}=e;return a?(0,t.jsx)("div",{style:{marginTop:s?"0":"var(--geist-space-4x)",height:32}}):(0,t.jsx)(l.Button,{disabled:c,loading:n,onClick:u,ref:r,style:{marginTop:s?0:"var(--geist-space-4x)",borderRadius:o?0:void 0},type:"secondary",width:"100%",children:i||"Load More"})});e.s(["LoadMoreButton",0,a])},674205,e=>{e.v({copy:"snippet-module__7Mr-qq__copy",copyIcon:"snippet-module__7Mr-qq__copyIcon",dark:"snippet-module__7Mr-qq__dark",isUsingPlaceholder:"snippet-module__7Mr-qq__isUsingPlaceholder",prompt:"snippet-module__7Mr-qq__prompt",snippet:"snippet-module__7Mr-qq__snippet"})},8362472,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),l=e.i(9722978),a=e.i(8225664),n=e.i(2446691),i=e.i(9544652),s=e.i(674205);let o=(0,r.memo)(e=>{let{text:o,copyText:u,onCopy:c,width:d,compact:m=!1,prompt:p=!0,icon:f=!0,dark:h,type:g,fill:y,className:x,variant:b,placeholder:v,notFocusable:j,...S}=e,w=(0,n.useNewType)(g,y,b),T=(0,r.useMemo)(()=>u?u:Array.isArray(o)?o.join("\n"):"string"==typeof o?o:"",[o,u]),_=!!(!o&&v);return(0,t.jsxs)("div",{className:(0,l.clsx)(s.default.snippet,{[String(s.default.prompt)]:p,[String(s.default.dark)]:h,[String(s.default.isUsingPlaceholder)]:_},x,w),...S,"data-geist-snippet":"","data-version":"v1",style:{width:d,height:m?"36px":"auto",...S.style},children:[Array.isArray(o)?o.map((e,r)=>(0,t.jsx)("pre",{className:"geist-overflow-scroll-y",children:e},`snippet-${o}-${e}-${r}`)):(0,t.jsx)("pre",{className:"geist-overflow-scroll-y",style:m?{height:"36px",lineHeight:1}:void 0,children:o||v}),f?(0,t.jsx)(i.DisabledContext.Provider,{value:!1,children:(0,t.jsx)(a.CopyButton,{className:s.default.copyIcon,disabled:j,label:"Copy to clipboard",onClick:()=>{c?.()},textToCopy:T})}):null]})});e.s(["Snippet",0,o])},8624780,e=>{e.v({code:"inline-module__nEk-HG__code",nowrap:"inline-module__nEk-HG__nowrap",truncate:"inline-module__nEk-HG__truncate"})},7808943,e=>{"use strict";var t=e.i(4205214),r=e.i(9722978),l=e.i(8624780);e.s(["default",0,e=>{let{children:a,className:n,noWrap:i,title:s,truncate:o,style:u}=e;return(0,t.jsx)("code",{className:(0,r.clsx)(l.default.code,n,{[l.default.nowrap]:i,[l.default.truncate]:o}),"data-geist-inline-code":"","data-version":"v1",style:u,title:s,children:a})}])},3912957,e=>{e.v({li:"list-module__7sPsqG__li",ol:"list-module__7sPsqG__ol",ul:"list-module__7sPsqG__ul"})},6641571,e=>{"use strict";var t=e.i(4205214),r=e.i(9722978),l=e.i(3912957);e.s(["LI",0,e=>{let{children:a,className:n}=e;return(0,t.jsx)("li",{className:(0,r.clsx)(l.default.li,n),children:a})},"OL",0,e=>{let{children:a,className:n}=e;return(0,t.jsx)("ol",{className:(0,r.clsx)(l.default.ol,n),children:a})},"UL",0,e=>{let{children:a,className:n}=e;return(0,t.jsx)("ul",{className:(0,r.clsx)(l.default.ul,n),children:a})}])},8062736,e=>{e.v({"has-progress-bar-stops":"progress-module__0dqxSW__has-progress-bar-stops",progress:"progress-module__0dqxSW__progress"})},6912485,e=>{"use strict";var t=e.i(4205214),r=e.i(9722978),l=e.i(5468328),a=e.i(8062736),n=e.i(346096);let i={success:"var(--ds-blue-700)",warning:"var(--ds-amber-700)",error:"var(--ds-red-700)",default:"var(--ds-gray-1000)",secondary:"var(--ds-gray-700)"},s=()=>(0,t.jsxs)("div",{className:"pointer-events-auto z-10 flex items-center justify-center",style:{gridArea:"1 / 1"},children:[(0,t.jsx)("div",{className:"w-px bg-gray-alpha-600 h-full"}),(0,t.jsx)("div",{className:"w-px bg-background-100 h-full"})]});function o(e){let{ariaLabel:r,value:a,tooltip:n,size:i=10,maxSafeWidth:o}=e,u=`calc(${a}% - ${(i+4)/2}px)`,c=Math.min(16,o);return(0,t.jsxs)("div",{className:"absolute top-0 bottom-0 pointer-events-auto z-10 grid",style:{left:u},"aria-label":r,children:[n?(0,t.jsx)(l.Tooltip,{forceHide:!n,text:n,boxAlign:"center",style:{gridArea:"1 / 1"},children:(0,t.jsx)("span",{className:"z-20 relative isolate after:content-[''] after:absolute after:-inset-y-2 after:-inset-x-[--x-offset]",style:{width:i+4,height:i,"--x-offset":`${c}px`}})}):null,(0,t.jsx)(s,{})]})}e.s(["Progress",0,function(e){let{value:l,max:s=100,width:u,height:c=10,colors:d,className:m,type:p,stops:f=[],...h}=e,[g,{width:y}]=(0,n.default)(),x=((e,t)=>{if(0===e.length||!t||t<10)return new Map(e.map(e=>[e.value,2]));let r=[...e].sort((e,t)=>e.value-t.value),l=new Map,a=c+4,n=t;for(let e=0;e<r.length-1;e++){let l=r[e],a=r[e+1];if(l&&a){let e=l.value/100*t;n=Math.min(n,a.value/100*t-e)}}return n>=a+32?r.forEach(e=>{l.set(e.value,16)}):r.forEach((e,n)=>{let i=e.value/100*t,s=r[n-1],o=s?i-s.value/100*t:i,u=r[n+1],c=Math.min(o,u?u.value/100*t-i:t-i),d=Math.max(0,(c-a)/2),m=c<=a?0:Math.max(0,Math.min(d,16));l.set(e.value,m)}),l})(f,y);return(0,t.jsxs)("div",{className:"relative",style:{width:u??"100%",height:`${c}px`},children:[(0,t.jsx)("progress",{className:(0,r.clsx)(m,a.default.progress,{"has-progress-bar-stops":f.length>0}),"data-version":"v1",max:s,value:l,...h,style:{width:"100%","--fg":(()=>{if(!d)return p?i[p]:i.default;let e=Object.keys(d);if(!e||0===e.length)return"";let t=e.filter(e=>l>=Number(e)).pop();return t?d[t]:"var(--geist-foreground)"})()},ref:g}),f.map(e=>(0,t.jsx)(o,{size:c,maxSafeWidth:x.get(e.value)||0,...e},`progress-bar-stop:${e.value}`))]})}])},1947138,e=>{"use strict";var t=e.i(8660982);e.s(["useDebounceState",0,function(e,r){let[l,a]=(0,t.useState)(e),[n,i]=function(e,r){let[l,a]=(0,t.useState)(e);return(0,t.useEffect)(()=>{let t=setTimeout(()=>{a(e)},r);return()=>clearTimeout(t)},[e,a,r]),[l,a]}(l,r);return[n,a,{currentValue:l,setValueImmediate:(0,t.useCallback)(e=>{a(e),i(e)},[a,i])}]}])},246968,1765225,e=>{"use strict";var t="object"==typeof localStorage&&(localStorage.getItem("debug")?.includes("next-usequerystate")||localStorage.getItem("debug")?.includes("nuqs"))||!1;function r(e){for(var r=arguments.length,l=Array(r>1?r-1:0),a=1;a<r;a++)l[a-1]=arguments[a];if(!t)return;let n=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),l=1;l<t;l++)r[l-1]=arguments[l];return e.replace(/%[sfdO]/g,e=>{let t=r.shift();return"%O"===e&&t?JSON.stringify(t).replace(/"([^"]+)":/g,"$1:"):String(t)})}(e,...l);performance.mark(n),console.log(e,...l)}function l(e,r,l){try{return e(r)}catch(e){return!function(e){for(var r=arguments.length,l=Array(r>1?r-1:0),a=1;a<r;a++)l[a-1]=arguments[a];t&&console.warn(e,...l)}("[nuqs] Error while parsing value `%s`: %O"+(l?" (for key `%s`)":""),r,e,l),null}}function a(){if("u"<typeof window||!window.GestureEvent)return 50;try{let e=navigator.userAgent?.match(/version\/([\d\.]+) safari/i);return parseFloat(e[1])>=17?120:320}catch{return 320}}function n(e){function t(t){if(void 0===t)return null;let r="";if(Array.isArray(t)){if(void 0===t[0])return null;r=t[0]}return"string"==typeof t&&(r=t),l(e.parse,r)}return{eq:(e,t)=>e===t,...e,parseServerSide:t,withDefault(e){return{...this,defaultValue:e,parseServerSide:r=>t(r)??e}},withOptions(e){return{...this,...e}}}}var i=n({parse:e=>e,serialize:e=>`${e}`}),s=n({parse:e=>{let t=parseInt(e);return Number.isNaN(t)?null:t},serialize:e=>Math.round(e).toFixed()});n({parse:e=>{let t=parseInt(e,16);return Number.isNaN(t)?null:t},serialize:e=>{let t=Math.round(e).toString(16);return t.padStart(t.length+t.length%2,"0")}});var o=n({parse:e=>{let t=parseFloat(e);return Number.isNaN(t)?null:t},serialize:e=>e.toString()}),u=n({parse:e=>"true"===e,serialize:e=>e?"true":"false"}),c=n({parse:e=>{let t=parseInt(e);return Number.isNaN(t)?null:new Date(t)},serialize:e=>e.valueOf().toString()}),d=n({parse:e=>{let t=new Date(e);return Number.isNaN(t.valueOf())?null:t},serialize:e=>e.toISOString()});function m(e){return n({parse:t=>e.includes(t)?t:null,serialize:e=>e.toString()})}function p(e){return n({parse:t=>{try{let r=JSON.parse(t);if("function"==typeof e)return e(r);return r}catch{return null}},serialize:e=>JSON.stringify(e),eq:(e,t)=>e===t||JSON.stringify(e)===JSON.stringify(t)})}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",r=e.eq??((e,t)=>e===t),a=encodeURIComponent(t);return n({parse:r=>""===r?[]:r.split(t).map((r,n)=>l(e.parse,r.replaceAll(a,t),`[${n}]`)).filter(e=>null!=e),serialize:r=>r.map(r=>(e.serialize?e.serialize(r):String(r)).replaceAll(t,a)).join(t),eq:(e,t)=>e===t||e.length===t.length&&e.every((e,l)=>r(e,t[l]))})}function h(e){if(0===e.size)return"";let t=[];for(let[r,l]of e.entries())t.push(`${r}=${l.replace(/%/g,"%25").replace(/\+/g,"%2B").replace(/ /g,"+").replace(/#/g,"%23").replace(/&/g,"%26").replace(/"/g,"%22").replace(/'/g,"%27").replace(/`/g,"%60").replace(/</g,"%3C").replace(/>/g,"%3E")}`);return"?"+t.join("&")}var g={409:"Multiple versions of the library are loaded. This may lead to unexpected behavior. Currently using `%s`, but `%s` was about to load on top.",429:"URL update rate-limited by the browser. Consider increasing `throttleMs` for key(s) `%s`. %O",500:"Empty search params cache. Search params can't be accessed in Layouts.",501:"Search params cache already populated. Have you called `parse` twice?"};function y(e){return`[nuqs] ${g[e]}
  See https://err.47ng.com/NUQS-${e}`}e.s(["debug",0,r,"error",0,y,"getDefaultThrottle",0,a,"parseAsArrayOf",0,f,"parseAsBoolean",0,u,"parseAsFloat",0,o,"parseAsInteger",0,s,"parseAsIsoDateTime",0,d,"parseAsJson",0,p,"parseAsString",0,i,"parseAsStringEnum",0,m,"parseAsTimestamp",0,c,"renderQueryString",0,h,"safeParse",0,l],1765225);var x=e.i(9788962),b=e.i(5677444),v=e.i(8660982),j=a(),S=new Map,w={history:"replace",scroll:!1,shallow:!0,throttleMs:j},T=new Set,_=0,M=null;function N(e,t,l,a){let n=null===t?null:l(t);r("[nuqs queue] Enqueueing %s=%s %O",e,n,a),S.set(e,n),"push"===a.history&&(w.history="push"),a.scroll&&(w.scroll=!0),!1===a.shallow&&(w.shallow=!1),a.startTransition&&(T.add(a.startTransition),w.shallow=!1),w.throttleMs=Math.max(a.throttleMs??j,Number.isFinite(w.throttleMs)?w.throttleMs:0)}function C(e){return S.get(e)??null}function E(e){return null===M&&(M=new Promise((t,l)=>{if(!Number.isFinite(w.throttleMs)){r("[nuqs queue] Skipping flush due to throttleMs=Infinity"),t(new URLSearchParams(location.search)),setTimeout(()=>{M=null},0);return}function a(){_=performance.now();let[a,n]=function(e){let t=new URLSearchParams(location.search);if(0===S.size)return[t,null];let l=Array.from(S.entries()),a={...w},n=Array.from(T);for(let[e,n]of(S.clear(),T.clear(),w.history="replace",w.scroll=!1,w.shallow=!0,w.throttleMs=j,r("[nuqs queue] Flushing queue %O with options %O",l,a),l))null===n?t.delete(e):t.set(e,n);try{let l=window.next?.router;if("string"==typeof l?.state?.asPath){let e=k(l.state.asPath.split("?")[0]??"",t);r("[nuqs queue (pages)] Updating url: %s",e),("push"===a.history?l.push:l.replace).call(l,e,e,{scroll:a.scroll,shallow:a.shallow})}else{var i,s;let l,o=k(location.origin+location.pathname,t);r("[nuqs queue (app)] Updating url: %s",o);let u="push"===a.history?history.pushState:history.replaceState,c=(window.next?.version??"")>="14.1.0"?null:history.state;u.call(history,c,A,o),a.scroll&&window.scrollTo(0,0),a.shallow||(i=n,s=()=>{e.replace(o,{scroll:!1})},(l=e=>{if(e===i.length)return s();let t=i[e];if(!t)throw Error("Invalid transition function");t(()=>l(e+1))})(0))}return[t,null]}catch(e){return console.error(y(429),l.map(e=>{let[t]=e;return t}).join(),e),[t,e]}}(e);null===n?t(a):l(a),M=null}setTimeout(function(){let e=performance.now()-_,t=w.throttleMs,l=Math.max(0,Math.min(t,t-e));r("[nuqs queue] Scheduling flush in %f ms. Throttled at %f ms",l,t),0===l?a():setTimeout(a,l)},0)})),M}function k(e,t){return(e.split("#")[0]??"")+h(t)+location.hash}var R=Symbol("__nuqs__SYNC__"),A="__nuqs__NO_SYNC__",I=Symbol("__nuqs__NOTIFY__"),P=(0,x.default)();function $(e,t){return Object.keys(e).reduce((r,a)=>{let{defaultValue:n,parse:i}=e[a],s=t?.get(a)??null,o=C(a)??s,u=null===o?null:l(i,o,a);return r[a]=u??n??null,r},{})}"object"==typeof history&&function(){let e="1.17.1",t=history.__nuqs_patched;if(t){t!==e&&console.error(y(409),t,e);return}for(let t of(r("[nuqs] Patching history with %s",e),["pushState","replaceState"])){let e=history[t].bind(history);history[t]=function(l,a,n){if(!n)return r("[nuqs] history.%s(null) (%s) %O",t,a,l),e(l,a,n);let i=a===A?"internal":"external",s=new URL(n,location.origin).searchParams;if(r("[nuqs] history.%s(%s) (%s) %O",t,n,i,l),"external"===i){for(let[e,t]of s.entries()){let l=C(e);null!==l&&l!==t&&(r("[nuqs] Overwrite detected for key: %s, Server: %s, queue: %s",e,t,l),s.set(e,l))}setTimeout(()=>{r("[nuqs] External history.%s call: triggering sync with %s",t,s),P.emit(R,s),P.emit(I,{search:s,source:i})},0)}else setTimeout(()=>{P.emit(I,{search:s,source:i})},0);return e(l,a===A?"":a,n)}}Object.defineProperty(history,"__nuqs_patched",{value:e,writable:!1,enumerable:!1,configurable:!1})}(),e.s(["queryTypes",0,{string:i,integer:s,float:o,boolean:u,timestamp:c,isoDateTime:d,stringEnum:m,json:p,array:f},"useQueryState",0,function(e){let{history:t="replace",shallow:a=!0,scroll:n=!1,throttleMs:i=j,parse:s=e=>e,serialize:o=String,eq:u=(e,t)=>e===t,defaultValue:c,clearOnDefault:d=!1,startTransition:m}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{history:"replace",scroll:!1,shallow:!0,throttleMs:j,parse:e=>e,serialize:String,eq:(e,t)=>e===t,clearOnDefault:!1,defaultValue:void 0},p=(0,b.useRouter)(),f=(0,b.useSearchParams)(),[h,g]=v.default.useState(()=>{let t=C(e),r="object"!=typeof location?f?.get(e)??null:new URLSearchParams(location.search).get(e)??null,a=t??r;return null===a?null:l(s,a,e)}),y=v.default.useRef(h);r("[nuqs `%s`] render - state: %O, iSP: %s",e,h,f?.get(e)??null),v.default.useEffect(()=>{if(window.next?.version!=="14.0.3")return;let t=f.get(e)??null,a=null===t?null:l(s,t,e);r("[nuqs `%s`] syncFromUseSearchParams %O",e,a),y.current=a,g(a)},[f?.get(e),e]),v.default.useInsertionEffect(()=>{function t(t){r("[nuqs `%s`] updateInternalState %O",e,t),y.current=t,g(t)}function a(a){let n=a.get(e)??null,i=null===n?null:l(s,n,e);r("[nuqs `%s`] syncFromURL %O",e,i),t(i)}return r("[nuqs `%s`] subscribing to sync",e),P.on(R,a),P.on(e,t),()=>{r("[nuqs `%s`] unsubscribing from sync",e),P.off(R,a),P.off(e,t)}},[e]);let x=v.default.useCallback(function(r){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="function"==typeof r?r(y.current??c??null):r;return(l.clearOnDefault||d)&&null!==s&&void 0!==c&&u(s,c)&&(s=null),P.emit(e,s),N(e,s,o,{history:l.history??t,shallow:l.shallow??a,scroll:l.scroll??n,throttleMs:l.throttleMs??i,startTransition:l.startTransition??m}),E(p)},[e,t,a,n,i,m]);return[h??c??null,x]},"useQueryStates",0,function(e){let{history:t="replace",scroll:l=!1,shallow:a=!0,throttleMs:n=j,clearOnDefault:i=!1,startTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=Object.keys(e).join(","),u=(0,b.useRouter)(),c=(0,b.useSearchParams)(),[d,m]=v.default.useState(()=>"object"!=typeof location?$(e,c??new URLSearchParams):$(e,new URLSearchParams(location.search))),p=v.default.useRef(d);return r("[nuq+ `%s`] render - state: %O, iSP: %s",o,d,c),v.default.useInsertionEffect(()=>{function t(e){r("[nuq+ `%s`] updateInternalState %O",o,e),p.current=e,m(e)}function l(l){let a=$(e,l);r("[nuq+ `%s`] syncFromURL %O",o,a),t(a)}let a=Object.keys(e).reduce((l,a)=>(l[a]=l=>{let{defaultValue:n}=e[a];p.current={...p.current,[a]:l??n??null},r("[nuq+ `%s`] Cross-hook key sync %s: %O (default: %O). Resolved: %O",o,a,l,n,p.current),t(p.current)},l),{});for(let t of(P.on(R,l),Object.keys(e)))r("[nuq+ `%s`] Subscribing to sync for `%s`",o,t),P.on(t,a[t]);return()=>{for(let t of(P.off(R,l),Object.keys(e)))r("[nuq+ `%s`] Unsubscribing to sync for `%s`",o,t),P.off(t,a[t])}},[e]),[d,v.default.useCallback(function(c){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m="function"==typeof c?c(p.current):c;for(let[u,c]of(r("[nuq+ `%s`] setState: %O",o,m),Object.entries(m))){let r=e[u];r&&((d.clearOnDefault||i)&&null!==c&&void 0!==r.defaultValue&&(r.eq??((e,t)=>e===t))(c,r.defaultValue)&&(c=null),P.emit(u,c),N(u,c,r.serialize??String,{history:d.history??t,shallow:d.shallow??a,scroll:d.scroll??l,throttleMs:d.throttleMs??n,startTransition:d.startTransition??s}))}return E(u)},[e,t,a,l,n,s])]}],246968)},2689512,e=>{"use strict";var t=e.i(4205214),r=e.i(4585051),l=e.i(8660982),a=e.i(8971984),n=e.i(2627304),i=e.i(9722978);function s(e){let{className:l="",size:a=32}=e;return(0,t.jsx)(r.Avatar,{className:l,placeholder:!0,size:a})}e.s(["ProjectAvatar",0,function(e){let{project:r,size:o=32,skipSkeleton:u}=e,c=(0,a.getProjectAvatar)(r),[d,m]=(0,l.useState)(!u);return(0,t.jsxs)("div",{className:"relative inline-flex",style:{height:o,width:o},children:[(0,t.jsx)(n.AvatarWithError,{className:(0,i.clsx)("cursor-pointer",{"content-visibility-hidden":d}),mask:!1,size:o,src:c?.src,style:{flexBasis:o},tooltipProps:{className:"relative z-[2]",text:"There was an issue rendering your favicon"},onLoadingComplete:()=>{m(!1)},onError:()=>{m(!1)}}),d?(0,t.jsx)(s,{className:"absolute inset-0",size:o}):null]})},"ProjectAvatarSkeleton",0,s])},8366444,e=>{"use strict";var t=e.i(4496450);let r={enabled:!0,disabledReason:void 0},l=e=>({enabled:!1,disabledReason:e});e.s(["useOnDemandConcurrentBuilds",0,function(e,a){if(!e||!e.billing)return l("other");if("enterprise"===e.billing.plan)return(0,t.isLegacyPlanIteration)(e.billing.planIteration)?l("enterprise-non-unbundled"):a?r:l("no-permission");if("pro"===e.billing.plan)return"active"===e.billing.status?a?r:l("no-permission"):l("pro-non-active");return l("hobby-plan")}])},5023172,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),l=e.i(6891161),a=e.i(455575),n=e.i(277234),i=e.i(4244280),s=e.i(57106);e.s(["StartBuildingNowModal",0,function(e){let[o,u]=(0,r.useState)(!1),c=(0,a.useToasts)(),d=(0,r.useCallback)(async()=>{if(!e.deploymentId||!e.teamId)return;u(!0);let t=new URLSearchParams;t.append("teamId",e.teamId);let r=`${(0,i.API_DEPLOYMENTS)("v13")}/${e.deploymentId}/skip-queue?${t.toString()}`;200===(await (0,n.fetchAPI)(r,{method:"POST",body:void 0,throwOnHTTPError:!1,returnStatus:!0})).status?(c.success("Deployment will start building now."),e.onSuccess?.()):c.error("Something went wrong"),u(!1),e.onClose()},[e,c]);return(0,t.jsxs)(l.Modal.Modal,{active:e.active,onClickOutside:e.onClose,width:"500px",children:[(0,t.jsxs)(l.Modal.Body,{children:[(0,t.jsx)(l.Modal.Header,{children:(0,t.jsx)(l.Modal.Title,{children:(0,t.jsx)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:"Start Building Now"})})}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-start gap-2 flex-initial",children:[(0,t.jsxs)("p",{className:"text-copy-14",children:["This will bypass the regular queue and start your build immediately. On-demand builds are billed in 1 minute increments."," ",(0,t.jsx)(s.Link,{href:"/docs/deployments/managing-builds#on-demand-concurrent-builds",target:"_blank",variant:"highlight",children:"Learn more."})]}),e.teamId&&e.projectName?(0,t.jsxs)("p",{className:"text-copy-14",children:["If you frequently need faster builds for this project, consider enabling"," ",(0,t.jsx)(s.Link,{as:`/${e.teamId}/${encodeURIComponent(e.projectName)}/settings/build-and-deployment`,href:"/[teamSlug]/[project]/settings/build-and-deployment",target:"_blank",variant:"highlight",children:"On-Demand Concurrent Builds"})," ","at the project level."]}):null,(0,t.jsx)("p",{className:"text-copy-14",children:'By clicking "Confirm" you agree to be charged for on-demand concurrency.'})]})]}),(0,t.jsxs)(l.Modal.Actions,{children:[(0,t.jsx)(l.Modal.Action,{loading:!1,onClick:e.onClose,type:"secondary",children:"Close"}),(0,t.jsx)(l.Modal.Action,{disabled:o,loading:o,onClick:d,children:"Confirm"})]})]})}])},369178,e=>{"use strict";var t=e.i(4205214);e.i(8660982);var r=e.i(6264863),l=e.i(4450569);function a(e){let{className:a,classNames:n=[],styles:i,hoverAnimation:s,shadow:o=!0,padding:u=!0,children:c,...d}=e,{className:m,styles:p}={styles:(0,t.jsx)(r.default,{id:"8f4a056b45cdb5e8",dynamic:[u?"var(--geist-gap)":"0",o?"var(--ds-shadow-border-small)":"none",s?"1":"auto"],children:`.geist-card.__jsx-style-dynamic-selector{padding:${u?"var(--geist-gap)":"0"};border-radius:var(--geist-radius);background:var(--ds-background-100);box-shadow:${o?"var(--ds-shadow-border-small)":"none"};transition:box-shadow .2s}.geist-card.__jsx-style-dynamic-selector:hover{z-index:${s?"1":"auto"}}`}),className:r.default.dynamic([["8f4a056b45cdb5e8",[u?"var(--geist-gap)":"0",o?"var(--ds-shadow-border-small)":"none",s?"1":"auto"]]])};return(0,t.jsx)(l.default,{classNames:["geist-card",m,a,...n],"data-version":"v1",styleSets:(0,t.jsxs)(t.Fragment,{children:[p,i]}),...d,children:c})}function n(e){let{disabled:l,active:n,children:i,...s}=e,{className:o,styles:u}={styles:(0,t.jsx)(r.default,{id:"f7e7e50025abc145",dynamic:[n?"var(--geist-foreground)":"var(--accents-2)",l?"not-allowed":"pointer",n?"var(--geist-foreground)":l?"var(--accents-1)":"var(--geist-background)",n?"var(--geist-background)":l?"var(--accents-4)":"none"],children:`.geist-card-picker.__jsx-style-dynamic-selector{width:512pt;max-width:100%;box-shadow:none;border:1px solid ${n?"var(--geist-foreground)":"var(--accents-2)"};cursor:${l?"not-allowed":"pointer"};background:${n?"var(--geist-foreground)":l?"var(--accents-1)":"var(--geist-background)"};color:${n?"var(--geist-background)":l?"var(--accents-4)":"none"};transition:background .2s,border .2s}.geist-card-picker.__jsx-style-dynamic-selector:hover{border:1px solid var(--geist-foreground)}`}),className:r.default.dynamic([["f7e7e50025abc145",[n?"var(--geist-foreground)":"var(--accents-2)",l?"not-allowed":"pointer",n?"var(--geist-foreground)":l?"var(--accents-1)":"var(--geist-background)",n?"var(--geist-background)":l?"var(--accents-4)":"none"]]])};return(0,t.jsx)(a,{classNames:["geist-card-picker",o],styles:u,...s,children:i})}function i(e){let{children:l,wide:n,hasAuthors:i,...s}=e,{className:o,styles:u}={styles:(0,t.jsx)(r.default,{id:"f21bef6bc0e0a22c",dynamic:[n?"0":"var(--geist-gap-double)"],children:`.geist-card-project.geist-card.__jsx-style-dynamic-selector{margin-bottom:${n?"0":"var(--geist-gap-double)"};background:var(--geist-background);border-radius:8px;padding:0}`}),className:r.default.dynamic([["f21bef6bc0e0a22c",[n?"0":"var(--geist-gap-double)"]]])};return(0,t.jsx)(a,{classNames:["geist-card-project",o],styles:u,...s,children:l})}e.s(["default",0,function(e){let{picker:r=!1,project:l=!1,...s}=e;return r?(0,t.jsx)(n,{...s}):l?(0,t.jsx)(i,{...s}):(0,t.jsx)(a,{...s})}],369178)},7966665,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let l=e.r(9778377);function a(e){return/^[a-f0-9]{40}$/i.test(e)}r.default=function(e,t){let r,n;if("string"!=typeof e||!e.length)return null;if(e.startsWith("git@"))switch(!0){case e.startsWith("git@github.com:"):r="github",n=e.replace("git@github.com:","");break;case t&&e.startsWith(`git@${t}:`):r="ghes",n=e.replace(`git@${t}:`,"");break;case e.startsWith("git@gitlab.com:"):r="gitlab",n=e.replace("git@gitlab.com:","");break;case e.startsWith("git@bitbucket.org:"):r="bitbucket",n=e.replace("git@bitbucket.org:","");break;default:return null}else{let a=l.parse(e);if(!a.pathname)return null;switch(a.hostname){case"github.com":case"www.github.com":r="github";break;case t:r="ghes";break;case"gitlab.com":case"www.gitlab.com":r="gitlab";break;case"bitbucket.org":case"www.bitbucket.org":r="bitbucket";break;default:return null}n=a.pathname.replace(/(^\/|\/$)/g,"")}let i=(n=n.replace(/\.git$/,"")).split("/").filter(Boolean);if(i.length<2)return null;if(2===i.length)return{type:r,owner:i[0],name:i[1],branch:"",sha:"",subdir:""};let s="",o="",u="",c=i[0],d=i[1];if("github"===r)if("blob"!==i[2]&&"tree"!==i[2]&&"commit"!==i[2])return null;else a(i[3])?o=i[3]:s=i[3],u=i.slice(4).join("/");else if("ghes"===r)if("blob"!==i[2]&&"tree"!==i[2]&&"commit"!==i[2])return null;else a(i[3])?o=i[3]:s=i[3],u=i.slice(4).join("/");else if("gitlab"===r)if("-"===i[2])("blob"===i[3]||"tree"===i[3]||"commit"===i[3])&&(a(i[4])?o=i[4]:s=i[4],u=i.slice(5).join("/"));else{let e=i.indexOf("-");-1===e?d=i.slice(1).join("/"):(d=i.slice(1,e).join("/"),("blob"===i[e+1]||"tree"===i[e+1]||"commit"===i[e+1])&&(a(i[e+2])?o=i[e+2]:s=i[e+2],u=i.slice(e+3).join("/")))}else if("bitbucket"===r)if("src"!==i[2]&&"commits"!==i[2])return null;else a(i[3])?o=i[3]:s=i[3],u=i.slice(4).join("/");return{type:r,owner:c,name:d,branch:s,sha:o,subdir:u}}},3023251,e=>{"use strict";var t=e.i(7966665);function r(e){if(!e||"error"in e)return null;switch(e.type){case"github-limited":case"github":return{org:e.org||"",repo:e.repo};case"gitlab":if("projectUrl"in e){let r=(0,t.default)(e.projectUrl);if(r)return{org:r.owner,repo:r.name}}break;case"bitbucket":if("slug"in e)return{org:e.owner,repo:e.slug}}return null}e.s(["getOrgAndRepoFromLink",0,r,"getRepoFromLink",0,function(e){let{includeOrg:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=r(e);return l?t?`${l.org}/${l.repo}`:l.repo:""}])},913614,e=>{"use strict";var t=e.i(7966665);e.s(["getGitRepoUrlFromLink",0,function(e){let{type:r,org:l,repo:a,projectUrl:n,owner:i,slug:s,host:o}=e;switch(r){case"github-limited":case"github":return`https://github.com/${l}/${a}`;case"gitlab":{let e=(0,t.default)(n||"");return`https://gitlab.com/${e?.owner}/${e?.name}`}case"bitbucket":return`https://bitbucket.org/${i}/${s}`;case"github-custom-host":if(!o)throw Error("Custom host is required for github-custom-host");return`https://${o}/${l}/${a}`;default:return""}}])},935882,e=>{"use strict";let t=e.i(8660982).useLayoutEffect;e.s(["default",0,t])},7401972,e=>{"use strict";var t=e.i(8660982),r=e.i(7222834),l=e.i(8042625),a=e.i(277234),n=e.i(4244280),i=e.i(5338940),s=e.i(935882);e.s(["useProjectDeployedBranches",0,function(e){let o,{project:u,includeProductionBranch:c,query:d,limit:m,active:p,includeDeploymentInfo:f,readyStateFilter:h}=e,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:y,team:x}=(0,i.useTeam)(),[b,v]=(0,t.useState)(""),j={search:d&&+(o=d)==+o?`"${d}"`:d,active:p?"1":null,teamId:x?.id,includeDeployments:f?"1":null,limit:m,state:h},S=(0,r.default)((e,t)=>{if(!u)return null;if(!e)return y?`${(0,n.API_PROJECTS_VERSION)("v5")}/${u.id}/branches/${(0,l.encode)(j)}`:null;let r=t&&m&&t.branches.length>=m?t.until:null;return r&&y?`${(0,n.API_PROJECTS_VERSION)("v5")}/${u.id}/branches/${(0,l.encode)({...j,until:r})}`:null},e=>(0,a.fetchAPI)(e,{throwOnHTTPError:!0}).then(e=>({...e,query:d})),g),w=u?.link?.productionBranch,T=(0,t.useMemo)(()=>{let e;if(!S.data)return;if(f){let t,r=[];for(let l of S.data)for(let a of(e=l.query,l.branches))w&&a.branch===w?t=a:r.push(a);return{query:e,result:(c&&t?[t,...r]:r).filter(e=>!!e.deployment).sort((e,t)=>t.deployment.createdAt-e.deployment.createdAt)}}let t=new Set;for(let r of S.data)for(let l of(e=r.query,r.branches))t.add(l.branch);return{query:e,result:(w&&t.has(w)&&t.delete(w),c&&w?[w,...t]:[...t])}},[S.data,c,w,f]);(0,s.default)(()=>{T?.query&&v(T.query)},[T?.query,v]);let _=!!S.data,M=_&&T?.result.length===0,N=_&&S.data&&S.size>S.data.length,C=!m||_&&S.data&&S.data[S.data.length-1]?.branches.length<m;return[S,{branches:T?.result,fetchedQuery:b,initialDataLoaded:_,isValidating:S.isValidating,isEmpty:M,loadMore:()=>S.setSize(e=>e+1),isLoadingMore:N,isReachingEnd:C,mutate:S.mutate}]}])},4854149,e=>{"use strict";var t=e.i(8660982),r="u"<typeof window?t.default.useEffect:t.default.useLayoutEffect,l=0,a=()=>++l,n=!1;function i(){let[e,i]=t.default.useState(n?a:void 0);return r(()=>{void 0===e&&i(++l),n=!0},[]),void 0===e?e:`rwb-${e.toString(32)}`}var s="__wrap_b",o="__wrap_n",u="__wrap_o",c=(e,t,r)=>{let l=(r=r||document.querySelector(`[data-br="${e}"]`)).parentElement,a=e=>r.style.maxWidth=e+"px";r.style.maxWidth="";let n=l.clientWidth,i=l.clientHeight,s=n/2-.25,o=n+.5,u;if(n){for(a(s),s=Math.max(r.scrollWidth,s);s+1<o;)a(u=Math.round((s+o)/2)),l.clientHeight===i?o=u:s=u;a(o*t+n*(1-t))}r.__wrap_o||"u">typeof ResizeObserver&&(r.__wrap_o=new ResizeObserver(()=>{self.__wrap_b(0,+r.dataset.brr,r)})).observe(l)},d=c.toString(),m=function(e,r){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return l&&(l=`self.${o}!=1&&${l}`),t.default.createElement("script",{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:(e?"":`self.${o}=self.${o}||(self.CSS&&CSS.supports("text-wrap","balance")?1:2);self.${s}=${d};`)+l},nonce:r})},p=t.default.createContext(!1),f=e=>{let{ratio:l=1,nonce:a,children:n,...d}=e,f=t.default.useMemo(()=>"useId"in t.default?t.default.useId:i,[])(),h=t.default.useRef(),g=t.default.useContext(p),y=d.as||"span";return r(()=>{1!==self[o]&&h.current&&(self[s]=c)(0,l,h.current)},[n,l]),r(()=>{if(1!==self[o])return()=>{if(!h.current)return;let e=h.current[u];e&&(e.disconnect(),delete h.current[u])}},[]),t.default.createElement(t.default.Fragment,null,t.default.createElement(y,{...d,"data-br":f,"data-brr":l,ref:h,style:{display:"inline-block",verticalAlign:"top",textDecoration:"inherit",textWrap:"balance"},suppressHydrationWarning:!0},n),m(g,a,`self.${s}("${f}",${l})`))};e.s(["Balancer",0,f,"Provider",0,e=>{let{nonce:r,children:l}=e;return t.default.createElement(p.Provider,{value:!0},m(!1,r),l)},"default",0,f])},5229375,e=>{"use strict";var t=e.i(8660982),r=e.i(850302),l=e.i(7222834),a=e.i(818351),n=e.i(8042625),i=e.i(277234),s=e.i(4244280),o=e.i(5338940);function u(e,t){let r=(0,n.encode)(e,!1),l=t?`&${t}`:"";return r?`?${r}${l}`:`?${l}`}e.s(["useAliases",0,function(e,t){return(0,r.default)(()=>{if(!e)return null;let{team:t,id:r,teamId:l}=e;return`${(0,s.API_DEPLOYMENTS)("v2")}/${r}/aliases${(0,n.encode)({teamId:l??(t?t.id:null)})}`},e=>(0,i.fetchAPI)(e,{throwOnHTTPError:!0}),t)},"useAliasesInfinite",0,function(e,r){let{limit:a=20,domains:n,rollbackDeploymentId:c}=e,{isReady:d,team:m}=(0,o.useTeam)(),p=(0,l.default)((e,t)=>{if(!d)return null;let r=`${s.API_ALIASES}`,l=n?.map(e=>`domain=${encodeURIComponent(e)}`).join("&")||null;if(!e)return`${r}${u({limit:a+1,teamId:m?.id,rollbackDeploymentId:c},l)}`;let i=t?.aliases&&t.aliases.length>a?t.aliases[a-1].createdAt:null;return i?`${r}${u({limit:a+1,teamId:m?.id,until:i},l)}`:null},e=>(0,i.fetchAPI)(e,{throwOnHTTPError:!0}),r),f=(0,t.useMemo)(()=>p.data?[].concat(...p.data.filter(Boolean).map(e=>e.aliases.slice(0,a))):[],[p.data,a]),h=!!p.data&&!p.error,g=!!(p.data&&0===f.length),y=!!(p.data&&p.size>p.data.length),x=!!(p.data&&p.data[p.data.length-1]?.aliases.length<=a);return[p,{aliases:f,initialDataLoaded:h,isEmpty:g,loadMore:()=>p.setSize(e=>e+1),isLoadingMore:y,isReachingEnd:x}]},"useAliasesV2",0,function(e,t){let{deploymentId:r,teamId:l}=e;return(0,a.useIsomorphicSWR)(r?function(e){let{deploymentId:t,teamId:r}=e;return`${(0,s.API_DEPLOYMENTS)("v2")}/${t}/aliases${(0,n.encode)({teamId:r})}`}({deploymentId:r,teamId:l}):null,t)}],5229375)},7018452,e=>{"use strict";var t=e.i(8660982);e.s(["default",0,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",[r,l]=(0,t.useState)(!1),a=window.location.hash,n=e.startsWith("#")?e:`#${e}`;return(0,t.useEffect)(()=>{let e=()=>{window.location.hash!==n||r||l(!0)};return window.addEventListener("hashchange",e),()=>{window.removeEventListener("hashchange",e)}},[r,n]),a!==n||r||(l(!0),window.history.replaceState(null,""," ")),a!==n&&r&&(window.location.hash=n),[r,l]}])},9719784,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),l=e.i(57106),a=e.i(822157),n=e.i(7018452),i=e.i(2405448),s=e.i(542164),o=e.i(1681029),u=e.i(4478191);let c=(0,r.memo)(function(e){let{url:c,truncate:d,defaultRoute:m,...p}=e,[f,h]=(0,n.default)("#wildcard"),[g,y]=(0,r.useState)(null),[x,b]=(0,r.useState)(!1),v=(0,r.useCallback)(()=>{y((0,i.default)(c)),h(!0)},[y,h,c]);return c?(0,s.default)(c)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Link,{className:"pt-px leading-[16px] hover:underline",onClick:v,...p,onMouseEnter:()=>b(!0),style:{minWidth:0,maxWidth:d?"100%":void 0},children:d?(0,t.jsx)("span",{className:"geist-ellipsis",children:c}):c}),x||f?(0,t.jsx)(a.default,{active:f,onCancel:()=>{h(!1)},url:g}):null]}):(0,t.jsx)(l.Link,{className:"pt-px leading-[16px] hover:underline",external:!0,href:(0,u.withDefaultRoute)((0,o.domainToUrl)(c),m),...p,style:{minWidth:0,maxWidth:d?"100%":void 0},children:d?(0,t.jsx)("span",{className:"geist-ellipsis",children:c}):c}):null});e.s(["default",0,c])},2645806,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),l=e.i(3657238),a=e.i(6891161),n=e.i(455575),i=e.i(277234),s=e.i(4244280),o=e.i(4470704);let u=r.default.memo(e=>{let{active:u,onClose:c,deployment:d,teamId:m}=e,[p,f]=(0,r.useState)(!1),h=(0,n.useToasts)(),g=(0,r.useCallback)(async()=>{if(!d)return;f(!0);let e=m?"?teamId="+m:"",t=await (0,i.fetchAPI)(`${(0,s.API_DEPLOYMENTS)("v12")}/${d.id}/cancel`+e,{throwOnHTTPError:!1,method:"PATCH"});t.error&&h.error(`Could not cancel the deployment, it's ${d.readyState}`),"CANCELED"===t.readyState&&(h.success("The deployment has been successfully canceled."),(0,l.mutate)((0,o.getUrl)(d.id),{...d,readyState:t.readyState,status:t.readyState,canceledAt:t.canceledAt,host:d.url,isPrivate:!d.public})),f(!1),c()},[d,m,h,c]);return(0,t.jsxs)(a.Modal.Modal,{active:u,onClickOutside:c,width:"500px",children:[(0,t.jsxs)(a.Modal.Body,{children:[(0,t.jsx)(a.Modal.Header,{children:(0,t.jsx)(a.Modal.Title,{children:"Cancel Deployment"})}),(0,t.jsx)("p",{className:"text-copy-16",children:"Canceling this deployment will immediately stop the build, with no way to resume."}),(0,t.jsx)("p",{className:"text-copy-16",style:{margin:0},children:"Are you sure you want to continue?"})]}),(0,t.jsxs)(a.Modal.Actions,{children:[(0,t.jsx)(a.Modal.Action,{loading:!1,onClick:c,type:"secondary",children:"Close"}),(0,t.jsx)(a.Modal.Action,{disabled:p,loading:p,onClick:g,children:"Cancel deployment"})]})]})});e.s(["default",0,u])},9365163,4904548,e=>{"use strict";var t=e.i(4205214),r=e.i(8660982),l=e.i(5338940),a=e.i(1717203),n=e.i(7557283),i=e.i(4670733),s=e.i(588428),o=e.i(4396019),u=e.i(762945),c=e.i(7749291),d=e.i(8735244),m=e.i(2504781),p=e.i(6891161),f=e.i(455575),h=e.i(8522580),g=e.i(8761240),y=e.i(5756088),x=e.i(9386557),b=e.i(4004502),v=e.i(8042625),j=e.i(277234),S=e.i(4244280),w=e.i(5140444),T=e.i(6565161),_=e.i(5802506),M=e.i(6641571);e.i(9623499);var N=e.i(5576066),C=e.i(7222834),E=e.i(5229375);e.i(2144405);var k=e.i(9668517);let R="[teamSlug]";var A=e.i(6060673),I=e.i(930810),P=e.i(7952834),$=e.i(1173672),O=e.i(8227242),D=e.i(9745887),L=e.i(3306538),q=e.i(5468328),F=e.i(9719784);function U(e){let{hidden:r,showIcon:l=!0,linkProps:a,defaultRoute:n}=e;return(0,t.jsx)(t.Fragment,{children:r.map(e=>(0,t.jsx)("div",{children:(0,t.jsx)(F.default,{defaultRoute:n,icon:l,title:e,truncate:!0,url:e,...a})},e))})}function z(e){let{hidden:r,linkProps:l}=e;return(0,t.jsx)(q.Tooltip,{text:(0,t.jsx)(U,{hidden:r,linkProps:l}),children:(0,t.jsx)(L.Badge,{size:"sm",variant:"gray-subtle",children:`+${r.length}`})})}let H=function(e){let{className:r,defaultRoute:l,domains:a,firstOnly:n,showIcon:i=!0,style:s,linkProps:o}=e;if(!a)return(0,t.jsx)("span",{className:`text-copy-14 text-gray-900 ${r}`,style:s,children:"-"});let{visible:u,hidden:c}=a.reduce((e,t)=>(0===e.visible.length||!n&&1===e.visible.length&&e.visible[0].length<=20?e.visible.push(t):e.hidden.push(t),e),{visible:[],hidden:[]});return(0,t.jsx)("span",{className:`text-[14px] leading-[20px] font-medium ${r}`,children:(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial max-w-full",style:{...s},children:[u.map((e,r)=>{let a=r===u.length-1;return(0,t.jsx)(F.default,{defaultRoute:l,icon:i,style:{marginRight:a?void 0:"var(--geist-gap-half)",minWidth:0},truncate:!0,url:e,...o},e)}),c.length?(0,t.jsx)(z,{hidden:c,linkProps:o}):null]})})};e.s(["default",0,H],4904548);var B=e.i(8651268),W=e.i(2547843);function V(){return(0,t.jsx)(p.Modal.Header,{children:(0,t.jsx)(p.Modal.Title,{center:!0,children:"Instant Rollback"})})}function G(e){let{setStage:r}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(p.Modal.Body,{children:[(0,t.jsx)(V,{}),(0,t.jsx)("p",{className:"text-copy-14",style:{marginBottom:"24px"},children:"Error: You must select a deployment to roll back."})]}),(0,t.jsx)(p.Modal.Actions,{children:(0,t.jsx)(p.Modal.Action,{fullWidth:!0,onClick:()=>{r("initial")},type:"secondary",children:"Back"})})]})}function J(){return(0,t.jsx)("div",{children:(0,t.jsx)(h.Note,{className:"bg-yellow-50 border-yellow-300 border text-amber-700",fill:!0,label:!1,type:"warning",variant:"contrast",children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-4 flex-initial",style:{padding:4},children:[(0,t.jsx)(u.Warning,{style:{flexShrink:0}}),(0,t.jsxs)("div",{className:"flex flex-col items-start justify-start flex-initial",children:[(0,t.jsx)("p",{className:"text-copy-14 text-inherit",children:"Make sure the domains listed above are correct."}),(0,t.jsx)("p",{className:"text-copy-14 text-inherit",children:"This deployment has custom aliases not included in the project's domain settings."})]})]})})})}function Y(e){var a;let n,{hasFloatingAliases:o,onCancel:u,previousDeployment:c,productionAliases:d,productionDeployment:f,project:g,rollbackCandidates:x,setStage:v,selectedDeployment:j,setSelectedDeployment:S,deploymentSwr:w,rollbackReason:T,setRollbackReason:_}=e,M=(a="/[teamSlug]",n=(0,k.useTeamSlug)(),(0,r.useMemo)(()=>a.includes(R)?a.replace(`/${R}`,n?`/${n}`:""):a,[n,a])),[C,E]=(0,r.useState)(!1),{team:A}=(0,l.useTeam)(),P=!A||A.billing?.plan==="hobby",{value:$}=(0,i.useInstantRollbackHobbyRestrictionFlag)(),{value:O}=(0,s.useInstantRollbackHobbyRestrictionTeamFlag)();return x.length&&c&&j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(p.Modal.Body,{children:[(0,t.jsx)(V,{}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsxs)("p",{className:"text-copy-16",children:["Rolling back"," ",(0,t.jsx)(H,{domains:d,firstOnly:!0,style:{display:"inline-flex",fontWeight:"500"}})]}),o?(0,t.jsx)(J,{}):null,(0,t.jsx)("div",{children:(0,t.jsx)(D.DeploymentCardSmall,{deployment:f,isProductionDeployment:!0,selectedDeployment:j,setSelectedDeployment:S})})]}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)("p",{className:"text-copy-16",children:"To the following deployment:"}),C?(0,t.jsx)("div",{children:(0,t.jsx)(I.ChooseDeploymentList,{deployments:x,previousDeployment:c,productionDeployment:f,rolledBackDeploymentId:g?.lastAliasRequest?.type==="rollback"?g.lastAliasRequest.fromDeploymentId:void 0,selectedDeployment:j,setSelectedDeployment:S,swr:w})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{children:(0,t.jsx)(D.DeploymentCardSmall,{deployment:j,isForm:C,isPreviousDeployment:j.uid===c.uid,selectedDeployment:j,setSelectedDeployment:S})}),($||O)&&P?(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial mt-6",children:(0,t.jsx)(h.Note,{className:"bg-blue-50 border border-blue-500 text-blue-600",fill:!0,label:!1,size:"small",variant:"contrast",children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-4 flex-initial p-2",children:[(0,t.jsx)(y.LockClosed,{style:{transform:"translateX(1px)"}}),(0,t.jsxs)("div",{className:"flex flex-col items-start justify-start flex-initial",children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-inherit",children:"Looking for an earlier deployment?"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N.Link,{className:"text-current no-underline",external:!0,href:"/"===M?"/dashboard?createTeam=instant-rollback":`${M}?upgradeTeam=instant-rollback`,target:"_blank",children:(0,t.jsx)("span",{className:"text-copy-14 text-inherit",children:"Upgrade to Pro"})}),(0,t.jsxs)("span",{className:"text-copy-14 text-inherit",style:{whiteSpace:"nowrap"},children:[" ","to roll back to an earlier deployment"]})]})]})]})})}):(0,t.jsx)(m.Button,{onClick:()=>{E(!0)},type:"secondary",width:"100%",size:"small",children:"Choose another deployment"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)("label",{htmlFor:"rollback-reason",className:"flex flex-col items-stretch justify-start gap-1 flex-initial",children:(0,t.jsx)("span",{className:"text-copy-16",children:"Share a reason for this rollback:"})}),(0,t.jsx)(I.RollbackDescriptionTextarea,{value:T,onChange:_,id:"rollback-reason"})]})]})]}),(0,t.jsxs)(p.Modal.Actions,{children:[(0,t.jsx)(p.Modal.Action,{onClick:u,type:"secondary",children:"Cancel"}),(0,t.jsx)(p.Modal.Action,{"data-testid":(0,b.tid)("deployment","rollback-modal","continue-button"),disabled:T.length>=I.REASON_MAX_CHARACTER_LENGTH,onClick:()=>{v("selected")},children:"Continue"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(p.Modal.Body,{children:[(0,t.jsx)(V,{}),(0,t.jsx)("p",{className:"text-copy-14",children:"This project does not have any valid deployments to roll back to."})]}),(0,t.jsx)(p.Modal.Actions,{children:(0,t.jsx)(p.Modal.Action,{onClick:u,type:"secondary",children:"Cancel"})})]})}function Z(e){let{selectedDeployment:r,setStage:l,requestRollback:a,project:n,rollbackReason:i,rollbackCandidates:s}=e,{user:o}=(0,w.useUser)();if(!r)return(0,t.jsx)(G,{setStage:l});let u=i.length>=I.REASON_MAX_CHARACTER_LENGTH,d=(0,I.getMostRecentlyPromotedDeployment)(s);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(p.Modal.Body,{children:[(0,t.jsx)(V,{}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)("p",{className:"text-copy-16",children:"Rolling back to:"}),(0,t.jsx)(D.DeploymentCardSmall,{deployment:r,isPreviousDeployment:r.uid===d?.uid,selectedDeployment:r,setSelectedDeployment:()=>null})]}),i.trim()&&(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:(0,t.jsx)(I.RollbackDescriptionCard,{rollbackDescription:{description:i.trim(),userId:o?.uid??"",username:o?.username??"",deploymentId:r.uid,projectId:n?.id??"",createdAt:new Date().getTime()},project:n,preview:!0})}),(0,t.jsxs)(M.UL,{className:"mb-0",children:[(0,t.jsx)(M.LI,{children:"Instant Rollback assigns domains to a previous deployment. All Environment Variables from the original build will remain. Cron jobs will be reverted to the state of the previous deployment."}),(0,t.jsxs)(M.LI,{children:[(0,t.jsxs)(N.Link,{className:"inline-flex items-center text-[var(--geist-success)] no-underline",href:`https://${r.url}`,target:"_blank",children:["View the selected deployment ",(0,t.jsx)(c.ExternalSmall,{className:"ml-1"})]})," ","before rolling backâ€”external APIs, databases, and CMS platforms may not behave as expected."]}),(0,t.jsx)(M.LI,{children:"You can update the rollback reason from the project overview."})]}),(n?.autoAssignCustomDomains??!0)||n?.lastAliasRequest?.type==="rollback"?(0,t.jsx)(h.Note,{fill:!0,type:"secondary",children:(0,t.jsx)("div",{className:"flex flex-row items-center justify-start gap-4 flex-initial",children:(0,t.jsx)("div",{className:"flex flex-col items-start justify-start flex-initial",children:(0,t.jsx)("p",{className:"text-copy-14 text-inherit",children:"After rolling back, production deployments will not be automatically promoted until the rollback is removed."})})})}):null]})]}),(0,t.jsxs)(p.Modal.Actions,{children:[(0,t.jsx)(p.Modal.Action,{onClick:()=>{l("initial")},type:"secondary",children:"Back"}),(0,t.jsx)(p.Modal.Action,{"data-testid":(0,b.tid)("deployment","rollback-modal","rollback-button"),disabled:u,onClick:()=>{a(r.uid),l("processing")},children:"Confirm Rollback"})]})]})}function K(e){let{jobStatus:l,rollbackDeploymentId:a,rollbackCandidates:n,selectedDeployment:i,setStage:s,onCancel:o,statusSwr:u,requestRollback:c,rollbackReason:f}=e,{user:h}=(0,w.useUser)();if((0,r.useEffect)(()=>{a===i?.uid&&("failed"===l?s("error"):"succeeded"===l&&s("done"))},[a,l,i,s]),!i)return(0,t.jsx)(G,{setStage:s});let y=(0,I.getMostRecentlyPromotedDeployment)(n);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(p.Modal.Body,{children:[(0,t.jsx)(V,{}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)("p",{className:"text-copy-14",children:"Assigning production domains:"}),(0,t.jsx)(D.DeploymentCardSmall,{deployment:i,isPreviousDeployment:i.uid===y?.uid,selectedDeployment:i,setSelectedDeployment:()=>null})]}),""!==f?(0,t.jsxs)("div",{className:"rounded bg-background-200 px-4 py-3 shadow-border",children:[(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900",children:["â€œ",(0,t.jsx)(O.LinkParser,{text:f.trim()}),"â€"]}),(0,t.jsxs)("div",{className:"flex gap-1 pt-1",children:[(0,t.jsx)("p",{className:"text-copy-14",children:"Rolled back by"}),h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(B.PrincipalAvatar,{size:20,principalId:h.uid,principal:{type:"user",uid:h.uid,username:h.username}}),(0,t.jsx)("p",{className:"text-copy-14",children:h.username})]}):null]})]}):null,(0,t.jsxs)(M.UL,{className:"mx-4 my-0 list-none pt-2",children:[u.aliases.map(e=>{let r="loading";return"completed"===e.status?r="success":"failed"===e.status&&(r="error"),(0,t.jsx)(M.LI,{children:(0,t.jsxs)("div",{className:"h-6 flex items-center gap-2",children:["loading"===r&&(0,t.jsx)(d.Spinner,{className:"shrink-0",size:16}),"error"===r&&(0,t.jsx)(x.WarningFill,{className:"shrink-0",color:"amber-800",size:16}),"success"===r&&(0,t.jsx)(g.CheckCircleFill,{className:"shrink-0",color:"blue-700",size:16}),(0,t.jsx)("span",{className:"text-copy-14 truncate",children:e.alias})]})},e.alias)}),!u.isReachingEnd&&u.initialDataLoaded?(0,t.jsx)(M.LI,{children:(0,t.jsx)(m.Button,{loading:u.isLoadingMore,onClick:()=>{u.loadMore()},style:{marginTop:24},type:"secondary",width:"100%",children:"Show More"})}):null]})]})]}),(0,t.jsx)(p.Modal.Actions,{children:(0,t.jsx)(p.Modal.Action,{"data-testid":(0,b.tid)("deployment","rollback-modal","finish-button"),fullWidth:!0,loading:"failed"!==l&&"succeeded"!==l,onClick:()=>{"failed"===l?c(i.uid):"succeeded"===l&&(s("initial"),o())},children:"failed"===l?"Retry":"Done"})})]})}function Q(e){let{active:a,initialSelectedDeployment:n,onCancel:i,productionBranch:s,productionDeployment:o,projectId:u,rollbackCandidates:c,swr:d,rollbackDescription:m}=e,{mutate:h}=(0,T.useSWRConfig)(),[g,y]=(0,r.useState)("initial"),[x,w]=(0,r.useState)(""),{isReady:M,team:N}=(0,l.useTeam)(),k=(0,f.useToasts)(),R=(0,r.useMemo)(()=>{let e=c.filter(e=>e.uid!==o.id);return(0,I.getMostRecentlyPromotedDeployment)(e)},[c,o]),[O,D]=(0,r.useState)(null),L=O??n??R??null,q=(0,r.useCallback)(y,[y]),F=(0,r.useCallback)(D,[D]),[,{aliases:U}]=(0,E.useAliasesInfinite)({rollbackDeploymentId:o.id}),z=(0,r.useMemo)(()=>({config:{refreshInterval:2e3*!!a}}),[a]),{data:H}=(0,A.useProject)(u,z),{lastAliasRequest:B,hasFloatingAliases:V}=H||{lastAliasRequest:void 0,hasFloatingAliases:!1},{toDeploymentId:G,jobStatus:J}=B||{toDeploymentId:null,jobStatus:null},[,Q]=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,{isReady:n,team:i}=(0,l.useTeam)(),s=(0,C.default)((t,r)=>{if(!n)return null;let l={teamId:i?.id,limit:a};return t?r?.next?`${(0,S.API_PROJECTS_ROLLBACK_ALIAS_STATUS)(e)}${(0,v.encode)({...l,until:r.next})}`:null:`${(0,S.API_PROJECTS_ROLLBACK_ALIAS_STATUS)(e)}${(0,v.encode)(l)}`},e=>(0,j.fetchAPI)(e,{throwOnHTTPError:!0}),{refreshInterval:t}),o=(0,r.useMemo)(()=>s.data?[].concat(...s.data.filter(Boolean).map(e=>e.aliases.slice(0,a))):[],[s.data,a]),u=!!s.data,c=u&&0===o.length,d=u&&s.data&&s.size>s.data.length,m=u&&s.data&&s.data[s.data.length-1]?.aliases.length<a;return[s,{aliases:o,initialDataLoaded:u,isEmpty:c,loadMore:()=>s.setSize(e=>e+1),isLoadingMore:d,isReachingEnd:m,mutate:s.mutate}]}(u,2e3),X=(0,r.useMemo)(()=>o,[a]),ee=()=>{y("initial"),D(n||R||null),i()},et=(0,r.useCallback)(async e=>{if(!M)return;let t=`${(0,S.API_DEPLOYMENT_ROLLBACK)(u,e)}${(0,v.encode)({teamId:N?.id,description:x.trim()})}`;try{await (0,j.fetchAPI)(t,{throwOnHTTPError:!0,method:"POST",body:{}}),N&&(void 0!==H&&(0,P.revalidateProject)(h,H),await h((0,$.getProjectProductionDeploymentKey)({projectIdOrName:u,teamId:N.slug})),h((0,W.getRollingReleaseEndpoint)(N.slug,u)))}catch(e){k.error({text:"Something went wrong - please try requesting an Instant Rollback again",key:"rollback-deployment"}),(0,_.captureError)(e)}},[M,u,k,x,h,N,H]),er={rollbackDeploymentId:G,hasFloatingAliases:!!V,jobStatus:J,onCancel:ee,previousDeployment:R,productionBranch:s,productionDeployment:X,productionAliases:U.map(e=>{let{alias:t}=e;return t}),project:H,rollbackCandidates:c,setStage:q,selectedDeployment:L,setSelectedDeployment:F,deploymentSwr:d,statusSwr:Q,requestRollback:et,rollbackWarningText:"New deployments will not be automatically assigned production domains until this rollback is removed.",rollbackReason:x,setRollbackReason:w,rollbackDescription:m};return(0,t.jsxs)(p.Modal.Modal,{active:a,"data-testid":(0,b.tid)("deployment","rollback-modal"),onClickOutside:ee,sticky:!0,width:"500px",children:["initial"===g&&(0,t.jsx)(Y,{...er}),"selected"===g&&(0,t.jsx)(Z,{...er}),["processing","error","done"].includes(g)&&(0,t.jsx)(K,{...er})]})}var X=e.i(5771992),ee=e.i(5645345),et=e.i(3981247);e.i(3182268);var er=e.i(7849855);e.s(["useInstantRollbackModal",0,function(e){let{onClose:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[i,s]=(0,r.useState)(!1),[u,c]=(0,r.useState)(),{teamSlug:d,projectSlug:m}=(0,er.useProjectAndTeamSlug)(),{data:p}=(0,A.useProject)(u?.name),f=m??u?.name,h=e??p,{data:g}=(0,et.useRollingRelease)({teamIdOrSlug:d,projectSlug:f}),y=g?.rollingRelease?g?.rollingRelease?.canaryDeployment?.id:void 0,{deployment:x,rollbackDescription:b,mutate:v}=(0,o.useProjectProductionDeployment)(h?.name),{can:j}=(0,a.default)({projectIdOrName:h?.name}),S=j(n.Action.Create,n.Resource.DeploymentRollback),w=h?.link?.productionBranch?h.link.productionBranch:void 0,[T,_]=(0,X.useDeploymentsInfinite)({projectId:h?h.id:"",requireProject:!0,limit:10,rollbackCandidate:!0},{}),{deployments:M,initialDataLoaded:N}=_,C=M.filter(e=>!!e.isRollbackCandidate&&e.uid!==y),E=!!(N&&h&&!C.length),k=(0,r.useCallback)(e=>{c((0,ee.asListDeployment)(e)),s(!0)},[]),R=(0,r.useCallback)(()=>{s(!1),v().finally(()=>null),l?.()},[v,l]);return{rollbackModal:(0,r.useMemo)(()=>S&&i&&x&&h?(0,t.jsx)(Q,{active:i,initialSelectedDeployment:u,onCancel:R,productionBranch:w,productionDeployment:x,projectId:h.id,rollbackCandidates:C,rollbackDescription:b,swr:_}):null,[S,i,u,w,x,C,h,_,R,b]),closeRollbackModal:R,openRollbackModal:k,canRollbackDeployment:S,noRollbackCandidates:E,previousDeployment:(0,r.useMemo)(()=>{let e=C.filter(e=>e.uid!==x?.id);return(0,I.getMostRecentlyPromotedDeployment)(e)},[C,x?.id])}},"useRollbackTooltip",0,function(e,t){let{team:a}=(0,l.useTeam)(),n=!a||a.billing?.plan==="hobby",{value:u}=(0,i.useInstantRollbackHobbyRestrictionFlag)(),{value:c}=(0,s.useInstantRollbackHobbyRestrictionTeamFlag)(),d=u||c,m=e?.name,{deployment:p,isLoading:f}=(0,o.useProjectProductionDeployment)(m);return(0,r.useMemo)(()=>{let r=(0,ee.asListDeployment)(e);if(!r)return"";if(f)return"Loadingâ€¦";if("readyState"in r&&"READY"!==r.readyState)return"Only Deployments that are Ready can be rolled back.";if("readySubstate"in r&&"PROMOTED"!==r.readySubstate)return"Only Deployments previously aliased to a Production domain can be rolled back.";if(r.uid===p?.id)return"This Deployment is already in Production.";if(d&&n){if(!r.isRollbackCandidate&&"production"!==r.target)return"Only Deployments previously aliased to a Production domain can be rolled back.";if(t&&r.uid!==t.uid)return"Hobby customers can only roll back to the previous deployment."}return r.isRollbackCandidate?"":"Only Deployments previously aliased to a Production domain can be rolled back."},[e,n,f,p?.id,d,t])}],9365163)},1903055,e=>{"use strict";var t=e.i(5055462);e.s(["default",0,function(e){if(!(!e||e instanceof TypeError||"network_error"===e.code||"rate_limited"===e.code||"too_many_requests"===e.code||"cancelled"===e.message||(0,t.isUnloading)())&&504!==e.status&&!e.saml)throw e.isDashboard=!0,e}])},4218798,e=>{"use strict";var t=e.i(5338940);e.s(["useProjectTransferring",0,function(e){return!!e&&!!(e.transferStartedAt&&!e.transferCompletedAt)},"useTransferTarget",0,function(e){let{team:r,teams:l}=(0,t.useTeam)();if(!e)return null;let{transferToAccountId:a}=e;return a?(l||[]).find(e=>e.id===a)||null:r}])},3872542,e=>{"use strict";var t=e.i(4205214);e.s(["PropagatedPropsOmitter",0,function(e){let{children:r}=e;return(0,t.jsx)(t.Fragment,{children:r})}])},9463365,e=>{"use strict";var t=e.i(931197),r=e.i(3738416);function l(e,t){let r=10**t,l=Math.round(e*r)/r;return Number.isNaN(l)?null:l}let{RES:a,FCP:n,LCP:i,CLS:s,TTFB:o,INP:u,FID:c}=t.MetricType,d={[a]:e=>l(e,0),[n]:e=>l(e/1e3,2),[i]:e=>l(e/1e3,2),[s]:e=>l(e,2),[c]:e=>l(e,0),[o]:e=>l(e/1e3,2),[u]:e=>l(e,0)},m=(e,t)=>{let{unit:r,type:l}=t,a=d[l](e)??e;return{value:a,unit:r,full:`${a}${r}`}};e.s(["formatMetric",0,m,"getLabelForDevice",0,e=>({[t.DeviceType.Desktop]:"Desktop",[t.DeviceType.Mobile]:"Mobile"})[e],"getLabelForRating",0,e=>({[t.Rating.Good]:"Great",[t.Rating.Improvable]:"Needs Improvement",[t.Rating.Poor]:"Poor"})[e],"getMetricDescription",0,function(e,t){return e.description.replace("$goodThreshold",m(e.thresholds[t].good,e).full)},"getRatingForThresholds",0,(e,r)=>{let{good:l,poor:a}=e;return l<a?r<=l?t.Rating.Good:r<=a?t.Rating.Improvable:t.Rating.Poor:r>=l?t.Rating.Good:r>=a?t.Rating.Improvable:t.Rating.Poor},"isDisplayingRecentData",0,function(e){let{path:t,route:l,country:a,selector:n,to:i}=e;return!t&&!l&&!a&&!n&&(!i||(0,r.startOfDay)(i).getTime()===(0,r.startOfDay)(Date.now()).getTime())},"mergeAllRatings",0,function(e){let t=[];for(let[r,l]of Object.entries(e??{}))for(let e of l)t.push({...e,rating:r});return t},"unitByMetric",0,{[a]:"",[n]:"s",[i]:"s",[s]:"",[c]:"ms",[o]:"s",[u]:"ms"}])},3405963,e=>{"use strict";var t=e.i(9463365);function r(e,t,r){if(0===e)return"0%";let l=Math.abs(100*e),a=l<.01?4:l<.1?3:l<.99?2:r??0;return new Intl.NumberFormat("en-US",{style:t?"percent":void 0,maximumFractionDigits:a,minimumFractionDigits:a}).format(e)}e.s(["calculateAsPercentOfRequests",0,(e,t)=>null==e||null==t||0===t?0:e/t,"calculateProgressBarStops",0,e=>e?.reduce((e,t)=>{let{targetPercentage:r}=t;return[0,100].includes(r)||e.push({value:r,tooltip:`${r}%`}),e},[]),"formatPercentage",0,r,"formatPercentagePoints",0,function(e,t,r){if(0===e)return"0pp";let l=Math.abs(100*e),a=l<.01?4:l<.1?3:l<.99?2:r??0,n=new Intl.NumberFormat("en-US",{style:"decimal",maximumFractionDigits:a,minimumFractionDigits:a}).format(100*e);return t?`${n}pp`:n},"formatValue",0,function(e){let l,{value:a,unit:n,metricType:i,fallbackValue:s="â€“",showUnit:o=!0,precision:u}=e;if("number"!=typeof a||Number.isNaN(a))return s;if(i){let e=(0,t.formatMetric)(a,{type:i,unit:t.unitByMetric[i]||""});return 0===e.value?s:e.full}return"percent"===n?r(a,o,u):"duration"===n?function(e,t){let r=[{label:"h",value:36e5},{label:"min",value:6e4},{label:"s",value:1e3},{label:"ms",value:1}],{label:l,value:a}=r.find(t=>e>=t.value)||r[r.length-1],n=new Intl.NumberFormat("en-US",{maximumFractionDigits:2,minimumFractionDigits:0}).format(e/a);return t?`${n}${l}`:n}(a,o):(l=Math.abs(a),0===a?"0":l<.01?new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:8}).format(a):new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:2}).format(a))},"getRollingReleaseSettingsEndpoint",0,e=>{let{teamSlug:t,projectSlug:r}=e;return`/${t}/${r}/settings/build-and-deployment#rolling-releases`}])},2084539,e=>{"use strict";var t=e.i(4205214),r=e.i(9334638);e.s(["CustomGaugeIcon",0,function(e){let{percentage:l}=e,a=(e=>{if(e>=100)return"M8 3.5C10.4853 3.5 12.5 5.51472 12.5 8C12.5 10.4853 10.4853 12.5 8 12.5C5.51472 12.5 3.5 10.4853 3.5 8C3.5 5.51472 5.51472 3.5 8 3.5Z";let t=-Math.PI/2+e/100*2*Math.PI,r=8+4.5*Math.cos(t),l=8+4.5*Math.sin(t);return`M 8 8 L 8 3.5 A 4.5 4.5 0 ${+(e>50)} 1 ${r} ${l} Z`})(l),n=(0,r.withNewIcon)(`<path d="M8 1C11.866 1 15 4.13401 15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1ZM8 2.5C4.96243 2.5 2.5 4.96243 2.5 8C2.5 11.0376 4.96243 13.5 8 13.5C11.0376 13.5 13.5 11.0376 13.5 8C13.5 4.96243 11.0376 2.5 8 2.5Z" fill="currentColor" />
     <path d="${a}" fill="currentColor" />`);return(0,t.jsx)(n,{})}])},8270020,e=>{"use strict";var t=e.i(8660982);e.s(["useIsActive",0,function(){let{timeout:e=3e4,debounce:r=100}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[l,a]=(0,t.useState)(!0),n=(0,t.useRef)(void 0);return(0,t.useEffect)(()=>{var t;let l,i=()=>a(!1),[s,o]=(t=()=>{a(!0),clearTimeout(n.current),n.current=setTimeout(i,e)},[function(){for(var e=arguments.length,a=Array(e),n=0;n<e;n++)a[n]=arguments[n];l&&clearTimeout(l),l=setTimeout(()=>t(...a),r)},()=>{l&&clearTimeout(l)}]),u=new AbortController,{signal:c}=u;return n.current=setTimeout(i,e),window.addEventListener("focusin",s,{signal:c}),window.addEventListener("mousemove",s,{signal:c,passive:!0}),window.addEventListener("touchstart",s,{signal:c,passive:!0}),window.addEventListener("keydown",s,{signal:c}),()=>{u.abort(),o(),clearTimeout(n.current)}},[e,r]),l}])},7255560,901996,8168551,e=>{"use strict";var t=e.i(4205214),r=e.i(5677444),l=e.i(8660982),a=e.i(455575),n=e.i(6565161),i=e.i(8042625),s=e.i(277234),o=e.i(4244280),u=e.i(2547843);function c(){let{mutate:e}=(0,n.useSWRConfig)();return async(t,r,l)=>{let a=l.canaryDeployment?.id;if(!a)throw Error("Missing canary deployment ID for completing rolling release");let n=`${(0,o.API_PROJECTS_ROLLING_RELEASE)(r)}/complete${(0,i.encode)({teamId:t})}`,c=await (0,s.fetchAPI)(n,{method:"POST",body:{canaryDeploymentId:a},throwOnHTTPError:!0}),d=(0,u.getRollingReleaseEndpoint)(t,r);d&&await e(d,c)}}e.s(["useCompleteRollingRelease",0,c],901996);var d=e.i(6891161);function m(e){let{isOpen:r,onClose:l,onConfirm:a,title:n,description:i,confirmText:s,confirmType:o="default",loading:u=!1}=e;return(0,t.jsxs)(d.Modal.Modal,{active:r,onClickOutside:()=>{u||l()},children:[(0,t.jsx)(d.Modal.Body,{children:(0,t.jsxs)("div",{className:"flex flex-col items-start justify-start gap-4 flex-initial",children:[(0,t.jsx)(d.Modal.Title,{children:n}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:i})]})}),(0,t.jsxs)(d.Modal.Actions,{children:[(0,t.jsx)(d.Modal.Action,{disabled:u,onClick:l,type:"secondary",children:"Cancel"}),(0,t.jsx)(d.Modal.Action,{loading:u,onClick:a,type:o,children:s})]})]})}e.s(["useCompleteRolloutModal",0,function(e){let{redirectToDeployment:n=!0}=e,i=c(),[s,o]=(0,l.useTransition)(),u=(0,a.useToasts)(),d=(0,r.useRouter)(),[p,f]=(0,l.useState)(!1),[h,g]=(0,l.useState)(null);return{ConfirmCompleteRolloutModal:(0,t.jsx)(m,{isOpen:p,onClose:()=>{f(!1),g(null)},onConfirm:()=>{h&&o(async()=>{try{let{teamSlug:e,projectSlug:t,rollingRelease:r}=h;await i(e,t,r),o(()=>{u.success("Rolling release force completed"),f(!1),g(null);let l=r.canaryDeployment?.id.replace("dpl_","");n&&l&&d.push(`/${e}/${t}/${l}`)})}catch(e){o(()=>{u.error("Error force completing rolling release")})}})},title:"Force Complete Rollout",description:"Are you sure you want to force completion of the rolling release? This will immediately send 100% of traffic to the canary deployment.",confirmText:"Force Complete",loading:s}),openModal:(e,t,r)=>{g({teamSlug:e,projectSlug:t,rollingRelease:r}),f(!0)}}}],7255560);var p=e.i(6060673);e.s(["useAbortRolloutModal",0,function(e){let{redirectToDeployment:c=!0}=e,[d,f]=(0,l.useState)(!1),h=function(){let{mutate:e}=(0,n.useSWRConfig)();return async(t,r,l,a)=>{let n=a.currentDeployment?.id;if(!n)throw Error("Missing current deployment ID for aborting rolling release");let c=`${(0,o.API_DEPLOYMENT_ROLLBACK)(r,n)}${(0,i.encode)({teamId:t})}`,d=await (0,s.fetchAPI)(c,{method:"POST",body:{},throwOnHTTPError:!0}),m=(0,u.getRollingReleaseEndpoint)(t,l);m&&await e(m,d)}}(),[g,y]=(0,l.useTransition)(),x=(0,a.useToasts)(),b=(0,r.useRouter)(),[v,j]=(0,l.useState)(null),{data:S}=(0,p.useProject)(v?.projectSlug);return{ConfirmAbortRolloutModal:(0,t.jsx)(m,{isOpen:d,onClose:()=>{f(!1),j(null)},onConfirm:()=>{v&&y(async()=>{try{let{teamSlug:e,projectSlug:t,rollingRelease:r}=v;if(!S?.id)throw Error("Project ID is required");await h(e,S.id,t,r),y(()=>{x.success("Rolling release aborted"),f(!1),j(null);let l=r.currentDeployment?.id.replace("dpl_","");c&&l&&b.push(`/${e}/${t}/${l}`)})}catch(e){y(()=>{x.error("Error aborting rolling release")})}})},title:"Abort Rollout",description:"Are you sure you want to abort the rolling release? This will stop the rollout and route all traffic to the current production deployment.",confirmText:"Abort Rollout",confirmType:"error",loading:g}),openModal:(e,t,r)=>{j({teamSlug:e,projectSlug:t,rollingRelease:r}),f(!0)}}}],8168551)},3580464,e=>{"use strict";var t=e.i(850302),r=e.i(3657238);let l="deployment-modal:git-deployment";e.s(["useGitDeploymentModalTrigger",0,function(){let{data:e=!1}=(0,t.default)(l,null);return{shouldOpen:e,trigger:()=>(0,r.mutate)(l,!0,!1),reset:()=>(0,r.mutate)(l,!1,!1)}}])},7929810,e=>{"use strict";var t=e.i(3731913);e.s([],4274806),e.i(4274806),e.s(["default",()=>t.default],7929810)}]);

//# debugId=3ee7e405-7e83-3560-a515-2bb2cc1b1986
//# sourceMappingURL=d1b11925e54380d4.js.map