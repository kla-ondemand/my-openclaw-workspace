;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="c48be3c9-d714-54ba-b752-769fc8102b07")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,513116,3699346,4346539,e=>{"use strict";var t=e.i(4205214),n=e.i(5468328),i=e.i(4004502),r=e.i(7218483),s=e.i(2940029),l=e.i(2982888);function a(e){let t=e?.undeleted||e?.deleted||e?.createdAt||e?.created;return{createdAt:t?new Date(t).toLocaleDateString(void 0,{hour:"numeric",minute:"2-digit",second:"2-digit",year:"numeric",month:"short",day:"numeric",timeZoneName:"short"}):"",createdAgo:(0,r.useAgo)(t)}}e.s(["DeploymentCreator",0,function(e){let{deployment:r,...o}=e,{createdAt:c,createdAgo:d}=a(r);return(0,t.jsxs)(s.Attribute.Item,{"data-testid":(0,i.tid)("deployment","creator"),...o,children:[(0,t.jsx)("span",{className:"flex-none",children:(0,t.jsx)(l.DeploymentCreatorAvatar,{deployment:r,iconBackground:!1,showIcon:!1,size:18})}),(0,t.jsx)("span",{className:"text-label-14 -ml-px shrink truncate",children:(0,l.getDeploymentCreatorUsername)({deployment:r})}),(0,t.jsx)(n.Tooltip,{className:"flex-none",text:c,children:(0,t.jsx)("span",{className:"text-gray-900 tabular-nums",children:d})})]})},"useDeploymentCreatedAt",0,a],513116);var o=e.i(5677444),c=e.i(85019),d=e.i(8735244),u=e.i(3978547),m=e.i(4641028),h=e.i(5356862);function p(e,t,n){if(!e||"BUILDING"===e.readyState||!("buildingAt"in e))return;let i="readyStateAt"in e?e.readyStateAt:e.ready;if(!i||!e.buildingAt)return;let r=i-e.buildingAt;if(n)return r;let s=t?.length?(0,h.getChecksTimes)(t,e):void 0,l=s?.checksFinishedAt&&s.checksStartedAt?s.checksFinishedAt-s.checksStartedAt:0,a=e.aliasAssignedAt??("number"==typeof e.aliasAssigned?e.aliasAssigned:void 0),o=0;if(a){let e=s?.checksFinishedAt?a-s.checksFinishedAt:a-i;e<18e5&&(o=e)}return r+l+o}e.s(["DeploymentDuration",0,function(e){let{deployment:l,icon:a,onlyBuild:h=!1,...x}=e,{deleted:g,inProgress:f,finishedAgo:j,ageSinceBuilding:y,deploymentDuration:v,finishedAgoTitle:b}=function(e,t){let n,{teamSlug:i}=(0,o.useParams)()??{},s=(0,r.useAge)(e.buildingAt||void 0,{includeSeconds:!0}),l="id"in e?e.id:e.uid,a="READY"===e.readyState&&e.checksState,{checks:d}=(0,m.default)({deploymentId:a?l:void 0,teamId:i}),u=p(e,d,t)||0,h=u&&e.buildingAt?e.buildingAt+u:void 0,x=void 0!==e.deleted,g=h?new Date(h).toLocaleDateString(void 0,{hour:"numeric",minute:"2-digit",second:"2-digit",year:"numeric",month:"short",day:"numeric",timeZoneName:"short"}):"",f=(0,r.useAgo)(h,{suffix:" ago",alwaysRelative:!0}),j=e.checksState&&!e.checksConclusion,y=!!("BUILDING"===e.readyState||"READY"===e.readyState&&!e.aliasAssigned&&j);return{ageSinceBuilding:s,deploymentDuration:(n=p(e,d,t),(0,c.age)(n,{includeSeconds:!0})||"—"),finishedAgo:f,finishedAgoTitle:g,inProgress:y,finishedAt:h,deleted:x}}(l,h),D=null;return a&&!f&&(D=(0,t.jsx)(u.ClockDashed,{color:"gray-900"})),f&&(D=(0,t.jsx)(d.Spinner,{size:16})),(0,t.jsxs)(s.Attribute.Item,{"aria-label":b,"data-testid":(0,i.tid)("deployment","duration"),className:"tabular-nums",...x,children:[D,g?j:(0,t.jsxs)(t.Fragment,{children:[f?y:v,!f&&j?(0,t.jsx)(n.Tooltip,{text:b,children:(0,t.jsx)("span",{className:"text-gray-900",children:j})}):null]})]})}],3699346);var x=e.i(57106),g=e.i(5479400),f=e.i(4345845),j=e.i(3228096),y=e.i(9386557),v=e.i(3306538),b=e.i(5797774),D=e.i(6613731),N=e.i(475038),C=e.i(4478191),A=e.i(1681029),I=e.i(8660982),k=e.i(822157),S=e.i(2405448),T=e.i(542164);function L(e){let n,{url:i,defaultRoute:r}=e,[s,l]=(0,I.useState)(!1),a=(0,S.default)(i),o=(0,T.default)(i);return(0,t.jsx)(t.Fragment,{children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Link,{as:"button",className:"hover:underline",onClick:()=>l(!0),children:i}),(0,t.jsx)(k.default,{active:s,onCancel:()=>{l(!1)},url:a})]}):(0,t.jsx)(x.Link,{className:"hover:underline",href:(n=(0,A.domainToUrl)(i),(0,C.withDefaultRoute)(n,r)),children:i})})}var w=e.i(8172029),P=e.i(8785423),$=e.i(8822420);e.s(["DeploymentDomains",0,function(e){let{deploymentDomains:i,deployment:r}=e,l=(0,N.useIsViewingPublicDeployment)(),a=(0,D.useWrappedToolbarAuthLinkHandler)({via:"deployment-domains-list",deployment:l?void 0:r}),{branch:c,branchIsMicrofrontendsAlias:d,commit:u,commitIsMicrofrontendsAlias:m,aliases:h,productionAliasesAreMicrofrontendsAliases:p,defaultRoute:I}=i,k=e=>(0,C.withDefaultRoute)(e,I),S=(0,P.useDomainConfigs)(h.filter(e=>!e.endsWith(".vercel.app")).slice(0,10),{strict:!1,projectIdOrName:r.projectId}),T=!!S.data?.some(e=>{if(!e.isOk())return!1;let t=e.value,n=!!(t.recommendedIPv4||t.recommendedCNAME);return"required-change"===t.ipStatus&&!!n}),E=(0,o.useParams)(),R=(0,w.getQueryParam)(E?.teamSlug),z=(0,w.getQueryParam)(E?.project),F=`/${R}/${z}/settings/domains`;return(0,t.jsxs)(t.Fragment,{children:[h.length>0?(0,t.jsxs)(s.Attribute.Item,{Icon:j.Globe,children:[p?(0,t.jsx)(n.Tooltip,{className:"flex-none",position:"left",text:"This domain routes paths only to other production microfrontends deployments",children:(0,t.jsx)($.MicrofrontendsIconInCircle,{className:"bg-gray-100 hover:bg-blue-300 hover:text-blue-900",iconSize:10,size:16})}):null,(0,t.jsx)(L,{defaultRoute:I,url:h[0]}),h.length>1&&(0,t.jsx)(b.ContextCard.Trigger,{content:(0,t.jsxs)("div",{className:"text-label-13 flex flex-col gap-2",children:[(0,t.jsx)("span",{className:"text-gray-900",children:"Assigned Domains"}),(0,t.jsx)("div",{className:"flex flex-col gap-1.5 hover:[&>a]:underline",children:h.slice(1).map(e=>(0,t.jsx)(L,{defaultRoute:I,url:e},e))})]}),children:(0,t.jsxs)(v.Badge,{size:"sm",variant:"gray-subtle",children:["+",h.length-1]})}),T?(0,t.jsx)(n.Tooltip,{text:(0,t.jsxs)("div",{children:["DNS records misconfigured. Update in"," ",(0,t.jsx)(x.Link,{href:F,tab:!0,variant:"highlight",children:"domains settings"})," ","to prevent downtime."]}),position:"top",children:(0,t.jsx)(y.WarningFill,{color:"red-700",size:"sm"})}):null]}):null,c?(0,t.jsxs)(s.Attribute.Item,{children:[(0,t.jsx)(n.Tooltip,{className:"flex-none",position:"left",text:"Latest deployment on branch—updates automatically",children:(0,t.jsx)(f.GitBranch,{color:"gray-900"})}),d?(0,t.jsx)(n.Tooltip,{className:"flex-none",position:"left",text:"This domain routes paths to the latest microfrontend on this branch, or to the fallback if no deployment exists on this branch",children:(0,t.jsx)($.MicrofrontendsIconInCircle,{className:"bg-gray-100 hover:bg-blue-300 hover:text-blue-900",iconSize:10,size:16})}):null,(0,t.jsx)(x.Link,{...a,className:"hover:underline",href:k((0,A.domainToUrl)(c)),children:c})]}):null,(0,t.jsxs)(s.Attribute.Item,{children:[(0,t.jsx)(n.Tooltip,{className:"flex-none",position:"left",text:"Deployment associated with this commit",children:(0,t.jsx)(g.GitCommit,{color:"gray-900"})}),m?(0,t.jsx)(n.Tooltip,{className:"flex-none",position:"left",text:"This domain routes paths to microfrontends deployed at this commit or to the branch fallback if no deployment exists at this commit",children:(0,t.jsx)($.MicrofrontendsIconInCircle,{className:"bg-gray-100 hover:bg-blue-300 hover:text-blue-900",iconSize:10,size:16})}):null,(0,t.jsx)(x.Link,{...a,className:"hover:underline",href:k((0,A.domainToUrl)(u)),children:u})]})]})}],4346539)},9995926,e=>{"use strict";var t=e.i(5677444),n=e.i(4844919);e.s(["useDeploymentEnvironmentLabel",0,e=>{let{deployment:i,customEnvironments:r}=e,{project:s,teamSlug:l}=(0,t.useParams)()??{};return function(e){let{deployment:t,teamSlug:i,projectSlug:r,customEnvironments:s}=e,l=`/${i}/${r}/settings/environments/`;if(!t)return{deploymentTargetLabel:"",deploymentTargetConfigurationUrl:l};if(t.customEnvironment?.slug!==void 0&&t.customEnvironment?.slug!==null)return{deploymentTargetLabel:t.customEnvironment.slug,deploymentTargetConfigurationUrl:`${l}${t.customEnvironment.id}`};if(t.customEnvironment){let e=s?.find(e=>e.id===t.customEnvironment?.id);return e?{deploymentTargetLabel:e.slug,deploymentTargetConfigurationUrl:`${l}${e.id}`}:{deploymentTargetLabel:"(Deleted)",deploymentTargetConfigurationUrl:null}}return null===t.target||void 0===t.target?{deploymentTargetLabel:"Preview",deploymentTargetConfigurationUrl:`${l}preview`}:{deploymentTargetLabel:(0,n.default)(t.target),deploymentTargetConfigurationUrl:`${l}${t.target}`}}({deployment:i,teamSlug:l,projectSlug:s,customEnvironments:r})}])},854134,e=>{"use strict";var t=e.i(4205214),n=e.i(8893913),i=e.i(3753138),r=e.i(3306538),s=e.i(5468328),l=e.i(57106);e.i(3182268);var a=e.i(7849855),o=e.i(9481787),c=e.i(2634426),d=e.i(6107899),u=e.i(3981247),m=e.i(9995926),h=e.i(2940029),p=e.i(5677444),x=e.i(4396019),g=e.i(5002318),f=e.i(4597921),j=e.i(4206574);e.s(["DeploymentEnvironment",0,function(e){let{deployment:y,project:v}=e,b=function(e){let{project:t}=(0,p.useParams)()??{},{deployment:n}=(0,x.useProjectProductionDeployment)(t);return!!(e&&n?.id===(e.id||e.uid))}(y),{teamSlug:D,projectSlug:N}=(0,a.useProjectAndTeamSlug)(),C=b&&v?.lastAliasRequest?.type==="rollback"&&v.lastAliasRequest.toDeploymentId===y.id||!1,{deploymentTargetConfigurationUrl:A,deploymentTargetLabel:I}=(0,m.useDeploymentEnvironmentLabel)({deployment:y}),{data:k}=(0,u.useRollingRelease)({teamIdOrSlug:D,projectSlug:N}),S=k?.rollingRelease,T=S?.canaryDeployment?.id===y.id,L=(0,j.getPromotionStatusInfo)({deployment:y,rollingRelease:S,project:v}),w=L?(0,t.jsx)(g.DeploymentAliasToolTipText,{...L}):null,P="production"===y.target&&"STAGED"===y.readySubstate,$=(0,f.useServerFlag)("promotion-status-visible",!1),E=!P||b||$?null:(0,t.jsx)("span",{className:"text-label-14 text-gray-900",children:" Staged"}),R=null;if(T){let{activeStage:e}=S;e?.targetPercentage&&(E=null,R=(0,t.jsx)(s.Tooltip,{text:w,children:(0,t.jsx)(r.Badge,{size:"sm",variant:"blue-subtle",children:(0,t.jsx)(l.Link,{className:"hover:underline",href:(0,o.getDashboardHref)(`/${N}/deployments/rolling-release`,D||void 0),children:"Canary"})})}))}(b||C)&&(R=(0,t.jsx)(s.Tooltip,{text:w,disableTriggers:!w,children:(0,t.jsxs)(r.Badge,{size:"sm",variant:C?"amber-subtle":"blue-subtle",children:[C?(0,t.jsx)(n.RotateCounterClockwise,{size:12}):null,(0,t.jsx)("span",{style:{paddingLeft:C?.5:void 0},children:"Current"})]})}));let z=c.Layers;return"production"===I.toLowerCase()&&(z=i.ArrowCircleUp),"preview"===I.toLowerCase()&&(z=d.PreviewEye),(0,t.jsxs)(h.Attribute.Item,{Icon:z,className:"flex-wrap",children:[A?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Link,{className:"hover:underline",href:A,children:I}),E]}):(0,t.jsxs)(t.Fragment,{children:[I,E]}),R]})}],854134)},7952998,e=>{"use strict";var t=e.i(4205214),n=e.i(9722978),i=e.i(57106),r=e.i(5479400),s=e.i(4345845),l=e.i(8660982),a=e.i(4597921),o=e.i(3627160),c=e.i(5468328),d=e.i(6064230),u=e.i(5756088),m=e.i(2988836),h=e.i(4899593),p=e.i(2695633),x=e.i(9375869),g=e.i(2940029),f=e.i(6143247);function j(e){let j,y,{deployment:v,singleLine:b=!1,lineClassName:D,branchClassName:N,commitClassName:C,secondLineLinkClassName:A,projectLink:I}=e,k=(0,a.useServerFlag)("open-in-v0-dash-and-toolbar",!1),{meta:S}=v,T=(0,x.useDeploymentLink)(v),L=(0,l.useMemo)(()=>(0,p.getGitMeta)(S,I),[S,I]),w="source"in v?v.source:void 0,P=`${T}/source`;if(j=b?null:L?(0,t.jsx)(g.Attribute.Item,{Icon:s.GitBranch,className:D,mono:!0,children:(0,t.jsx)(i.Link,{className:(0,n.clsx)("truncate font-mono","hover:underline",N),href:L.branchUrl,title:"Git Branch",children:L.branchName})}):(0,t.jsx)(g.Attribute.Item,{Icon:o.Code,className:D,children:(0,t.jsx)(i.Link,{className:(0,n.clsx)("hover:underline z-[2]",N),href:P,children:"View code"})}),L){let e="1"===L.gitDirty,s=L.sha.substring(0,7),[l]=L.commitMessage.split("\n");y=(0,t.jsx)(g.Attribute.Item,{Icon:"cli"===w?d.Terminal:r.GitCommit,className:D,mono:!0,children:(0,t.jsxs)(i.Link,{className:(0,f.cn)("flex gap-1.5 truncate hover:underline",A),href:e?P:L.commitUrl,title:"Git Commit",children:[(0,t.jsx)("span",{className:(0,n.clsx)("font-mono",C),children:e?(0,t.jsx)(c.Tooltip,{className:"flex-none",desktopOnly:!0,text:(0,t.jsxs)("span",{children:["Based on commit ",(0,t.jsx)("code",{children:s})," with additional modifications"]}),children:s}):s}),(0,t.jsx)("span",{className:"truncate text-label-14",title:l,children:l.length>100?`${l.substring(0,100)}…`:l})]})})}else"patch-nextjs-cve-for-v0-deploy"===S.action?y=(0,t.jsxs)(g.Attribute.Item,{Icon:u.LockClosed,className:D,children:[(0,t.jsx)(i.Link,{className:"hover:underline z-[2]",href:"https://vercel.com/changelog/cve-2025-55182",title:"Vercel CVE Patch Info",children:"Automated security deployment"}),(0,t.jsx)(c.Tooltip,{desktopOnly:!0,text:(0,t.jsxs)("span",{children:["This deployment was automatically created to patch a security vulnerability (",(0,t.jsx)(i.Link,{href:"https://vercel.com/changelog/cve-2025-55182",className:"underline",children:"CVE-2025-55182"}),")"]}),children:(0,t.jsx)(m.InformationFillSmall,{className:"relative top-px text-gray-700"})})]}):S.v0&&!k?y=(0,t.jsxs)(g.Attribute.Item,{className:D,children:[(0,t.jsx)(h.V0Mark,{size:16,style:{"--geist-foreground":"var(--ds-gray-900)"}}),(0,t.jsx)(i.Link,{className:"hover:underline z-[2]",href:S.v0BlockId&&S.v0ChatId?`https://v0.app/chat/${S.v0ChatId}?b=${S.v0BlockId}`:"https://v0.app",title:"v0.app",children:"Open in v0"})]}):S.v0||(y=(0,t.jsx)(g.Attribute.Item,{Icon:d.Terminal,className:D,mono:!0,children:(0,t.jsx)(i.Link,{className:"hover:underline z-[2]",href:"/docs/cli/deploy",title:"Vercel CLI Docs",children:"vercel deploy"})}));return(0,t.jsxs)(t.Fragment,{children:[j,y]})}e.s(["DeploymentSource",0,function(e){return(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(j,{...e})})}])},7648666,e=>{"use strict";var t=e.i(4205214),n=e.i(8660982),i=e.i(5677444),r=e.i(513116),s=e.i(3699346),l=e.i(8216525),a=e.i(4346539),o=e.i(854134),c=e.i(7952998),d=e.i(8159863),u=e.i(1585391),m=e.i(3212616);e.s(["CurrentDeploymentCreator",0,function(){let{data:e}=(0,d.useCurrentDashboardDeploymentInterval)();return(0,t.jsx)(r.DeploymentCreator,{deployment:e})},"CurrentDeploymentDomains",0,function(){let{data:e}=(0,d.useCurrentDashboardDeploymentInterval)(),{data:i,mutate:r}=(0,u.useCurrentDashboardDeploymentDomains)(),{readyState:s,readySubstate:l}=e;return(0,n.useEffect)(()=>{"READY"===s&&r()},[l,s,r]),(0,t.jsx)(a.DeploymentDomains,{deployment:e,deploymentDomains:i})},"CurrentDeploymentDuration",0,function(){let{data:e}=(0,d.useCurrentDashboardDeploymentInterval)();return(0,t.jsx)(s.DeploymentDuration,{deployment:e,icon:!0,onlyBuild:!0})},"CurrentDeploymentEnvironment",0,function(){let{data:e}=(0,d.useCurrentDashboardDeploymentInterval)(),{data:n}=(0,m.useCurrentDashboardDeploymentOverviewProject)();return(0,t.jsx)(o.DeploymentEnvironment,{deployment:e,project:n})},"CurrentDeploymentSource",0,function(){let{data:e}=(0,d.useCurrentDashboardDeploymentInterval)(),{data:n}=(0,m.useCurrentDashboardDeploymentOverviewProject)();return(0,t.jsx)(c.DeploymentSource,{deployment:e,projectLink:n?.link})},"CurrentDeploymentStatus",0,function(){let e=(0,i.useParams)(),{data:n}=(0,d.useCurrentDashboardDeploymentInterval)();return(0,t.jsx)(l.DeploymentStatus,{deployment:n,hint:!0,label:!0,projectSlug:e?.project,teamSlug:e?.teamSlug})}])},7132425,e=>{"use strict";var t=e.i(4205214),n=e.i(8660982),i=e.i(8080906),r=e.i(5677444),s=e.i(9722978),l=e.i(5797774),a=e.i(5468328),o=e.i(8216525),c=e.i(3487134),d=e.i(3162826),u=e.i(2988836),m=e.i(57106),h=e.i(6161994),p=e.i(1116271),x=e.i(8822420),g=e.i(6625227),f=e.i(6060673),j=e.i(7643270),y=e.i(7780974),v=e.i(9358876),b=e.i(5136192),D=e.i(5338940),N=e.i(4896636),C=e.i(5771992),A=e.i(4396019),I=e.i(2695633),k=e.i(513116),S=e.i(7648666),T=e.i(1853611);function L(e){let{className:n,hasWarning:i,children:r}=e;return(0,t.jsx)(x.IconInCircleWrapper,{className:(0,s.clsx)({"bg-blue-300 text-blue-900 hover:bg-blue-400":!i,"bg-amber-300 text-amber-900 hover:bg-amber-400":i},n),children:r})}function w(e){let{project:t,viewingDeployment:n}=e,{data:i}=(0,A.useProjectProductionDeployment)(t?.id,{config:{revalidateOnFocus:!1}}),r=(0,I.getGitMeta)(n?.meta),s=r?.branchName,{deployments:l}=(0,C.useDeploymentsInfinite)({limit:1,project:t,branch:s,requireProject:!0,ignoreProjectSlug:!0,readyStateFilter:"BUILDING,ERROR,INITIALIZING,QUEUED,READY",target:n?.customEnvironment?.slug||n?.target||void 0})[1];if(n){let e=s?l[0]:void 0;if(n?.customEnvironment&&n.customEnvironment.slug!==e?.customEnvironment?.slug)return;return e}return i?.deployment}function P(e){let{project:n,viewingDeployment:i}=e,r=w({project:n,viewingDeployment:i});if(!r)return null;let s=+("READY"!==r.readyState);return(0,t.jsx)(o.DeploymentStatus,{deployment:r,className:"absolute",style:{zIndex:s}})}function $(e){let{viewingProject:r,viewingDeployment:s,hideOtherChildren:l,applications:a,pathParams:o,projects:c}=e,[d,u]=(0,n.useState)(!1),m=()=>u(!d),{sortedProjects:h}=(0,j.partitionMicrofrontendsProjects)(c,{viewingProjectName:r?.name,applications:a}),p=h[0],x=r?.name===p.name,g=!r||x,f=g?l?1:4:2,y=d?h.length:f,b=l&&!g?[]:[...h.length>y?[{onClick:m,name:(0,v.pluralize)(1===f?"child project":"other child project",h.length-y,!0),hideArrow:!1,statusDots:(0,t.jsx)("div",{className:"relative flex items-center justify-center size-3",children:h.slice(y).map(e=>(0,t.jsx)(P,{project:e,viewingDeployment:s},e.id))})}]:[],...1===h.length?[{onClick:m,name:"0 child projects",hideArrow:!1}]:[]],D=[...h.slice(0,y),...b],N=(0,n.useRef)(null);return(0,t.jsxs)(t.Fragment,{children:[D.map(e=>(0,t.jsx)(E,{viewingDeployment:s,pathParams:o,projectLink:e,viewingProject:r,tooltipRef:N},e.name)),(0,i.createPortal)((0,t.jsx)("div",{className:"pointer-events-none fixed inset-0 z-[1000000]",ref:N}),document.body)]})}function E(e){let{viewingProject:n,viewingDeployment:i,pathParams:l,projectLink:c,tooltipRef:u}=e,{name:h}=c,p="hideArrow"in c&&c.hideArrow,{isDefaultApp:x}="microfrontends"in c&&c.microfrontends||{},g=n?.name===h,{team:f}=(0,D.useTeam)(),{href:j,statusDot:y,statusDotHref:v}=function(e){let{team:n,project:i,viewingDeployment:r,viewingProject:s,pathParams:l,pathname:a,searchParams:c}=e,d=w({project:i,viewingDeployment:r}),{createdAgo:u}=(0,k.useDeploymentCreatedAt)(d);if(!i||!n)return{href:void 0};let m=d&&"id"in d?d.id:d?.uid;if(r){if(d){let e=`/${n.slug}/${i.name}/${m?.replace("dpl_","")}`;return{href:e,statusDotHref:e,statusDot:(0,t.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[(0,t.jsx)(o.DeploymentStatus,{deployment:d})," ",(0,t.jsx)("span",{className:"text-sm text-gray-900 tabular-nums",children:u})]})}}let e=r.gitSource?.ref;return{href:`/${n.slug}/${i.name}/deployments${e?`?filterBranch=${e}`:""}`}}return{href:a&&s?(0,b.getScopeHref)({pathname:a,pathParams:l,searchParams:c,team:n,project:i}):`/${n.slug}/${i.name}/settings/microfrontends`,statusDotHref:`/${n.slug}/${i.name}/${m?.replace("dpl_","")}`,statusDot:d?(0,t.jsx)(o.DeploymentStatus,{deployment:d}):void 0}}({team:f,project:"id"in c?c:void 0,viewingDeployment:i,viewingProject:n,pathParams:l,pathname:(0,r.usePathname)(),searchParams:(0,r.useSearchParams)()??new URLSearchParams("")}),N="onClick"in c?c.onClick:void 0,C=y||("statusDots"in c?c.statusDots:void 0);return(0,t.jsxs)("div",{className:(0,s.clsx)("flex flex-row items-center gap-1 group min-w-0 max-w-full",!x&&"pl-2"),children:[x?null:(0,t.jsx)(t.Fragment,{children:p?(0,t.jsx)("div",{className:"size-3 flex-shrink-0"}):(0,t.jsx)(d.CornerDownRight,{size:12,className:"flex-shrink-0 !text-gray-900 group-hover:!text-gray-1000"})}),(0,t.jsx)(a.Tooltip,{text:h,containerRef:u,desktopOnly:!0,className:"min-w-0",children:(0,t.jsx)(m.Link,{href:j,type:"secondary",variant:"underline",onClick:N,className:"min-w-0",children:(0,t.jsx)("p",{className:(0,s.clsx)("text-[14px] leading-[20px] truncate",g?"font-medium":"font-normal",!g&&"text-gray-900 hover:text-gray-1000"),children:h})})}),C?(0,t.jsx)(m.Link,{href:v||j,onClick:N,className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"ml-0.5",children:C})}):null]},h)}function R(e){let{pageContext:i,className:s="",groupId:a,side:o="bottom",project:d}=e,[x,v]=(0,n.useState)(!1),b=function(e){let{pageContext:n,groupId:i,project:s}=e,l=(0,r.useParams)()||{},{teamSlug:a,project:o,id:c}=l,d=c?`dpl_${c}`:void 0,{data:x}=(0,g.default)(d),{data:y}=(0,f.useProject)(void 0===s?o:void 0),v=s||y,{data:b,isLoading:D}=(0,p.useMicrofrontendsConfig)({deploymentId:x?.microfrontends?x?.id:void 0}),C=x?.alias.find(e=>e.includes("-git-")),{data:A}=(0,N.default)({domain:C}),I=function(e){let t,{deploymentConfig:n,alias:i,project:r,groupId:s}=e,{data:l}=(0,h.useMicrofrontendsGroups)();i?.microfrontends?.applications&&Array.isArray(i.microfrontends.applications)&&(t=i.microfrontends.applications.reduce((e,t)=>(e[t.projectId]={deploymentId:t.deploymentId},e),{}));let{data:a}=(0,f.useProjects)(Object.keys(t??{})),o=l?.groups.find(e=>e.group.id===r?.microfrontends?.groupIds[0]||e.group.id===s);if(!o)return null;let c=t?n?.config:o.config,d=t?a||[]:o.projects;return{...o,config:c,projects:d,applications:t}}({groupId:i,alias:A,deploymentConfig:b,project:v});if(!a||d&&(!x||D)||o&&!v||!I)return null;let{projects:k,config:T,group:L,applications:w}=I,{missingReferences:P,extraReferences:E}=(0,j.partitionConfigReferencedProjects)(T,k),{defaultProject:R}=(0,j.partitionMicrofrontendsProjects)(k);if(!R)return null;let z=`/${a}/${R.name}/settings/microfrontends`,F=(!T||P.length||E.length)&&(!x||!T||"READY"!==x.readyState)&&!n;return{content:(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-900 @md-page:max-w-[320px]",children:["This ",x?"deployment":"project"," is part of the"," ",(0,t.jsx)(m.Link,{href:z,type:"primary",children:L.name})," ",(0,t.jsx)(m.Link,{href:`/${a}/~/settings/microfrontends`,children:"microfrontends group"}),"."]}),n?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.InformationFillSmall,{}),(0,t.jsx)("span",{className:"text-sm text-gray-900",children:n})]}):null,(0,t.jsx)("div",{className:"flex flex-col items-start gap-2",children:(0,t.jsx)($,{viewingProject:v,viewingDeployment:x,hideOtherChildren:!!(n||F),applications:w,projects:k,pathParams:l})}),x?(0,t.jsxs)("div",{className:"flex flex-col gap-2 text-gray-900",children:[(0,t.jsx)("span",{className:"text-sm",children:"Source"}),(0,t.jsx)(S.CurrentDeploymentSource,{})]}):null,F?(0,t.jsxs)("span",{className:"text-sm text-amber-900",children:[T?(0,t.jsxs)(t.Fragment,{children:["The ",(0,t.jsx)("code",{children:"microfrontends.json"})," file is out of sync with the projects in the group."]}):(0,t.jsxs)(t.Fragment,{children:["A ",(0,t.jsx)("pre",{className:"inline",children:"microfrontends.json"})," file was not uploaded in the production deployment for the default app. A configuration file is required to enable Microfrontends routing."]})," ",(0,t.jsx)(m.Link,{href:z,variant:"blend",children:"See Details"}),"."]}):null]})}),hasWarning:F}}({pageContext:i,groupId:a,project:d}),D=(0,n.useCallback)(e=>{e.target instanceof HTMLElement&&e.target.closest("a[href]")&&(T.analytics.track(y.VercelActivityAction.MicrofrontendsBadgeLinkClicked,{},{send_to:{data_warehouse_legacy:!0}}),v(!0))},[]);if(!b)return null;let{content:C,hasWarning:A}=b,I=(0,t.jsx)("div",{className:"w-fit max-w-[274px] @md-page:max-w-[348px] p-1",onClick:D,children:(0,t.jsx)("div",{className:"flex flex-col gap-2",children:C})});return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(l.ContextCard.Trigger,{content:I,side:o,hide:x,children:(0,t.jsx)("div",{onMouseEnter:()=>v(!1),children:(0,t.jsx)(L,{className:s,hasWarning:!!A,children:(0,t.jsx)(c.Microfrontends,{})})})})})}e.s(["MicrofrontendsBadge",0,function(e){let{project:n}=e,{project:i,id:s}=(0,r.useParams)()||{},l=s?`dpl_${s}`:void 0,{data:a}=(0,g.default)(l),{data:o}=(0,f.useProject)(void 0===n?i:void 0);return(n||o)?.microfrontends||a?.microfrontends?(0,t.jsx)(R,{...e}):null}])}]);

//# debugId=c48be3c9-d714-54ba-b752-769fc8102b07
//# sourceMappingURL=254a8dacdc3fa89d.js.map